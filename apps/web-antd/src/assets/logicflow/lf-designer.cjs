"use strict";var l2=Object.defineProperty;var u2=(e,t,n)=>t in e?l2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zf=(e,t,n)=>u2(e,typeof t!="symbol"?t+"":t,n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("vue"),$d=require("vue-i18n"),v1=e=>Object.prototype.toString.call(e);function c2(e){return v1(e).slice(8,-1).toLowerCase()}const d2=e=>e===null,Bd=e=>typeof e>"u",Na=Array.isArray||(e=>c2(e)==="array"),g1=e=>v1(e)==="[object Object]";function qo(e){return Bd(e)||d2(e)}function Im(e,t){return Array.from({length:e},(n,r)=>t?t(r):r)}var f2=Object.defineProperty,h2=(e,t,n)=>t in e?f2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p2=(e,t,n)=>h2(e,t+"",n);let v2=class{constructor(){p2(this,"_events"),this._events={}}_addListener(t,n,r,o){if(typeof n!="function")throw new TypeError("fn must be a function");n.context=r,n.once=!!o;const i=this._events[t];return qo(i)?this._events[t]=n:typeof i=="function"?this._events[t]=[i,n]:Na(i)&&i.push(n),this}addListener(t,n,r,o){if(Na(t)){for(const i of t)this._addListener(i,n,r,o);return this}return this._addListener(t,n,r,o)}on(t,n,r){return this.addListener(t,n,r)}once(t,n,r){return this._addListener(t,n,r,!0)}emit(t,...n){if(qo(t))throw new Error("emit must receive at lease one argument");const r=this._events[t];return qo(r)?!1:(typeof r=="function"?(r.call(r.context||null,...n),r.once&&this.removeListener(t,r)):Na(r)&&r.forEach(o=>{o.call(o.context||null,...n),o.once&&this.removeListener(t,o)}),this)}_removeListener(t,n){if(qo(this._events))return this;if(!n)return Reflect.deleteProperty(this,t),this;if(typeof n!="function")throw new Error("fn must be a function");const r=this._events[t];if(!r)return this;if(typeof r=="function")r===n&&delete this._events[t];else{const o=r.findIndex(i=>i===n);if(o===-1)return this;o===0?r.shift():r.splice(o,1),r.length===1&&(this._events[t]=r[0])}return this}removeListener(t,n){if(Na(t)){for(const r of t)this._removeListener(r,n);return this}return this._removeListener(t,n)}removeAllListeners(t){if(qo(this._events))return this;if(qo(t))return this._events=Object.create(null);const n=this._events[t];return qo(n)||(Object.keys(this._events).length===1?this._events=Object.create(null):delete this._events[t]),this}hasListener(t,n){const r=this._events[t];return r&&Na(r)&&r.includes(n)}listeners(t){if(!this._events[t])return;const n=this._events[t];return Na(n)?n:[n]}listenersCount(t){const n=this._events[t];return qo(n)?0:typeof n=="function"?1:n.length}eventNames(){return Reflect.ownKeys(this._events)}};new v2;const g2=Math.max,m2=Math.min;function y2(e,t,n){let r,o,i,a,s,l,c=0,d=!1,f=!1,h=!0;t=t||0,g1(n)&&(d=!!n.leading,f="maxWait"in n,i=f?g2(n.maxWait||0,t):0,h="trailing"in n?!!n.trailing:h);function p(b){const w=r,T=o;return r=o=void 0,c=b,a=e.apply(T,w),a}function v(b){return c=b,s=setTimeout(y,t),d?p(b):a}function g(b){const w=b-l,T=b-c,k=t-w;return f?m2(k,i-T):k}function m(b){const w=b-l,T=b-c;return l===void 0||w>=t||w<0||f&&T>=i}function y(){const b=Date.now();if(m(b))return _(b);s=setTimeout(y,g(b))}function _(b){return s=void 0,h&&r?p(b):(r=o=void 0,a)}function C(){s!==void 0&&clearTimeout(s),c=0,r=l=o=s=void 0}function x(){return s===void 0?a:_(Date.now())}function S(...b){const w=Date.now(),T=m(w);if(r=b,o=this,l=w,T){if(s===void 0)return v(l);if(f)return s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),a}return S.cancel=C,S.flush=x,S}function _2(e,t,n){let r=!0,o=!0;return g1(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),y2(e,t,{leading:r,maxWait:t,trailing:o})}const m1="__business-designer__";function b2(e){const t=window.localStorage.getItem(`${m1}${e}`);return t?JSON.parse(t):null}function zv(e,t){window.localStorage.setItem(`${m1}${e}`,JSON.stringify(Bd(t)?"":t))}const fa=Object.prototype.toString;function pr(e){return fa.call(e)==="[object Array]"}function ms(e){return fa.call(e)==="[object Null]"}function $l(e){return fa.call(e)==="[object Boolean]"}function xn(e){return fa.call(e)==="[object Object]"}const jm=e=>fa.call(e)==="[object Promise]";function _i(e){return fa.call(e)==="[object String]"}function ht(e){return fa.call(e)==="[object Number]"&&e===e}function Jn(e){return e===void 0}function un(e){return typeof e=="function"}function w2(e){return xn(e)&&Object.keys(e).length===0}const y1=e=>(e==null?void 0:e.$)!==void 0,Vo=Symbol("ArcoConfigProvider"),Ou={formatYear:"YYYY 年",formatMonth:"YYYY 年 MM 月",today:"今天",view:{month:"月",year:"年",week:"周",day:"日"},month:{long:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"},short:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"}},week:{long:{self:"周",monday:"周一",tuesday:"周二",wednesday:"周三",thursday:"周四",friday:"周五",saturday:"周六",sunday:"周日"},short:{self:"周",monday:"一",tuesday:"二",wednesday:"三",thursday:"四",friday:"五",saturday:"六",sunday:"日"}}},x2={locale:"zh-CN",empty:{description:"暂无数据"},drawer:{okText:"确定",cancelText:"取消"},popconfirm:{okText:"确定",cancelText:"取消"},modal:{okText:"确定",cancelText:"取消"},pagination:{goto:"前往",page:"页",countPerPage:"条/页",total:"共 {0} 条"},table:{okText:"确定",resetText:"重置"},upload:{start:"开始",cancel:"取消",delete:"删除",retry:"点击重试",buttonText:"点击上传",preview:"预览",drag:"点击或拖拽文件到此处上传",dragHover:"释放文件并开始上传",error:"上传失败"},calendar:Ou,datePicker:{view:Ou.view,month:Ou.month,week:Ou.week,placeholder:{date:"请选择日期",week:"请选择周",month:"请选择月份",year:"请选择年份",quarter:"请选择季度",time:"请选择时间"},rangePlaceholder:{date:["开始日期","结束日期"],week:["开始周","结束周"],month:["开始月份","结束月份"],year:["开始年份","结束年份"],quarter:["开始季度","结束季度"],time:["开始时间","结束时间"]},selectTime:"选择时间",today:"今天",now:"此刻",ok:"确定"},image:{loading:"加载中"},imagePreview:{fullScreen:"全屏",rotateRight:"向右旋转",rotateLeft:"向左旋转",zoomIn:"放大",zoomOut:"缩小",originalSize:"原始尺寸"},typography:{copied:"已复制",copy:"复制",expand:"展开",collapse:"折叠",edit:"编辑"},form:{validateMessages:{required:"#{field} 是必填项",type:{string:"#{field} 不是合法的文本类型",number:"#{field} 不是合法的数字类型",boolean:"#{field} 不是合法的布尔类型",array:"#{field} 不是合法的数组类型",object:"#{field} 不是合法的对象类型",url:"#{field} 不是合法的 url 地址",email:"#{field} 不是合法的邮箱地址",ip:"#{field} 不是合法的 IP 地址"},number:{min:"`#{value}` 小于最小值 `#{min}`",max:"`#{value}` 大于最大值 `#{max}`",equal:"`#{value}` 不等于 `#{equal}`",range:"`#{value}` 不在 `#{min} ~ #{max}` 范围内",positive:"`#{value}` 不是正数",negative:"`#{value}` 不是负数"},array:{length:"`#{field}` 个数不等于 #{length}",minLength:"`#{field}` 个数最少为 #{minLength}",maxLength:"`#{field}` 个数最多为 #{maxLength}",includes:"#{field} 不包含 #{includes}",deepEqual:"#{field} 不等于 #{deepEqual}",empty:"`#{field}` 不是空数组"},string:{minLength:"字符数最少为 #{minLength}",maxLength:"字符数最多为 #{maxLength}",length:"字符数必须是 #{length}",match:"`#{value}` 不符合模式 #{pattern}",uppercase:"`#{value}` 必须全大写",lowercase:"`#{value}` 必须全小写"},object:{deepEqual:"`#{field}` 不等于期望值",hasKeys:"`#{field}` 不包含必须字段",empty:"`#{field}` 不是对象"},boolean:{true:"期望是 `true`",false:"期望是 `false`"}}},colorPicker:{history:"最近使用颜色",preset:"系统预设颜色",empty:"暂无"}},E2=u.ref("zh-CN"),C2=u.reactive({"zh-CN":x2}),Fv=()=>{const e=u.inject(Vo,void 0),t=u.computed(()=>{var o;return(o=e==null?void 0:e.locale)!=null?o:C2[E2.value]}),n=u.computed(()=>t.value.locale);return{i18nMessage:t,locale:n,t:(o,...i)=>{const a=o.split(".");let s=t.value;for(const l of a){if(!s[l])return o;s=s[l]}return _i(s)&&i.length>0?s.replace(/{(\d+)}/g,(l,c)=>{var d;return(d=i[c])!=null?d:l}):s}}};var S2=Object.defineProperty,N2=Object.defineProperties,O2=Object.getOwnPropertyDescriptors,Vm=Object.getOwnPropertySymbols,A2=Object.prototype.hasOwnProperty,M2=Object.prototype.propertyIsEnumerable,zm=(e,t,n)=>t in e?S2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T2=(e,t)=>{for(var n in t||(t={}))A2.call(t,n)&&zm(e,n,t[n]);if(Vm)for(var n of Vm(t))M2.call(t,n)&&zm(e,n,t[n]);return e},P2=(e,t)=>N2(e,O2(t));const D2="A",k2="arco",lp="$arco",pn=e=>{var t;return(t=e==null?void 0:e.componentPrefix)!=null?t:D2},vn=(e,t)=>{var n;t&&t.classPrefix&&(e.config.globalProperties[lp]=P2(T2({},(n=e.config.globalProperties[lp])!=null?n:{}),{classPrefix:t.classPrefix}))},Fe=e=>{var t,n,r;const o=u.getCurrentInstance(),i=u.inject(Vo,void 0),a=(r=(n=i==null?void 0:i.prefixCls)!=null?n:(t=o==null?void 0:o.appContext.config.globalProperties[lp])==null?void 0:t.classPrefix)!=null?r:k2;return e?`${a}-${e}`:a};var _1=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(o,i){return o[0]===n?(r=i,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},t.prototype.set=function(n,r){var o=e(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,o=e(r,n);~o&&r.splice(o,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,i=this.__entries__;o<i.length;o++){var a=i[o];n.call(r,a[1],a[0])}},t}()}(),up=typeof window<"u"&&typeof document<"u"&&window.document===document,Oc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),R2=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Oc):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),L2=2;function $2(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&s()}function a(){R2(i)}function s(){var l=Date.now();if(n){if(l-o<L2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=l}return s}var B2=20,I2=["top","right","bottom","left","width","height","size","weight"],j2=typeof MutationObserver<"u",V2=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=$2(this.refresh.bind(this),B2)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!up||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),j2?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!up||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,o=I2.some(function(i){return!!~r.indexOf(i)});o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),b1=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Ka=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Oc},w1=Id(0,0,0,0);function Ac(e){return parseFloat(e)||0}function Fm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,o){var i=e["border-"+o+"-width"];return r+Ac(i)},0)}function z2(e){for(var t=["top","right","bottom","left"],n={},r=0,o=t;r<o.length;r++){var i=o[r],a=e["padding-"+i];n[i]=Ac(a)}return n}function F2(e){var t=e.getBBox();return Id(0,0,t.width,t.height)}function H2(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return w1;var r=Ka(e).getComputedStyle(e),o=z2(r),i=o.left+o.right,a=o.top+o.bottom,s=Ac(r.width),l=Ac(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+i)!==t&&(s-=Fm(r,"left","right")+i),Math.round(l+a)!==n&&(l-=Fm(r,"top","bottom")+a)),!G2(e)){var c=Math.round(s+i)-t,d=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(d)!==1&&(l-=d)}return Id(o.left,o.top,s,l)}var W2=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Ka(e).SVGGraphicsElement}:function(e){return e instanceof Ka(e).SVGElement&&typeof e.getBBox=="function"}}();function G2(e){return e===Ka(e).document.documentElement}function X2(e){return up?W2(e)?F2(e):H2(e):w1}function U2(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(i.prototype);return b1(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}function Id(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Y2=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Id(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=X2(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),K2=function(){function e(t,n){var r=U2(n);b1(this,{target:t,contentRect:r})}return e}(),q2=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new _1,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Ka(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Y2(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Ka(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new K2(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x1=typeof WeakMap<"u"?new WeakMap:new _1,E1=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=V2.getInstance(),r=new q2(t,n,this);x1.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){E1.prototype[e]=function(){var t;return(t=x1.get(this))[e].apply(t,arguments)}});var Hv=function(){return typeof Oc.ResizeObserver<"u"?Oc.ResizeObserver:E1}(),Hm;(function(e){e[e.ELEMENT=1]="ELEMENT",e[e.FUNCTIONAL_COMPONENT=2]="FUNCTIONAL_COMPONENT",e[e.STATEFUL_COMPONENT=4]="STATEFUL_COMPONENT",e[e.COMPONENT=6]="COMPONENT",e[e.TEXT_CHILDREN=8]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=16]="ARRAY_CHILDREN",e[e.SLOTS_CHILDREN=32]="SLOTS_CHILDREN",e[e.TELEPORT=64]="TELEPORT",e[e.SUSPENSE=128]="SUSPENSE",e[e.COMPONENT_SHOULD_KEEP_ALIVE=256]="COMPONENT_SHOULD_KEEP_ALIVE",e[e.COMPONENT_KEPT_ALIVE=512]="COMPONENT_KEPT_ALIVE"})(Hm||(Hm={}));var Wm;(function(e){e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.DEV_ROOT_FRAGMENT=2048]="DEV_ROOT_FRAGMENT",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL"})(Wm||(Wm={}));const Wv=e=>!!(e&&e.shapeFlag&1),Gv=(e,t)=>!!(e&&e.shapeFlag&6),C1=(e,t)=>!!(e&&e.shapeFlag&16),Z2=(e,t)=>!!(e&&e.shapeFlag&32),Ha=e=>{var t,n;if(e)for(const r of e){if(Wv(r)||Gv(r))return r;if(C1(r,r.children)){const o=Ha(r.children);if(o)return o}else if(Z2(r,r.children)){const o=(n=(t=r.children).default)==null?void 0:n.call(t);if(o){const i=Ha(o);if(i)return i}}else if(pr(r)){const o=Ha(r);if(o)return o}}},J2=e=>{if(!e)return!0;for(const t of e)if(t.children)return!1;return!0},S1=(e,t)=>{if(e&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(Wv(r)||Gv(r)){const i=un(t)?t(r):t;return e[n]=u.cloneVNode(r,i,!0),!0}const o=N1(r);if(o&&o.length>0&&S1(o,t))return!0}return!1},N1=e=>{if(C1(e,e.children))return e.children;if(pr(e))return e},O1=e=>{var t,n;if(Wv(e))return e.el;if(Gv(e)){if(((t=e.el)==null?void 0:t.nodeType)===1)return e.el;if((n=e.component)!=null&&n.subTree){const r=O1(e.component.subTree);if(r)return r}}else{const r=N1(e);return A1(r)}},A1=e=>{if(e&&e.length>0)for(const t of e){const n=O1(t);if(n)return n}},Ff=e=>{if(e)return un(e)?e:()=>e};var Q2=u.defineComponent({name:"ResizeObserver",emits:["resize"],setup(e,{emit:t,slots:n}){let r;const o=u.ref(),i=u.computed(()=>y1(o.value)?o.value.$el:o.value),a=l=>{l&&(r=new Hv(c=>{const d=c[0];t("resize",d)}),r.observe(l))},s=()=>{r&&(r.disconnect(),r=null)};return u.watch(i,l=>{r&&s(),l&&a(l)}),u.onMounted(()=>{i.value&&a(i.value)}),u.onUnmounted(()=>{s()}),()=>{var l,c;const d=Ha((c=(l=n.default)==null?void 0:l.call(n))!=null?c:[]);return d?u.cloneVNode(d,{ref:o},!0):null}}});const M1=typeof window>"u"?global:window,eN=M1.requestAnimationFrame,Gm=M1.cancelAnimationFrame;function Xm(e){let t=0;const n=(...r)=>{t&&Gm(t),t=eN(()=>{e(...r),t=0})};return n.cancel=()=>{Gm(t),t=0},n}const Xv=()=>{},T1=()=>{const{body:e}=document,t=document.documentElement;let n;try{n=(window.top||window.self||window).document.body}catch{}return{height:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight,(n==null?void 0:n.scrollHeight)||0,(n==null?void 0:n.clientHeight)||0),width:Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth,(n==null?void 0:n.scrollWidth)||0,(n==null?void 0:n.clientWidth)||0)}},Uv=(()=>{try{return!(typeof window<"u"&&document!==void 0)}catch{return!0}})(),po=Uv?Xv:(e,t,n,r=!1)=>{e.addEventListener(t,n,r)},Ji=Uv?Xv:(e,t,n,r=!1)=>{e.removeEventListener(t,n,r)},tN=(e,t)=>{if(!e||!t)return!1;let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1},nN=e=>{const t=document.createElement("div");return t.setAttribute("class",`arco-overlay arco-overlay-${e}`),t},rN=(e,t)=>{var n;return Uv?Xv():(n=document.querySelector(e))!=null?n:void 0},cp=(e,t)=>{if(_i(e)){const n=e[0]==="#"?`[id='${e.slice(1)}']`:e;return rN(n)}return e},oN=(e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{top:n.top-r.top,bottom:r.bottom-n.bottom,left:n.left-r.left,right:r.right-n.right,width:n.width,height:n.height}},iN=e=>e.tagName==="BODY"?document.documentElement.scrollHeight>window.innerHeight:e.scrollHeight>e.offsetHeight,aN=e=>e.tagName==="BODY"?window.innerWidth-T1().width:e.offsetWidth-e.clientWidth;var _t=(e,t)=>{for(const[n,r]of t)e[n]=r;return e};const sN=u.defineComponent({name:"IconHover",props:{prefix:{type:String},size:{type:String,default:"medium"},disabled:{type:Boolean,default:!1}},setup(){return{prefixCls:Fe("icon-hover")}}});function lN(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("span",{class:u.normalizeClass([e.prefixCls,{[`${e.prefix}-icon-hover`]:e.prefix,[`${e.prefixCls}-size-${e.size}`]:e.size!=="medium",[`${e.prefixCls}-disabled`]:e.disabled}])},[u.renderSlot(e.$slots,"default")],2)}var Jr=_t(sN,[["render",lN]]);const uN=u.defineComponent({name:"IconClose",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-close`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),cN=["stroke-width","stroke-linecap","stroke-linejoin"],dN=u.createElementVNode("path",{d:"M9.857 9.858 24 24m0 0 14.142 14.142M24 24 38.142 9.858M24 24 9.857 38.142"},null,-1),fN=[dN];function hN(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},fN,14,cN)}var Hf=_t(uN,[["render",hN]]);const ou=Object.assign(Hf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Hf.name,Hf)}}),pN=u.defineComponent({name:"IconInfoCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-info-circle-fill`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),vN=["stroke-width","stroke-linecap","stroke-linejoin"],gN=u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm2-30a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2Zm0 17h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1v-8a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11Z",fill:"currentColor",stroke:"none"},null,-1),mN=[gN];function yN(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},mN,14,vN)}var Wf=_t(pN,[["render",yN]]);const _N=Object.assign(Wf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Wf.name,Wf)}}),bN=u.defineComponent({name:"IconCheckCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-check-circle-fill`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),wN=["stroke-width","stroke-linecap","stroke-linejoin"],xN=u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm10.207-24.379a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0L22 26.172l-4.878-4.88a1 1 0 0 0-1.415 0l-1.414 1.415a1 1 0 0 0 0 1.414l7 7a1 1 0 0 0 1.414 0l11.5-11.5Z",fill:"currentColor",stroke:"none"},null,-1),EN=[xN];function CN(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},EN,14,wN)}var Gf=_t(bN,[["render",CN]]);const P1=Object.assign(Gf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Gf.name,Gf)}}),SN=u.defineComponent({name:"IconExclamationCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-exclamation-circle-fill`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),NN=["stroke-width","stroke-linecap","stroke-linejoin"],ON=u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm-2-11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2Zm4-18a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V15Z",fill:"currentColor",stroke:"none"},null,-1),AN=[ON];function MN(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},AN,14,NN)}var Xf=_t(SN,[["render",MN]]);const D1=Object.assign(Xf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Xf.name,Xf)}}),TN=u.defineComponent({name:"IconCloseCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-close-circle-fill`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),PN=["stroke-width","stroke-linecap","stroke-linejoin"],DN=u.createElementVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm4.955-27.771-4.95 4.95-4.95-4.95a1 1 0 0 0-1.414 0l-1.414 1.414a1 1 0 0 0 0 1.414l4.95 4.95-4.95 4.95a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-4.95-4.95 4.95-4.95a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0Z",fill:"currentColor",stroke:"none"},null,-1),kN=[DN];function RN(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},kN,14,PN)}var Uf=_t(TN,[["render",RN]]);const k1=Object.assign(Uf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Uf.name,Uf)}}),LN=["info","success","warning","error"],qa=["onFocus","onFocusin","onFocusout","onBlur","onChange","onBeforeinput","onInput","onReset","onSubmit","onInvalid","onKeydown","onKeypress","onKeyup","onCopy","onCut","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onSelect","autocomplete","autofocus","maxlength","minlength","name","pattern","readonly","required"],$N=u.defineComponent({name:"IconLoading",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-loading`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),BN=["stroke-width","stroke-linecap","stroke-linejoin"],IN=u.createElementVNode("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6"},null,-1),jN=[IN];function VN(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},jN,14,BN)}var Yf=_t($N,[["render",VN]]);const ys=Object.assign(Yf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Yf.name,Yf)}}),zN=u.defineComponent({name:"FeedbackIcon",components:{IconLoading:ys,IconCheckCircleFill:P1,IconExclamationCircleFill:D1,IconCloseCircleFill:k1},props:{type:{type:String}},setup(e){const t=Fe("feedback-icon");return{cls:u.computed(()=>[t,`${t}-status-${e.type}`])}}});function FN(e,t,n,r,o,i){const a=u.resolveComponent("icon-loading"),s=u.resolveComponent("icon-check-circle-fill"),l=u.resolveComponent("icon-exclamation-circle-fill"),c=u.resolveComponent("icon-close-circle-fill");return u.openBlock(),u.createElementBlock("span",{class:u.normalizeClass(e.cls)},[e.type==="validating"?(u.openBlock(),u.createBlock(a,{key:0})):e.type==="success"?(u.openBlock(),u.createBlock(s,{key:1})):e.type==="warning"?(u.openBlock(),u.createBlock(l,{key:2})):e.type==="error"?(u.openBlock(),u.createBlock(c,{key:3})):u.createCommentVNode("v-if",!0)],2)}var Yv=_t(zN,[["render",FN]]);const Kv={key:"Enter",code:"Enter"},HN={key:"Backspace",code:"Backspace"};var WN=Object.defineProperty,Um=Object.getOwnPropertySymbols,GN=Object.prototype.hasOwnProperty,XN=Object.prototype.propertyIsEnumerable,Ym=(e,t,n)=>t in e?WN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UN=(e,t)=>{for(var n in t||(t={}))GN.call(t,n)&&Ym(e,n,t[n]);if(Um)for(var n of Um(t))XN.call(t,n)&&Ym(e,n,t[n]);return e};const iu=(e,t)=>{const n=UN({},e);for(const r of t)r in n&&delete n[r];return n};function qv(e,t){const n={};return t.forEach(r=>{const o=r;r in e&&(n[o]=e[o])}),n}const YN=Symbol("ArcoFormItemContext"),eo=({size:e,disabled:t,error:n,uninject:r}={})=>{const o=r?{}:u.inject(YN,{}),i=u.computed(()=>{var d;return(d=e==null?void 0:e.value)!=null?d:o.size}),a=u.computed(()=>(t==null?void 0:t.value)||o.disabled),s=u.computed(()=>(n==null?void 0:n.value)||o.error),l=u.toRef(o,"feedback"),c=u.toRef(o,"eventHandlers");return{formItemCtx:o,mergedSize:i,mergedDisabled:a,mergedError:s,feedback:l,eventHandlers:c}},zo=(e,{defaultValue:t="medium"}={})=>{const n=u.inject(Vo,void 0);return{mergedSize:u.computed(()=>{var o,i;return(i=(o=e==null?void 0:e.value)!=null?o:n==null?void 0:n.size)!=null?i:t})}};function KN(e){const t=u.ref();function n(){if(!e.value)return;const{selectionStart:o,selectionEnd:i,value:a}=e.value;if(o==null||i==null)return;const s=a.slice(0,Math.max(0,o)),l=a.slice(Math.max(0,i));t.value={selectionStart:o,selectionEnd:i,value:a,beforeTxt:s,afterTxt:l}}function r(){if(!e.value||!t.value)return;const{value:o}=e.value,{beforeTxt:i,afterTxt:a,selectionStart:s}=t.value;if(!i||!a||!s)return;let l=o.length;if(o.endsWith(a))l=o.length-a.length;else if(o.startsWith(i))l=i.length;else{const c=i[s-1],d=o.indexOf(c,s-1);d!==-1&&(l=d+1)}e.value.setSelectionRange(l,l)}return[n,r]}var qN=Object.defineProperty,Km=Object.getOwnPropertySymbols,ZN=Object.prototype.hasOwnProperty,JN=Object.prototype.propertyIsEnumerable,qm=(e,t,n)=>t in e?qN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zm=(e,t)=>{for(var n in t||(t={}))ZN.call(t,n)&&qm(e,n,t[n]);if(Km)for(var n of Km(t))JN.call(t,n)&&qm(e,n,t[n]);return e},dl=u.defineComponent({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,t)=>!0,change:(e,t)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:t,slots:n,attrs:r}){const{size:o,disabled:i,error:a,modelValue:s}=u.toRefs(e),l=Fe("input"),c=u.ref(),{mergedSize:d,mergedDisabled:f,mergedError:h,feedback:p,eventHandlers:v}=eo({size:o,disabled:i,error:a}),{mergedSize:g}=zo(d),[m,y]=KN(c),_=u.ref(e.defaultValue),C=u.computed(()=>{var ve;return(ve=e.modelValue)!=null?ve:_.value});u.watch(s,ve=>{(Jn(ve)||ms(ve))&&(_.value="")});let x=C.value;const S=u.ref(!1),b=u.computed(()=>e.allowClear&&!e.readonly&&!f.value&&!!C.value),w=u.ref(!1),T=u.ref(""),k=ve=>{var oe;return un(e.wordLength)?e.wordLength(ve):(oe=ve.length)!=null?oe:0},I=u.computed(()=>k(C.value)),X=u.computed(()=>h.value||!!(xn(e.maxLength)&&e.maxLength.errorOnly&&I.value>E.value)),te=u.computed(()=>xn(e.maxLength)&&!!e.maxLength.errorOnly),E=u.computed(()=>xn(e.maxLength)?e.maxLength.length:e.maxLength),P=u.computed(()=>{const ve=k("a");return Math.floor(E.value/ve)}),R=ve=>{var oe,xe;E.value&&!te.value&&k(ve)>E.value&&(ve=(xe=(oe=e.wordSlice)==null?void 0:oe.call(e,ve,E.value))!=null?xe:ve.slice(0,P.value)),_.value=ve,t("update:modelValue",ve)},$=ve=>{c.value&&ve.target!==c.value&&(ve.preventDefault(),c.value.focus())},Y=(ve,oe)=>{var xe,Ne;ve!==x&&(x=ve,t("change",ve,oe),(Ne=(xe=v.value)==null?void 0:xe.onChange)==null||Ne.call(xe,oe))},ie=ve=>{var oe,xe;S.value=!0,x=C.value,t("focus",ve),(xe=(oe=v.value)==null?void 0:oe.onFocus)==null||xe.call(oe,ve)},be=ve=>{var oe,xe;S.value=!1,Y(C.value,ve),t("blur",ve),(xe=(oe=v.value)==null?void 0:oe.onBlur)==null||xe.call(oe,ve)},ne=ve=>{var oe,xe,Ne;const{value:dt,selectionStart:st,selectionEnd:M}=ve.target;if(ve.type==="compositionend"){if(w.value=!1,T.value="",E.value&&!te.value&&I.value>=E.value&&k(dt)>E.value&&st===M){W();return}R(dt),t("input",dt,ve),(xe=(oe=v.value)==null?void 0:oe.onInput)==null||xe.call(oe,ve),W()}else w.value=!0,T.value=C.value+((Ne=ve.data)!=null?Ne:"")},W=()=>{m(),u.nextTick(()=>{c.value&&C.value!==c.value.value&&(c.value.value=C.value,y())})},fe=ve=>{var oe,xe;const{value:Ne}=ve.target;if(!w.value){if(E.value&&!te.value&&I.value>=E.value&&k(Ne)>E.value&&ve.inputType==="insertText"){W();return}R(Ne),t("input",Ne,ve),(xe=(oe=v.value)==null?void 0:oe.onInput)==null||xe.call(oe,ve),W()}},ye=ve=>{R(""),Y("",ve),t("clear",ve)},_e=ve=>{const oe=ve.key||ve.code;!w.value&&oe===Kv.key&&(Y(C.value,ve),t("pressEnter",ve))},Se=u.computed(()=>[`${l}-outer`,`${l}-outer-size-${g.value}`,{[`${l}-outer-has-suffix`]:!!n.suffix,[`${l}-outer-disabled`]:f.value}]),L=u.computed(()=>[`${l}-wrapper`,{[`${l}-error`]:X.value,[`${l}-disabled`]:f.value,[`${l}-focus`]:S.value}]),J=u.computed(()=>[l,`${l}-size-${g.value}`]),q=u.computed(()=>iu(r,qa)),de=u.computed(()=>qv(r,qa)),pe=u.computed(()=>{const ve=Zm(Zm({},de.value),e.inputAttrs);return X.value&&(ve["aria-invalid"]=!0),ve}),ue=ve=>{var oe;return u.createVNode("span",u.mergeProps({class:L.value,onMousedown:$},ve?void 0:q.value),[n.prefix&&u.createVNode("span",{class:`${l}-prefix`},[n.prefix()]),u.createVNode("input",u.mergeProps({ref:c,class:J.value,value:C.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:f.value,onInput:fe,onKeydown:_e,onFocus:ie,onBlur:be,onCompositionstart:ne,onCompositionupdate:ne,onCompositionend:ne},pe.value),null),b.value&&u.createVNode(Jr,{prefix:l,class:`${l}-clear-btn`,onClick:ye},{default:()=>[u.createVNode(ou,null,null)]}),(n.suffix||!!e.maxLength&&e.showWordLimit||!!p.value)&&u.createVNode("span",{class:[`${l}-suffix`,{[`${l}-suffix-has-feedback`]:p.value}]},[!!e.maxLength&&e.showWordLimit&&u.createVNode("span",{class:`${l}-word-limit`},[I.value,u.createTextVNode("/"),E.value]),(oe=n.suffix)==null?void 0:oe.call(n),!!p.value&&u.createVNode(Yv,{type:p.value},null)])])};return{inputRef:c,render:()=>n.prepend||n.append?u.createVNode("span",u.mergeProps({class:Se.value},q.value),[n.prepend&&u.createVNode("span",{class:`${l}-prepend`},[n.prepend()]),ue(!0),n.append&&u.createVNode("span",{class:`${l}-append`},[n.append()])]):ue()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const QN=u.defineComponent({name:"IconSearch",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-search`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),eO=["stroke-width","stroke-linecap","stroke-linejoin"],tO=u.createElementVNode("path",{d:"M33.072 33.071c6.248-6.248 6.248-16.379 0-22.627-6.249-6.249-16.38-6.249-22.628 0-6.248 6.248-6.248 16.379 0 22.627 6.248 6.248 16.38 6.248 22.628 0Zm0 0 8.485 8.485"},null,-1),nO=[tO];function rO(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},nO,14,eO)}var Kf=_t(QN,[["render",rO]]);const dp=Object.assign(Kf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Kf.name,Kf)}}),R1=Symbol("ArcoButtonGroup"),oO=u.defineComponent({name:"Button",components:{IconLoading:ys},props:{type:{type:String},shape:{type:String},status:{type:String},size:{type:String},long:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean},htmlType:{type:String,default:"button"},autofocus:{type:Boolean,default:!1},href:String},emits:{click:e=>!0},setup(e,{emit:t}){const{size:n,disabled:r}=u.toRefs(e),o=Fe("btn"),i=u.inject(R1,void 0),a=u.computed(()=>{var p;return(p=n.value)!=null?p:i==null?void 0:i.size}),s=u.computed(()=>!!(r.value||i!=null&&i.disabled)),{mergedSize:l,mergedDisabled:c}=eo({size:a,disabled:s}),{mergedSize:d}=zo(l),f=u.computed(()=>{var p,v,g,m,y,_;return[o,`${o}-${(v=(p=e.type)!=null?p:i==null?void 0:i.type)!=null?v:"secondary"}`,`${o}-shape-${(m=(g=e.shape)!=null?g:i==null?void 0:i.shape)!=null?m:"square"}`,`${o}-size-${d.value}`,`${o}-status-${(_=(y=e.status)!=null?y:i==null?void 0:i.status)!=null?_:"normal"}`,{[`${o}-long`]:e.long,[`${o}-loading`]:e.loading,[`${o}-disabled`]:c.value,[`${o}-link`]:_i(e.href)}]});return{prefixCls:o,cls:f,mergedDisabled:c,handleClick:p=>{if(e.disabled||e.loading){p.preventDefault();return}t("click",p)}}}}),iO=["href"],aO=["type","disabled","autofocus"];function sO(e,t,n,r,o,i){const a=u.resolveComponent("icon-loading");return e.href?(u.openBlock(),u.createElementBlock("a",{key:0,class:u.normalizeClass([e.cls,{[`${e.prefixCls}-only-icon`]:e.$slots.icon&&!e.$slots.default}]),href:e.mergedDisabled||e.loading?void 0:e.href,onClick:t[0]||(t[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[e.loading||e.$slots.icon?(u.openBlock(),u.createElementBlock("span",{key:0,class:u.normalizeClass(`${e.prefixCls}-icon`)},[e.loading?(u.openBlock(),u.createBlock(a,{key:0,spin:"true"})):u.renderSlot(e.$slots,"icon",{key:1})],2)):u.createCommentVNode("v-if",!0),u.renderSlot(e.$slots,"default")],10,iO)):(u.openBlock(),u.createElementBlock("button",{key:1,class:u.normalizeClass([e.cls,{[`${e.prefixCls}-only-icon`]:e.$slots.icon&&!e.$slots.default}]),type:e.htmlType,disabled:e.mergedDisabled,autofocus:e.autofocus,onClick:t[1]||(t[1]=(...s)=>e.handleClick&&e.handleClick(...s))},[e.loading||e.$slots.icon?(u.openBlock(),u.createElementBlock("span",{key:0,class:u.normalizeClass(`${e.prefixCls}-icon`)},[e.loading?(u.openBlock(),u.createBlock(a,{key:0,spin:!0})):u.renderSlot(e.$slots,"icon",{key:1})],2)):u.createCommentVNode("v-if",!0),u.renderSlot(e.$slots,"default")],10,aO))}var qf=_t(oO,[["render",sO]]);const lO=u.defineComponent({name:"ButtonGroup",props:{type:{type:String},status:{type:String},shape:{type:String},size:{type:String},disabled:{type:Boolean}},setup(e){const{type:t,size:n,status:r,disabled:o,shape:i}=u.toRefs(e),a=Fe("btn-group");return u.provide(R1,u.reactive({type:t,size:n,shape:i,status:r,disabled:o})),{prefixCls:a}}});function uO(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(e.prefixCls)},[u.renderSlot(e.$slots,"default")],2)}var fl=_t(lO,[["render",uO]]);const Za=Object.assign(qf,{Group:fl,install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+qf.name,qf),e.component(n+fl.name,fl)}});var Zf=u.defineComponent({name:"InputSearch",props:{searchButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String},buttonText:{type:String},buttonProps:{type:Object}},emits:{search:(e,t)=>!0},setup(e,{emit:t,slots:n}){const{size:r}=u.toRefs(e),o=Fe("input-search"),{mergedSize:i}=zo(r),a=u.ref(),s=f=>{a.value.inputRef&&t("search",a.value.inputRef.value,f)},l=()=>{var f;return u.createVNode(u.Fragment,null,[e.loading?u.createVNode(ys,null,null):u.createVNode(Jr,{onClick:s},{default:()=>[u.createVNode(dp,null,null)]}),(f=n.suffix)==null?void 0:f.call(n)])},c=()=>{var f;let h={};return e.buttonText||n["button-default"]||n["button-icon"]?h={default:(f=n["button-default"])!=null?f:e.buttonText?()=>e.buttonText:void 0,icon:n["button-icon"]}:h={icon:()=>u.createVNode(dp,null,null)},u.createVNode(Za,u.mergeProps({type:"primary",class:`${o}-btn`,disabled:e.disabled,size:i.value,loading:e.loading},e.buttonProps,{onClick:s}),h)};return{inputRef:a,render:()=>u.createVNode(dl,{ref:a,class:o,size:i.value,disabled:e.disabled},{prepend:n.prepend,prefix:n.prefix,suffix:e.searchButton?n.suffix:l,append:e.searchButton?c:n.append})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const cO=u.defineComponent({name:"IconEye",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-eye`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),dO=["stroke-width","stroke-linecap","stroke-linejoin"],fO=u.createElementVNode("path",{"clip-rule":"evenodd",d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z"},null,-1),hO=u.createElementVNode("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},null,-1),pO=[fO,hO];function vO(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},pO,14,dO)}var Jf=_t(cO,[["render",vO]]);const gO=Object.assign(Jf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Jf.name,Jf)}}),mO=u.defineComponent({name:"IconEyeInvisible",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-eye-invisible`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),yO=["stroke-width","stroke-linecap","stroke-linejoin"],_O=u.createElementVNode("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"},null,-1),bO=u.createElementVNode("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"},null,-1),wO=[_O,bO];function xO(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},wO,14,yO)}var Qf=_t(mO,[["render",xO]]);const EO=Object.assign(Qf,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+Qf.name,Qf)}});function Bl(e){const t=u.ref(e);return[t,r=>{t.value=r}]}function CO(e,t){const{value:n}=u.toRefs(t),[r,o]=Bl(Jn(n.value)?e:n.value);return u.watch(n,a=>{Jn(a)&&o(void 0)}),[u.computed(()=>Jn(n.value)?r.value:n.value),o,r]}const SO=u.defineComponent({name:"InputPassword",components:{IconEye:gO,IconEyeInvisible:EO,AIconHover:Jr,AInput:dl},props:{visibility:{type:Boolean,default:void 0},defaultVisibility:{type:Boolean,default:!0},invisibleButton:{type:Boolean,default:!0}},emits:["visibility-change","update:visibility"],setup(e,{emit:t}){const{visibility:n,defaultVisibility:r}=u.toRefs(e),o=u.ref(),i=()=>{l(!a.value)},[a,s]=CO(r.value,u.reactive({value:n})),l=c=>{c!==a.value&&(t("visibility-change",c),t("update:visibility",c),s(c))};return{inputRef:o,mergedVisible:a,handleInvisible:i}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function NO(e,t,n,r,o,i){const a=u.resolveComponent("icon-eye"),s=u.resolveComponent("icon-eye-invisible"),l=u.resolveComponent("a-icon-hover"),c=u.resolveComponent("a-input");return u.openBlock(),u.createBlock(c,{ref:"inputRef",type:e.mergedVisible?"password":"text"},u.createSlots({_:2},[e.$slots.prepend?{name:"prepend",fn:u.withCtx(()=>[u.renderSlot(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:u.withCtx(()=>[u.renderSlot(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:u.withCtx(()=>[e.invisibleButton?(u.openBlock(),u.createBlock(l,{key:0,onClick:e.handleInvisible,onMousedown:t[0]||(t[0]=u.withModifiers(()=>{},["prevent"])),onMouseup:t[1]||(t[1]=u.withModifiers(()=>{},["prevent"]))},{default:u.withCtx(()=>[e.mergedVisible?(u.openBlock(),u.createBlock(s,{key:1})):(u.openBlock(),u.createBlock(a,{key:0}))]),_:1},8,["onClick"])):u.createCommentVNode("v-if",!0),u.renderSlot(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:u.withCtx(()=>[u.renderSlot(e.$slots,"append")])}:void 0]),1032,["type"])}var eh=_t(SO,[["render",NO]]);const OO=u.defineComponent({name:"InputGroup",setup(){return{prefixCls:Fe("input-group")}}});function AO(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(e.prefixCls)},[u.renderSlot(e.$slots,"default")],2)}var Wa=_t(OO,[["render",AO]]);const L1=Object.assign(dl,{Search:Zf,Password:eh,Group:Wa,install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+dl.name,dl),e.component(n+Wa.name,Wa),e.component(n+Zf.name,Zf),e.component(n+eh.name,eh)}});var MO=Object.defineProperty,Jm=Object.getOwnPropertySymbols,TO=Object.prototype.hasOwnProperty,PO=Object.prototype.propertyIsEnumerable,Qm=(e,t,n)=>t in e?MO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ol=(e,t)=>{for(var n in t||(t={}))TO.call(t,n)&&Qm(e,n,t[n]);if(Jm)for(var n of Jm(t))PO.call(t,n)&&Qm(e,n,t[n]);return e};const DO=()=>{const{height:e,width:t}=T1();return{width:Math.min(t,window.innerWidth),height:Math.min(e,window.innerHeight)}},ey=(e,t)=>{var n,r;const o=e.getBoundingClientRect();return{top:o.top,bottom:o.bottom,left:o.left,right:o.right,scrollTop:o.top-t.top,scrollBottom:o.bottom-t.top,scrollLeft:o.left-t.left,scrollRight:o.right-t.left,width:(n=e.offsetWidth)!=null?n:e.clientWidth,height:(r=e.offsetHeight)!=null?r:e.clientHeight}},kO=e=>{switch(e){case"top":case"tl":case"tr":return"top";case"bottom":case"bl":case"br":return"bottom";case"left":case"lt":case"lb":return"left";case"right":case"rt":case"rb":return"right";default:return"top"}},Au=(e,t)=>{switch(t){case"top":switch(e){case"bottom":return"top";case"bl":return"tl";case"br":return"tr";default:return e}case"bottom":switch(e){case"top":return"bottom";case"tl":return"bl";case"tr":return"br";default:return e}case"left":switch(e){case"right":return"left";case"rt":return"lt";case"rb":return"lb";default:return e}case"right":switch(e){case"left":return"right";case"lt":return"rt";case"lb":return"rb";default:return e}default:return e}},RO=(e,t,{containerRect:n,triggerRect:r,popupRect:o,offset:i,translate:a})=>{const s=kO(e),l=DO(),c={top:n.top+t.top,bottom:l.height-(n.top+t.top+o.height),left:n.left+t.left,right:l.width-(n.left+t.left+o.width)};let d=e;if(s==="top"&&c.top<0)if(r.top>o.height)t.top=-n.top;else{const f=il("bottom",r,o,{offset:i,translate:a});l.height-(n.top+f.top+o.height)>0&&(d=Au(e,"bottom"),t.top=f.top)}if(s==="bottom"&&c.bottom<0)if(l.height-r.bottom>o.height)t.top=-n.top+(l.height-o.height);else{const f=il("top",r,o,{offset:i,translate:a});n.top+f.top>0&&(d=Au(e,"top"),t.top=f.top)}if(s==="left"&&c.left<0)if(r.left>o.width)t.left=-n.left;else{const f=il("right",r,o,{offset:i,translate:a});l.width-(n.left+f.left+o.width)>0&&(d=Au(e,"right"),t.left=f.left)}if(s==="right"&&c.right<0)if(l.width-r.right>o.width)t.left=-n.left+(l.width-o.width);else{const f=il("left",r,o,{offset:i,translate:a});n.left+f.left>0&&(d=Au(e,"left"),t.left=f.left)}return(s==="top"||s==="bottom")&&(c.left<0?t.left=-n.left:c.right<0&&(t.left=-n.left+(l.width-o.width))),(s==="left"||s==="right")&&(c.top<0?t.top=-n.top:c.bottom<0&&(t.top=-n.top+(l.height-o.height))),{popupPosition:t,position:d}},il=(e,t,n,{offset:r=0,translate:o=[0,0]}={})=>{var i;const a=(i=pr(o)?o:o[e])!=null?i:[0,0];switch(e){case"top":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+a[0],top:t.scrollTop-n.height-r+a[1]};case"tl":return{left:t.scrollLeft+a[0],top:t.scrollTop-n.height-r+a[1]};case"tr":return{left:t.scrollRight-n.width+a[0],top:t.scrollTop-n.height-r+a[1]};case"bottom":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+a[0],top:t.scrollBottom+r+a[1]};case"bl":return{left:t.scrollLeft+a[0],top:t.scrollBottom+r+a[1]};case"br":return{left:t.scrollRight-n.width+a[0],top:t.scrollBottom+r+a[1]};case"left":return{left:t.scrollLeft-n.width-r+a[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+a[1]};case"lt":return{left:t.scrollLeft-n.width-r+a[0],top:t.scrollTop+a[1]};case"lb":return{left:t.scrollLeft-n.width-r+a[0],top:t.scrollBottom-n.height+a[1]};case"right":return{left:t.scrollRight+r+a[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+a[1]};case"rt":return{left:t.scrollRight+r+a[0],top:t.scrollTop+a[1]};case"rb":return{left:t.scrollRight+r+a[0],top:t.scrollBottom-n.height+a[1]};default:return{left:0,top:0}}},LO=e=>{let t="0";["top","bottom"].includes(e)?t="50%":["left","lt","lb","tr","br"].includes(e)&&(t="100%");let n="0";return["left","right"].includes(e)?n="50%":["top","tl","tr","lb","rb"].includes(e)&&(n="100%"),`${t} ${n}`},$O=(e,t,n,r,{offset:o=0,translate:i=[0,0],customStyle:a={},autoFitPosition:s=!1}={})=>{let l=e,c=il(e,n,r,{offset:o,translate:i});if(s){const f=RO(e,c,{containerRect:t,popupRect:r,triggerRect:n,offset:o,translate:i});c=f.popupPosition,l=f.position}return{style:ol({left:`${c.left}px`,top:`${c.top}px`},a),position:l}},BO=(e,t,n,{customStyle:r={}})=>{if(["top","tl","tr","bottom","bl","br"].includes(e)){let i=Math.abs(t.scrollLeft+t.width/2-n.scrollLeft);return i>n.width-8&&(t.width>n.width?i=n.width/2:i=n.width-8),["top","tl","tr"].includes(e)?ol({left:`${i}px`,bottom:"0",transform:"translate(-50%,50%) rotate(45deg)"},r):ol({left:`${i}px`,top:"0",transform:"translate(-50%,-50%) rotate(45deg)"},r)}let o=Math.abs(t.scrollTop+t.height/2-n.scrollTop);return o>n.height-8&&(t.height>n.height?o=n.height/2:o=n.height-8),["left","lt","lb"].includes(e)?ol({top:`${o}px`,right:"0",transform:"translate(50%,-50%) rotate(45deg)"},r):ol({top:`${o}px`,left:"0",transform:"translate(-50%,-50%) rotate(45deg)"},r)},IO=e=>e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth,ty=e=>{var t;const n=[];let r=e;for(;r&&r!==document.documentElement;)IO(r)&&n.push(r),r=(t=r.parentElement)!=null?t:void 0;return n},$1=()=>{const e={},t=u.ref(),n=()=>{const r=A1(e.value);r!==t.value&&(t.value=r)};return u.onMounted(()=>n()),u.onUpdated(()=>n()),{children:e,firstElement:t}};var fp=u.defineComponent({name:"ResizeObserver",props:{watchOnUpdated:Boolean},emits:["resize"],setup(e,{emit:t,slots:n}){const{children:r,firstElement:o}=$1();let i;const a=l=>{l&&(i=new Hv(c=>{const d=c[0];t("resize",d)}),i.observe(l))},s=()=>{i&&(i.disconnect(),i=null)};return u.watch(o,l=>{i&&s(),l&&a(l)}),u.onBeforeUnmount(()=>{i&&s()}),()=>{var l;return r.value=(l=n.default)==null?void 0:l.call(n),r.value}}});function jO(e,t){const n=u.ref(e[t]);return u.onUpdated(()=>{const r=e[t];n.value!==r&&(n.value=r)}),n}const ny=Symbol("ArcoTrigger"),VO=1e3,zO=5e3,FO=1;class HO{constructor(){this.popupStack={popup:new Set,dialog:new Set,message:new Set},this.getNextZIndex=t=>(t==="message"?Array.from(this.popupStack.message).pop()||zO:Array.from(this.popupStack.popup).pop()||VO)+FO,this.add=t=>{const n=this.getNextZIndex(t);return this.popupStack[t].add(n),t==="dialog"&&this.popupStack.popup.add(n),n},this.delete=(t,n)=>{this.popupStack[n].delete(t),n==="dialog"&&this.popupStack.popup.delete(t)},this.isLastDialog=t=>this.popupStack.dialog.size>1?t===Array.from(this.popupStack.dialog).pop():!0}}const th=new HO;function B1(e,{visible:t,runOnMounted:n}={}){const r=u.ref(0),o=()=>{r.value=th.add(e)},i=()=>{th.delete(r.value,e)},a=()=>e==="dialog"?th.isLastDialog(r.value):!1;return u.watch(()=>t==null?void 0:t.value,s=>{s?o():i()},{immediate:!0}),n&&(u.onMounted(()=>{o()}),u.onBeforeUnmount(()=>{i()})),{zIndex:u.readonly(r),open:o,close:i,isLastDialog:a}}const WO=({elementRef:e,onResize:t})=>{let n;return{createResizeObserver:()=>{e.value&&(n=new Hv(i=>{const a=i[0];un(t)&&t(a)}),n.observe(e.value))},destroyResizeObserver:()=>{n&&(n.disconnect(),n=null)}}};var I1=u.defineComponent({name:"ClientOnly",setup(e,{slots:t}){const n=u.ref(!1);return u.onMounted(()=>n.value=!0),()=>{var r;return n.value?(r=t.default)==null?void 0:r.call(t):null}}});const j1=({popupContainer:e,visible:t,defaultContainer:n="body",documentContainer:r})=>{const o=u.ref(e.value),i=u.ref(),a=()=>{const s=cp(e.value),l=s?e.value:n,c=s??(r?document.documentElement:cp(n));l!==o.value&&(o.value=l),c!==i.value&&(i.value=c)};return u.onMounted(()=>a()),u.watch(t,s=>{o.value!==e.value&&s&&a()}),{teleportContainer:o,containerRef:i}};var GO=Object.defineProperty,XO=Object.defineProperties,UO=Object.getOwnPropertyDescriptors,ry=Object.getOwnPropertySymbols,YO=Object.prototype.hasOwnProperty,KO=Object.prototype.propertyIsEnumerable,oy=(e,t,n)=>t in e?GO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qO=(e,t)=>{for(var n in t||(t={}))YO.call(t,n)&&oy(e,n,t[n]);if(ry)for(var n of ry(t))KO.call(t,n)&&oy(e,n,t[n]);return e},ZO=(e,t)=>XO(e,UO(t));const JO=["onClick","onMouseenter","onMouseleave","onFocusin","onFocusout","onContextmenu"];var nh=u.defineComponent({name:"Trigger",inheritAttrs:!1,props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},popupOffset:{type:Number,default:0},popupTranslate:{type:[Array,Object]},showArrow:{type:Boolean,default:!1},alignPoint:{type:Boolean,default:!1},popupHoverStay:{type:Boolean,default:!0},blurToClose:{type:Boolean,default:!0},clickToClose:{type:Boolean,default:!0},clickOutsideToClose:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupStyle:{type:Object},animationName:{type:String,default:"fade-in"},duration:{type:[Number,Object]},mouseEnterDelay:{type:Number,default:100},mouseLeaveDelay:{type:Number,default:100},focusDelay:{type:Number,default:0},autoFitPopupWidth:{type:Boolean,default:!1},autoFitPopupMinWidth:{type:Boolean,default:!1},autoFixPosition:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},updateAtScroll:{type:Boolean,default:!1},autoFitTransformOrigin:{type:Boolean,default:!1},hideEmpty:{type:Boolean,default:!1},openedClass:{type:[String,Array,Object]},autoFitPosition:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},preventFocus:{type:Boolean,default:!1},scrollToClose:{type:Boolean,default:!1},scrollToCloseDistance:{type:Number,default:0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,show:()=>!0,hide:()=>!0,resize:()=>!0},setup(e,{emit:t,slots:n,attrs:r}){const{popupContainer:o}=u.toRefs(e),i=Fe("trigger"),a=u.computed(()=>iu(r,JO)),s=u.inject(Vo,void 0),l=u.computed(()=>[].concat(e.trigger)),c=new Set,d=u.inject(ny,void 0),{children:f,firstElement:h}=$1(),p=u.ref(),v=u.ref(e.defaultPopupVisible),g=u.ref(e.position),m=u.ref({}),y=u.ref({}),_=u.ref({}),C=u.ref(),x=u.ref({top:0,left:0});let S=null,b=null;const w=u.computed(()=>{var V;return(V=e.popupVisible)!=null?V:v.value}),{teleportContainer:T,containerRef:k}=j1({popupContainer:o,visible:w,documentContainer:!0}),{zIndex:I}=B1("popup",{visible:w});let X=0,te=!1,E=!1;const P=()=>{X&&(window.clearTimeout(X),X=0)},R=V=>{if(e.alignPoint){const{pageX:H,pageY:me}=V;x.value={top:me,left:H}}},$=()=>{if(!h.value||!p.value||!k.value)return;const V=k.value.getBoundingClientRect(),H=e.alignPoint?{top:x.value.top,bottom:x.value.top,left:x.value.left,right:x.value.left,scrollTop:x.value.top,scrollBottom:x.value.top,scrollLeft:x.value.left,scrollRight:x.value.left,width:0,height:0}:ey(h.value,V),me=()=>ey(p.value,V),We=me(),{style:Ve,position:Ht}=$O(e.position,V,H,We,{offset:e.popupOffset,translate:e.popupTranslate,customStyle:e.popupStyle,autoFitPosition:e.autoFitPosition});e.autoFitTransformOrigin&&(y.value={transformOrigin:LO(Ht)}),e.autoFitPopupMinWidth?Ve.minWidth=`${H.width}px`:e.autoFitPopupWidth&&(Ve.width=`${H.width}px`),g.value!==Ht&&(g.value=Ht),m.value=Ve,e.showArrow&&u.nextTick(()=>{_.value=BO(Ht,H,me(),{customStyle:e.arrowStyle})})},Y=(V,H)=>{if(V===w.value&&X===0)return;const me=()=>{v.value=V,t("update:popupVisible",V),t("popupVisibleChange",V),V&&u.nextTick(()=>{$()})};V||(S=null,b=null),H?(P(),V!==w.value&&(X=window.setTimeout(me,H))):me()},ie=V=>{var H;(H=r.onClick)==null||H.call(r,V),!(e.disabled||w.value&&!e.clickToClose)&&(l.value.includes("click")?(R(V),Y(!w.value)):l.value.includes("contextMenu")&&w.value&&Y(!1))},be=V=>{var H;(H=r.onMouseenter)==null||H.call(r,V),!(e.disabled||!l.value.includes("hover"))&&(R(V),Y(!0,e.mouseEnterDelay))},ne=V=>{d==null||d.onMouseenter(V),be(V)},W=V=>{var H;(H=r.onMouseleave)==null||H.call(r,V),!(e.disabled||!l.value.includes("hover"))&&Y(!1,e.mouseLeaveDelay)},fe=V=>{d==null||d.onMouseleave(V),W(V)},ye=V=>{var H;(H=r.onFocusin)==null||H.call(r,V),!(e.disabled||!l.value.includes("focus"))&&Y(!0,e.focusDelay)},_e=V=>{var H;(H=r.onFocusout)==null||H.call(r,V),!(e.disabled||!l.value.includes("focus"))&&e.blurToClose&&Y(!1)},Se=V=>{var H;(H=r.onContextmenu)==null||H.call(r,V),!(e.disabled||!l.value.includes("contextMenu")||w.value&&!e.clickToClose)&&(R(V),Y(!w.value),V.preventDefault())},L=V=>{c.add(V),d==null||d.addChildRef(V)},J=V=>{c.delete(V),d==null||d.removeChildRef(V)};u.provide(ny,u.reactive({onMouseenter:ne,onMouseleave:fe,addChildRef:L,removeChildRef:J}));const q=()=>{Ji(document.documentElement,"mousedown",ue),te=!1},de=jO(n,"content"),pe=u.computed(()=>{var V;return e.hideEmpty&&J2((V=de.value)==null?void 0:V.call(de))}),ue=V=>{var H,me,We;if(!((H=h.value)!=null&&H.contains(V.target)||(me=p.value)!=null&&me.contains(V.target))){for(const Ve of c)if((We=Ve.value)!=null&&We.contains(V.target))return;q(),Y(!1)}},Le=(V,H)=>{const[me,We]=V,{scrollTop:Ve,scrollLeft:Ht}=H;return Math.abs(Ve-me)>=e.scrollToCloseDistance||Math.abs(Ht-We)>=e.scrollToCloseDistance},ve=Xm(V=>{if(w.value)if(e.scrollToClose||s!=null&&s.scrollToClose){const H=V.target;S||(S=[H.scrollTop,H.scrollLeft]),Le(S,H)?Y(!1):$()}else $()}),oe=()=>{Ji(window,"scroll",xe),E=!1},xe=Xm(V=>{const H=V.target.documentElement;b||(b=[H.scrollTop,H.scrollLeft]),Le(b,H)&&(Y(!1),oe())}),Ne=()=>{w.value&&$()},dt=()=>{Ne(),t("resize")},st=V=>{e.preventFocus&&V.preventDefault()};d==null||d.addChildRef(p);const M=u.computed(()=>w.value?e.openedClass:void 0);let D;u.watch(w,V=>{if(e.clickOutsideToClose&&(!V&&te?q():V&&!te&&(po(document.documentElement,"mousedown",ue),te=!0)),(e.scrollToClose||s!=null&&s.scrollToClose)&&(po(window,"scroll",xe),E=!0),e.updateAtScroll||s!=null&&s.updateAtScroll){if(V){D=ty(h.value);for(const H of D)H.addEventListener("scroll",ve)}else if(D){for(const H of D)H.removeEventListener("scroll",ve);D=void 0}}V&&(j.value=!0)}),u.watch(()=>[e.autoFitPopupWidth,e.autoFitPopupMinWidth],()=>{w.value&&$()});const{createResizeObserver:B,destroyResizeObserver:re}=WO({elementRef:k,onResize:Ne});u.onMounted(()=>{if(B(),w.value&&($(),e.clickOutsideToClose&&!te&&(po(document.documentElement,"mousedown",ue),te=!0),e.updateAtScroll||s!=null&&s.updateAtScroll)){D=ty(h.value);for(const V of D)V.addEventListener("scroll",ve)}}),u.onUpdated(()=>{w.value&&$()}),u.onDeactivated(()=>{Y(!1)}),u.onBeforeUnmount(()=>{if(d==null||d.removeChildRef(p),re(),te&&q(),E&&oe(),D){for(const V of D)V.removeEventListener("scroll",ve);D=void 0}});const j=u.ref(w.value),le=u.ref(!1),ae=()=>{le.value=!0},he=()=>{le.value=!1,w.value&&t("show")},G=()=>{le.value=!1,w.value||(j.value=!1,t("hide"))};return()=>{var V,H;return f.value=(H=(V=n.default)==null?void 0:V.call(n))!=null?H:[],S1(f.value,{class:M.value,onClick:ie,onMouseenter:be,onMouseleave:W,onFocusin:ye,onFocusout:_e,onContextmenu:Se}),u.createVNode(u.Fragment,null,[e.autoFixPosition?u.createVNode(fp,{onResize:dt},{default:()=>[f.value]}):f.value,u.createVNode(I1,null,{default:()=>[u.createVNode(u.Teleport,{to:T.value,disabled:!e.renderToBody},{default:()=>[(!e.unmountOnClose||w.value||j.value)&&!pe.value&&u.createVNode(fp,{onResize:Ne},{default:()=>[u.createVNode("div",u.mergeProps({ref:p,class:[`${i}-popup`,`${i}-position-${g.value}`],style:ZO(qO({},m.value),{zIndex:I.value,pointerEvents:le.value?"none":"auto"}),"trigger-placement":g.value,onMouseenter:ne,onMouseleave:fe,onMousedown:st},a.value),[u.createVNode(u.Transition,{name:e.animationName,duration:e.duration,appear:!0,onBeforeEnter:ae,onAfterEnter:he,onBeforeLeave:ae,onAfterLeave:G},{default:()=>{var me;return[u.withDirectives(u.createVNode("div",{class:`${i}-popup-wrapper`,style:y.value},[u.createVNode("div",{class:[`${i}-content`,e.contentClass],style:e.contentStyle},[(me=n.content)==null?void 0:me.call(n)]),e.showArrow&&u.createVNode("div",{ref:C,class:[`${i}-arrow`,e.arrowClass],style:_.value},null)]),[[u.vShow,w.value]])]}})])]})]})]})])}}});const Mc=Object.assign(nh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+nh.name,nh)}}),QO=u.defineComponent({name:"IconEmpty",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-empty`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),eA=["stroke-width","stroke-linecap","stroke-linejoin"],tA=u.createElementVNode("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"},null,-1),nA=[tA];function rA(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},nA,14,eA)}var rh=_t(QO,[["render",rA]]);const oA=Object.assign(rh,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+rh.name,rh)}});var oh=u.defineComponent({name:"Empty",inheritAttrs:!1,props:{description:String,imgSrc:String,inConfigProvider:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){const r=Fe("empty"),{t:o}=Fv(),i=u.inject(Vo,void 0);return()=>{var a,s,l,c;return!e.inConfigProvider&&(i!=null&&i.slots.empty)&&!(t.image||e.imgSrc||e.description)?i.slots.empty({component:"empty"}):u.createVNode("div",u.mergeProps({class:r},n),[u.createVNode("div",{class:`${r}-image`},[(s=(a=t.image)==null?void 0:a.call(t))!=null?s:e.imgSrc?u.createVNode("img",{src:e.imgSrc,alt:e.description||"empty"},null):u.createVNode(oA,null,null)]),u.createVNode("div",{class:`${r}-description`},[(c=(l=t.default)==null?void 0:l.call(t))!=null?c:e.description||o("empty.description")])])}}});const V1=Object.assign(oh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+oh.name,oh)}}),iA=5;var aA=u.defineComponent({name:"DotLoading",props:{size:{type:Number}},setup(e){const t=Fe("dot-loading");return()=>{const n=e.size?{width:`${e.size}px`,height:`${e.size}px`}:{};return u.createVNode("div",{class:t,style:{width:e.size?`${e.size*7}px`:void 0,height:e.size?`${e.size}px`:void 0}},[Array(iA).fill(1).map((r,o)=>u.createVNode("div",{class:`${t}-item`,key:o,style:n},null))])}}}),ih=u.defineComponent({name:"Spin",props:{size:{type:Number},loading:Boolean,dot:Boolean,tip:String,hideIcon:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=Fe("spin"),r=u.inject(Vo,void 0),o=u.computed(()=>[n,{[`${n}-loading`]:e.loading,[`${n}-with-tip`]:e.tip&&!t.default}]),i=()=>{if(t.icon){const s=Ha(t.icon());if(s)return u.cloneVNode(s,{spin:!0})}return t.element?t.element():e.dot?u.createVNode(aA,{size:e.size},null):r!=null&&r.slots.loading?r.slots.loading():u.createVNode(ys,{spin:!0,size:e.size},null)},a=()=>{var s,l,c;const d=e.size?{fontSize:`${e.size}px`}:void 0,f=!!((s=t.tip)!=null?s:e.tip);return u.createVNode(u.Fragment,null,[!e.hideIcon&&u.createVNode("div",{class:`${n}-icon`,style:d},[i()]),f&&u.createVNode("div",{class:`${n}-tip`},[(c=(l=t.tip)==null?void 0:l.call(t))!=null?c:e.tip])])};return()=>u.createVNode("div",{class:o.value},[t.default?u.createVNode(u.Fragment,null,[t.default(),e.loading&&u.createVNode("div",{class:`${n}-mask`},[u.createVNode("div",{class:`${n}-mask-icon`},[a()])])]):a()])}});const sA=Object.assign(ih,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+ih.name,ih)}}),lA=u.defineComponent({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:t}){const n=Fe("scrollbar"),r=u.ref(!1),o=u.ref(),i=u.ref(),a=u.computed(()=>e.direction==="horizontal"?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"}),s=u.ref(0),l=u.ref(!1),c=u.ref(0),d=u.computed(()=>{var _,C;return{[a.value.size]:`${(C=(_=e.data)==null?void 0:_.thumbSize)!=null?C:0}px`,[a.value.direction]:`${s.value}px`}}),f=_=>{_.preventDefault(),i.value&&(c.value=_[a.value.client]-i.value.getBoundingClientRect()[a.value.direction],l.value=!0,po(window,"mousemove",v),po(window,"mouseup",g),po(window,"contextmenu",g))},h=_=>{var C,x,S,b;if(_.preventDefault(),i.value){const w=p(_[a.value.client]>i.value.getBoundingClientRect()[a.value.direction]?s.value+((x=(C=e.data)==null?void 0:C.thumbSize)!=null?x:0):s.value-((b=(S=e.data)==null?void 0:S.thumbSize)!=null?b:0));w!==s.value&&(s.value=w,t("scroll",w))}},p=_=>_<0?0:e.data&&_>e.data.max?e.data.max:_,v=_=>{if(o.value&&i.value){const C=p(_[a.value.client]-o.value.getBoundingClientRect()[a.value.direction]-c.value);C!==s.value&&(s.value=C,t("scroll",C))}},g=()=>{l.value=!1,Ji(window,"mousemove",v),Ji(window,"mouseup",g)},m=_=>{l.value||(_=p(_),_!==s.value&&(s.value=_))},y=u.computed(()=>[`${n}-thumb`,`${n}-thumb-direction-${e.direction}`,{[`${n}-thumb-dragging`]:l.value}]);return{visible:r,trackRef:o,thumbRef:i,prefixCls:n,thumbCls:y,thumbStyle:d,handleThumbMouseDown:f,handleTrackClick:h,setOffset:m}}});function uA(e,t,n,r,o,i){return u.openBlock(),u.createBlock(u.Transition,null,{default:u.withCtx(()=>[u.createElementVNode("div",{ref:"trackRef",class:u.normalizeClass([`${e.prefixCls}-track`,`${e.prefixCls}-track-direction-${e.direction}`]),onMousedown:t[1]||(t[1]=u.withModifiers((...a)=>e.handleTrackClick&&e.handleTrackClick(...a),["self"]))},[u.createElementVNode("div",{ref:"thumbRef",class:u.normalizeClass(e.thumbCls),style:u.normalizeStyle(e.thumbStyle),onMousedown:t[0]||(t[0]=(...a)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...a))},[u.createElementVNode("div",{class:u.normalizeClass(`${e.prefixCls}-thumb-bar`)},null,2)],38)],34)]),_:1})}var cA=_t(lA,[["render",uA]]);const iy=20,Mu=15,dA=u.defineComponent({name:"Scrollbar",components:{ResizeObserver:fp,Thumb:cA},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:t}){const n=Fe("scrollbar"),r=u.ref(),o=u.ref(),i=u.ref(),a=u.ref(),s=u.ref(),l=u.ref(!1),c=u.ref(!1),d=u.computed(()=>l.value&&!e.disableHorizontal),f=u.computed(()=>c.value&&!e.disableVertical),h=u.ref(!1),p=()=>{var x,S,b,w,T,k;if(r.value){const{clientWidth:I,clientHeight:X,offsetWidth:te,offsetHeight:E,scrollWidth:P,scrollHeight:R,scrollTop:$,scrollLeft:Y}=r.value;l.value=P>I,c.value=R>X,h.value=d.value&&f.value;const ie=e.type==="embed"&&h.value?te-Mu:te,be=e.type==="embed"&&h.value?E-Mu:E,ne=Math.round(ie/Math.min(P/I,ie/iy)),W=ie-ne,fe=(P-I)/W,ye=Math.round(be/Math.min(R/X,be/iy)),_e=be-ye,Se=(R-X)/_e;if(o.value={ratio:fe,thumbSize:ne,max:W},i.value={ratio:Se,thumbSize:ye,max:_e},$>0){const L=Math.round($/((S=(x=i.value)==null?void 0:x.ratio)!=null?S:1));(b=s.value)==null||b.setOffset(L)}if(Y>0){const L=Math.round(Y/((T=(w=i.value)==null?void 0:w.ratio)!=null?T:1));(k=a.value)==null||k.setOffset(L)}}};u.onMounted(()=>{p()});const v=()=>{p()},g=x=>{var S,b,w,T,k,I;if(r.value){if(d.value&&!e.disableHorizontal){const X=Math.round(r.value.scrollLeft/((b=(S=o.value)==null?void 0:S.ratio)!=null?b:1));(w=a.value)==null||w.setOffset(X)}if(f.value&&!e.disableVertical){const X=Math.round(r.value.scrollTop/((k=(T=i.value)==null?void 0:T.ratio)!=null?k:1));(I=s.value)==null||I.setOffset(X)}}t("scroll",x)},m=x=>{var S,b;r.value&&r.value.scrollTo({left:x*((b=(S=o.value)==null?void 0:S.ratio)!=null?b:1)})},y=x=>{var S,b;r.value&&r.value.scrollTo({top:x*((b=(S=i.value)==null?void 0:S.ratio)!=null?b:1)})},_=u.computed(()=>{const x={};return e.type==="track"&&(d.value&&(x.paddingBottom=`${Mu}px`),f.value&&(x.paddingRight=`${Mu}px`)),[x,e.outerStyle]}),C=u.computed(()=>[`${n}`,`${n}-type-${e.type}`,{[`${n}-both`]:h.value},e.outerClass]);return{prefixCls:n,cls:C,style:_,containerRef:r,horizontalThumbRef:a,verticalThumbRef:s,horizontalData:o,verticalData:i,isBoth:h,hasHorizontalScrollbar:d,hasVerticalScrollbar:f,handleResize:v,handleScroll:g,handleHorizontalScroll:m,handleVerticalScroll:y}},methods:{scrollTo(e,t){var n,r;xn(e)?(n=this.$refs.containerRef)==null||n.scrollTo(e):(e||t)&&((r=this.$refs.containerRef)==null||r.scrollTo(e,t))},scrollTop(e){var t;(t=this.$refs.containerRef)==null||t.scrollTo({top:e})},scrollLeft(e){var t;(t=this.$refs.containerRef)==null||t.scrollTo({left:e})}}});function fA(e,t,n,r,o,i){const a=u.resolveComponent("ResizeObserver"),s=u.resolveComponent("thumb");return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.style)},[u.createVNode(a,{onResize:e.handleResize},{default:u.withCtx(()=>[u.createElementVNode("div",u.mergeProps({ref:"containerRef",class:`${e.prefixCls}-container`},e.$attrs,{onScroll:t[0]||(t[0]=(...l)=>e.handleScroll&&e.handleScroll(...l))}),[u.createVNode(a,{onResize:e.handleResize},{default:u.withCtx(()=>[u.renderSlot(e.$slots,"default")]),_:3},8,["onResize"])],16)]),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(u.openBlock(),u.createBlock(s,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):u.createCommentVNode("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(u.openBlock(),u.createBlock(s,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):u.createCommentVNode("v-if",!0)],6)}var ah=_t(dA,[["render",fA]]);const hA=Object.assign(ah,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+ah.name,ah)}}),pA=e=>{const t=u.ref(),n=()=>y1(t.value)?t.value.$refs[e]:t.value,r=u.ref();return u.onMounted(()=>{r.value=n()}),u.watch([t],()=>{r.value=n()}),{componentRef:t,elementRef:r}};var vA=Object.defineProperty,ay=Object.getOwnPropertySymbols,gA=Object.prototype.hasOwnProperty,mA=Object.prototype.propertyIsEnumerable,sy=(e,t,n)=>t in e?vA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yA=(e,t)=>{for(var n in t||(t={}))gA.call(t,n)&&sy(e,n,t[n]);if(ay)for(var n of ay(t))mA.call(t,n)&&sy(e,n,t[n]);return e};const _A=e=>{const t=u.computed(()=>!!e.value),n=u.computed(()=>{if(e.value)return yA({type:"embed"},$l(e.value)?void 0:e.value)});return{displayScrollbar:t,scrollbarProps:n}},bA=u.defineComponent({name:"SelectDropdown",components:{ScrollbarComponent:hA,Empty:V1,Spin:sA},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:["scroll","reachBottom"],setup(e,{emit:t,slots:n}){var r,o,i;const{scrollbar:a}=u.toRefs(e),s=Fe("select-dropdown"),l=u.inject(Vo,void 0),c=(i=(o=l==null?void 0:(r=l.slots).empty)==null?void 0:o.call(r,{component:"select"}))==null?void 0:i[0],{componentRef:d,elementRef:f}=pA("containerRef"),{displayScrollbar:h,scrollbarProps:p}=_A(a),v=m=>{const{scrollTop:y,scrollHeight:_,offsetHeight:C}=m.target;_-(y+C)<=e.bottomOffset&&t("reachBottom",m),t("scroll",m)},g=u.computed(()=>[s,{[`${s}-has-header`]:!!n.header,[`${s}-has-footer`]:!!n.footer}]);return{prefixCls:s,SelectEmpty:c,cls:g,wrapperRef:f,wrapperComRef:d,handleScroll:v,displayScrollbar:h,scrollbarProps:p}}});function wA(e,t,n,r,o,i){const a=u.resolveComponent("spin");return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(e.cls)},[e.$slots.header&&(!e.empty||e.showHeaderOnEmpty)?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(`${e.prefixCls}-header`)},[u.renderSlot(e.$slots,"header")],2)):u.createCommentVNode("v-if",!0),e.loading?(u.openBlock(),u.createBlock(a,{key:1,class:u.normalizeClass(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(u.openBlock(),u.createElementBlock("div",{key:2,class:u.normalizeClass(`${e.prefixCls}-empty`)},[u.renderSlot(e.$slots,"empty",{},()=>[(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e.SelectEmpty?e.SelectEmpty:"Empty")))])],2)):u.createCommentVNode("v-if",!0),e.virtualList&&!e.loading&&!e.empty?u.renderSlot(e.$slots,"virtual-list",{key:3}):u.createCommentVNode("v-if",!0),e.virtualList?u.createCommentVNode("v-if",!0):u.withDirectives((u.openBlock(),u.createBlock(u.resolveDynamicComponent(e.displayScrollbar?"ScrollbarComponent":"div"),u.mergeProps({key:4,ref:"wrapperComRef",class:`${e.prefixCls}-list-wrapper`},e.scrollbarProps,{onScroll:e.handleScroll}),{default:u.withCtx(()=>[u.createElementVNode("ul",{class:u.normalizeClass(`${e.prefixCls}-list`)},[u.renderSlot(e.$slots,"default")],2)]),_:3},16,["class","onScroll"])),[[u.vShow,!e.loading&&!e.empty]]),e.$slots.footer&&(!e.empty||e.showFooterOnEmpty)?(u.openBlock(),u.createElementBlock("div",{key:5,class:u.normalizeClass(`${e.prefixCls}-footer`)},[u.renderSlot(e.$slots,"footer")],2)):u.createCommentVNode("v-if",!0)],2)}var xA=_t(bA,[["render",wA]]),ly=u.defineComponent({name:"IconCheck",render(){return u.createVNode("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024",width:"200",height:"200",fill:"currentColor"},[u.createVNode("path",{d:"M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z","p-id":"840"},null)])}});const z1=Symbol("ArcoCheckboxGroup");var cc=u.defineComponent({name:"Checkbox",components:{IconCheck:ly,IconHover:Jr},props:{modelValue:{type:[Boolean,Array],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number,Boolean]},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:n}){const{disabled:r,modelValue:o}=u.toRefs(e),i=Fe("checkbox"),a=u.ref(),s=e.uninjectGroupContext?void 0:u.inject(z1,void 0),l=(s==null?void 0:s.name)==="ArcoCheckboxGroup",{mergedDisabled:c,eventHandlers:d}=eo({disabled:r}),f=u.ref(e.defaultChecked),h=u.computed(()=>{var x;return l?s==null?void 0:s.computedValue:(x=e.modelValue)!=null?x:f.value}),p=u.computed(()=>{var x;return pr(h.value)?h.value.includes((x=e.value)!=null?x:!0):h.value}),v=u.computed(()=>(s==null?void 0:s.disabled)||(c==null?void 0:c.value)||!p.value&&(s==null?void 0:s.isMaxed)),g=x=>{x.stopPropagation()},m=x=>{var S,b,w,T;const{checked:k}=x.target;let I=k;if(pr(h.value)){const X=new Set(h.value);k?X.add((S=e.value)!=null?S:!0):X.delete((b=e.value)!=null?b:!0),I=Array.from(X)}f.value=k,l&&pr(I)?s==null||s.handleChange(I,x):(t("update:modelValue",I),t("change",I,x),(T=(w=d.value)==null?void 0:w.onChange)==null||T.call(w,x)),u.nextTick(()=>{a.value&&a.value.checked!==p.value&&(a.value.checked=p.value)})},y=u.computed(()=>[i,{[`${i}-checked`]:p.value,[`${i}-indeterminate`]:e.indeterminate,[`${i}-disabled`]:v.value}]),_=x=>{var S,b;(b=(S=d.value)==null?void 0:S.onFocus)==null||b.call(S,x)},C=x=>{var S,b;(b=(S=d.value)==null?void 0:S.onBlur)==null||b.call(S,x)};return u.watch(o,x=>{(Jn(x)||ms(x))&&(f.value=!1)}),u.watch(h,x=>{var S;let b;pr(x)?b=x.includes((S=e.value)!=null?S:!0):b=x,f.value!==b&&(f.value=b),a.value&&a.value.checked!==b&&(a.value.checked=b)}),()=>{var x,S,b,w;return u.createVNode("label",{"aria-disabled":v.value,class:y.value},[u.createVNode("input",{ref:a,type:"checkbox",checked:p.value,value:e.value,class:`${i}-target`,disabled:v.value,onClick:g,onChange:m,onFocus:_,onBlur:C},null),(w=(b=(S=n.checkbox)!=null?S:(x=s==null?void 0:s.slots)==null?void 0:x.checkbox)==null?void 0:b({checked:p.value,disabled:v.value}))!=null?w:u.createVNode(Jr,{class:`${i}-icon-hover`,disabled:v.value||p.value},{default:()=>[u.createVNode("div",{class:`${i}-icon`},[p.value&&u.createVNode(ly,{class:`${i}-icon-check`},null)])]}),n.default&&u.createVNode("span",{class:`${i}-label`},[n.default()])])}}}),sh=u.defineComponent({name:"CheckboxGroup",props:{modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:()=>[]},max:{type:Number},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:n}){const{disabled:r}=u.toRefs(e),o=Fe("checkbox-group"),{mergedDisabled:i,eventHandlers:a}=eo({disabled:r}),s=u.ref(e.defaultValue),l=u.computed(()=>pr(e.modelValue)?e.modelValue:s.value),c=u.computed(()=>e.max===void 0?!1:l.value.length>=e.max),d=u.computed(()=>{var v;return((v=e.options)!=null?v:[]).map(g=>_i(g)||ht(g)?{label:g,value:g}:g)}),f=(v,g)=>{var m,y;s.value=v,t("update:modelValue",v),t("change",v,g),(y=(m=a.value)==null?void 0:m.onChange)==null||y.call(m,g)};u.provide(z1,u.reactive({name:"ArcoCheckboxGroup",computedValue:l,disabled:i,isMaxed:c,slots:n,handleChange:f}));const h=u.computed(()=>[o,`${o}-direction-${e.direction}`]);u.watch(()=>e.modelValue,v=>{pr(v)?s.value=[...v]:s.value=[]});const p=()=>d.value.map(v=>{const g=l.value.includes(v.value);return u.createVNode(cc,{key:v.value,value:v.value,disabled:v.disabled||!g&&c.value,indeterminate:v.indeterminate,modelValue:g},{default:()=>[n.label?n.label({data:v}):un(v.label)?v.label():v.label]})});return()=>{var v;return u.createVNode("span",{class:h.value},[d.value.length>0?p():(v=n.default)==null?void 0:v.call(n)])}}});const EA=Object.assign(cc,{Group:sh,install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+cc.name,cc),e.component(n+sh.name,sh)}}),F1=Symbol("ArcoSelectContext");var CA=Object.defineProperty,SA=Object.defineProperties,NA=Object.getOwnPropertyDescriptors,uy=Object.getOwnPropertySymbols,OA=Object.prototype.hasOwnProperty,AA=Object.prototype.propertyIsEnumerable,cy=(e,t,n)=>t in e?CA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zv=(e,t)=>{for(var n in t||(t={}))OA.call(t,n)&&cy(e,n,t[n]);if(uy)for(var n of uy(t))AA.call(t,n)&&cy(e,n,t[n]);return e},H1=(e,t)=>SA(e,NA(t));const MA=e=>xn(e)&&"isGroup"in e,W1=e=>xn(e)&&"isGroup"in e,TA=(e,t="value")=>String(xn(e)?e[t]:e),Il=(e,t="value")=>xn(e)?`__arco__option__object__${e[t]}`:e||ht(e)||_i(e)||$l(e)?`__arco__option__${typeof e}-${e}`:"",PA=e=>e.has("__arco__option__string-"),DA=(e,{valueKey:t,fieldNames:n,origin:r,index:o=-1})=>{var i;if(xn(e)){const s=e[n.value];return{raw:e,index:o,key:Il(s,t),origin:r,value:s,label:(i=e[n.label])!=null?i:TA(s,t),render:e[n.render],disabled:!!e[n.disabled],tagProps:e[n.tagProps]}}const a={value:e,label:String(e),disabled:!1};return Zv({raw:a,index:o,key:Il(e,t),origin:r},a)},hp=(e,{valueKey:t,fieldNames:n,origin:r,optionInfoMap:o})=>{var i;const a=[];for(const s of e)if(MA(s)){const l=hp((i=s.options)!=null?i:[],{valueKey:t,fieldNames:n,origin:r,optionInfoMap:o});l.length>0&&a.push(H1(Zv({},s),{key:`__arco__group__${s.label}`,options:l}))}else{const l=DA(s,{valueKey:t,fieldNames:n,origin:r});a.push(l),o.get(l.key)||o.set(l.key,l)}return a},dy=(e,{inputValue:t,filterOption:n})=>{const r=o=>{var i;const a=[];for(const s of o)if(W1(s)){const l=r((i=s.options)!=null?i:[]);l.length>0&&a.push(H1(Zv({},s),{options:l}))}else jd(s,{inputValue:t,filterOption:n})&&a.push(s);return a};return r(e)},jd=(e,{inputValue:t,filterOption:n})=>un(n)?!t||n(t,e.raw):n?e.label.toLowerCase().includes((t??"").toLowerCase()):!0,kA=(e,t)=>{if(!e||!t||e.length!==t.length)return!1;for(const n of Object.keys(e))if(!Jv(e[n],t[n]))return!1;return!0},RA=(e,t)=>{if(!e||!t)return!1;const{length:n}=e;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(!Jv(e[r],t[r]))return!1;return!0},Jv=(e,t)=>{const n=Object.prototype.toString.call(e);return n!==Object.prototype.toString.call(t)?!1:n==="[object Object]"?kA(e,t):n==="[object Array]"?RA(e,t):n==="[object Function]"?e===t?!0:e.toString()===t.toString():e===t},LA=u.defineComponent({name:"Option",components:{Checkbox:EA},props:{value:{type:[String,Number,Boolean,Object],default:void 0},label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:t,tagProps:n,index:r}=u.toRefs(e),o=Fe("select-option"),i=u.inject(F1,void 0),a=u.getCurrentInstance(),s=u.ref(),l=u.ref(n.value);u.watch(n,(b,w)=>{Jv(b,w)||(l.value=b)});const c=u.ref(""),d=u.computed(()=>{var b,w;return(w=(b=e.value)!=null?b:e.label)!=null?w:c.value}),f=u.computed(()=>{var b;return(b=e.label)!=null?b:c.value}),h=u.computed(()=>Il(d.value,i==null?void 0:i.valueKey)),p=u.computed(()=>{var b;return(b=i==null?void 0:i.component)!=null?b:"li"}),v=()=>{var b;if(!e.label&&s.value){const w=(b=s.value.textContent)!=null?b:"";c.value!==w&&(c.value=w)}};u.onMounted(()=>v()),u.onUpdated(()=>v());const g=u.computed(()=>{var b;return(b=i==null?void 0:i.valueKeys.includes(h.value))!=null?b:!1}),m=u.computed(()=>(i==null?void 0:i.activeKey)===h.value);let y=u.ref(!0);if(!e.internal){const b=u.reactive({raw:{value:d,label:f,disabled:t,tagProps:l},ref:s,index:r,key:h,origin:"slot",value:d,label:f,disabled:t,tagProps:l});y=u.computed(()=>jd(b,{inputValue:i==null?void 0:i.inputValue,filterOption:i==null?void 0:i.filterOption})),a&&(i==null||i.addSlotOptionInfo(a.uid,b)),u.onBeforeUnmount(()=>{a&&(i==null||i.removeSlotOptionInfo(a.uid))})}const _=b=>{e.disabled||i==null||i.onSelect(h.value,b)},C=()=>{e.disabled||i==null||i.setActiveKey(h.value)},x=()=>{e.disabled||i==null||i.setActiveKey()},S=u.computed(()=>[o,{[`${o}-disabled`]:e.disabled,[`${o}-selected`]:g.value,[`${o}-active`]:m.value,[`${o}-multiple`]:i==null?void 0:i.multiple}]);return{prefixCls:o,cls:S,selectCtx:i,itemRef:s,component:p,isSelected:g,isValid:y,handleClick:_,handleMouseEnter:C,handleMouseLeave:x}}});function $A(e,t,n,r,o,i){const a=u.resolveComponent("checkbox");return u.withDirectives((u.openBlock(),u.createBlock(u.resolveDynamicComponent(e.component),{ref:"itemRef",class:u.normalizeClass([e.cls,{[`${e.prefixCls}-has-suffix`]:!!e.$slots.suffix}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:u.withCtx(()=>[e.$slots.icon?(u.openBlock(),u.createElementBlock("span",{key:0,class:u.normalizeClass(`${e.prefixCls}-icon`)},[u.renderSlot(e.$slots,"icon")],2)):u.createCommentVNode("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(u.openBlock(),u.createBlock(a,{key:1,class:u.normalizeClass(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:u.withCtx(()=>[u.renderSlot(e.$slots,"default",{},()=>[u.createTextVNode(u.toDisplayString(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(u.openBlock(),u.createElementBlock("span",{key:2,class:u.normalizeClass(`${e.prefixCls}-content`)},[u.renderSlot(e.$slots,"default",{},()=>[u.createTextVNode(u.toDisplayString(e.label),1)])],2)),e.$slots.suffix?(u.openBlock(),u.createElementBlock("span",{key:3,class:u.normalizeClass(`${e.prefixCls}-suffix`)},[u.renderSlot(e.$slots,"suffix")],2)):u.createCommentVNode("v-if",!0)]),_:3},8,["class","onClick","onMouseenter","onMouseleave"])),[[u.vShow,e.isValid]])}var hl=_t(LA,[["render",$A]]),BA=Object.defineProperty,IA=Object.defineProperties,jA=Object.getOwnPropertyDescriptors,fy=Object.getOwnPropertySymbols,VA=Object.prototype.hasOwnProperty,zA=Object.prototype.propertyIsEnumerable,hy=(e,t,n)=>t in e?BA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lh=(e,t)=>{for(var n in t||(t={}))VA.call(t,n)&&hy(e,n,t[n]);if(fy)for(var n of fy(t))zA.call(t,n)&&hy(e,n,t[n]);return e},FA=(e,t)=>IA(e,jA(t));const HA={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},WA=({options:e,extraOptions:t,inputValue:n,filterOption:r,showExtraOptions:o,valueKey:i,fieldNames:a})=>{const s=u.computed(()=>lh(lh({},HA),a==null?void 0:a.value)),l=u.reactive(new Map),c=u.computed(()=>Array.from(l.values()).sort((C,x)=>ht(C.index)&&ht(x.index)?C.index-x.index:0)),d=u.computed(()=>{var C,x;const S=new Map;return{optionInfos:hp((C=e==null?void 0:e.value)!=null?C:[],{valueKey:(x=i==null?void 0:i.value)!=null?x:"value",fieldNames:s.value,origin:"options",optionInfoMap:S}),optionInfoMap:S}}),f=u.computed(()=>{var C,x;const S=new Map;return{optionInfos:hp((C=t==null?void 0:t.value)!=null?C:[],{valueKey:(x=i==null?void 0:i.value)!=null?x:"value",fieldNames:s.value,origin:"extraOptions",optionInfoMap:S}),optionInfoMap:S}}),h=u.reactive(new Map);u.watch([c,e??u.ref([]),t??u.ref([]),i??u.ref("value")],()=>{h.clear(),c.value.forEach((C,x)=>{h.set(C.key,FA(lh({},C),{index:x}))}),d.value.optionInfoMap.forEach(C=>{h.has(C.key)||(C.index=h.size,h.set(C.key,C))}),f.value.optionInfoMap.forEach(C=>{h.has(C.key)||(C.index=h.size,h.set(C.key,C))})},{immediate:!0,deep:!0});const p=u.computed(()=>{var C;const x=dy(d.value.optionInfos,{inputValue:n==null?void 0:n.value,filterOption:r==null?void 0:r.value});return((C=o==null?void 0:o.value)==null||C)&&x.push(...dy(f.value.optionInfos,{inputValue:n==null?void 0:n.value,filterOption:r==null?void 0:r.value})),x}),v=u.computed(()=>Array.from(h.values()).filter(C=>C.origin==="extraOptions"&&(o==null?void 0:o.value)===!1?!1:jd(C,{inputValue:n==null?void 0:n.value,filterOption:r==null?void 0:r.value}))),g=u.computed(()=>v.value.filter(C=>!C.disabled).map(C=>C.key));return{validOptions:p,optionInfoMap:h,validOptionInfos:v,enabledOptionKeys:g,getNextSlotOptionIndex:()=>l.size,addSlotOptionInfo:(C,x)=>{l.set(C,x)},removeSlotOptionInfo:C=>{l.delete(C)}}},Hi={ENTER:"Enter",ESC:"Escape",BACKSPACE:"Backspace",TAB:"Tab",SPACE:" ",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},py=e=>JSON.stringify({key:e.key,ctrl:!!e.ctrl,shift:!!e.shift,alt:!!e.alt,meta:!!e.meta}),G1=e=>{const t={};return e.forEach((n,r)=>{const o=_i(r)?{key:r}:r;t[py(o)]=n}),n=>{const r=py({key:n.key,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey}),o=t[r];o&&(n.stopPropagation(),o(n))}},GA=({multiple:e,options:t,extraOptions:n,inputValue:r,filterOption:o,showExtraOptions:i,component:a,valueKey:s,fieldNames:l,loading:c,popupVisible:d,valueKeys:f,dropdownRef:h,optionRefs:p,virtualListRef:v,onSelect:g,onPopupVisibleChange:m,enterToOpen:y=!0,defaultActiveFirstOption:_})=>{const{validOptions:C,optionInfoMap:x,validOptionInfos:S,enabledOptionKeys:b,getNextSlotOptionIndex:w,addSlotOptionInfo:T,removeSlotOptionInfo:k}=WA({options:t,extraOptions:n,inputValue:r,filterOption:o,showExtraOptions:i,valueKey:s,fieldNames:l}),I=u.ref();u.watch(b,R=>{(!I.value||!R.includes(I.value))&&(I.value=R[0])});const X=R=>{I.value=R},te=R=>{const $=b.value.length;if($===0)return;if(!I.value)return R==="down"?b.value[0]:b.value[$-1];const Y=b.value.indexOf(I.value),ie=($+Y+(R==="up"?-1:1))%$;return b.value[ie]},E=R=>{var $,Y;v!=null&&v.value&&v.value.scrollTo({key:R});const ie=x.get(R),be=($=h==null?void 0:h.value)==null?void 0:$.wrapperRef,ne=(Y=p==null?void 0:p.value[R])!=null?Y:ie==null?void 0:ie.ref;if(!be||!ne||be.scrollHeight===be.offsetHeight)return;const W=oN(ne,be),fe=be.scrollTop;W.top<0?be.scrollTo(0,fe+W.top):W.bottom<0&&be.scrollTo(0,fe-W.bottom)};u.watch(d,R=>{var $;if(R){const Y=f.value[f.value.length-1];let ie=($=_==null?void 0:_.value)==null||$?b.value[0]:void 0;b.value.includes(Y)&&(ie=Y),ie!==I.value&&(I.value=ie),u.nextTick(()=>{I.value&&E(I.value)})}});const P=G1(new Map([[Hi.ENTER,R=>{!(c!=null&&c.value)&&!R.isComposing&&(d.value?I.value&&(g(I.value,R),R.preventDefault()):y&&(m(!0),R.preventDefault()))}],[Hi.ESC,R=>{d.value&&(m(!1),R.preventDefault())}],[Hi.ARROW_DOWN,R=>{if(d.value){const $=te("down");$&&(I.value=$,E($)),R.preventDefault()}}],[Hi.ARROW_UP,R=>{if(d.value){const $=te("up");$&&(I.value=$,E($)),R.preventDefault()}}]]));return u.provide(F1,u.reactive({multiple:e,valueKey:s,inputValue:r,filterOption:o,component:a,valueKeys:f,activeKey:I,setActiveKey:X,onSelect:g,getNextSlotOptionIndex:w,addSlotOptionInfo:T,removeSlotOptionInfo:k})),{validOptions:C,optionInfoMap:x,validOptionInfos:S,enabledOptionKeys:b,activeKey:I,setActiveKey:X,addSlotOptionInfo:T,removeSlotOptionInfo:k,getNextActiveKey:te,scrollIntoView:E,handleKeyDown:P}},XA=({dataKeys:e,contentRef:t,fixedSize:n,estimatedSize:r,buffer:o})=>{const i=u.ref(0),a=new Map,s=u.computed(()=>e.value.length),l=u.ref(0),c=u.computed(()=>{const w=l.value+o.value*3;return w>s.value?s.value:w}),d=u.computed(()=>{const w=s.value-o.value*3;return w<0?0:w}),f=w=>{w<0?l.value=0:w>d.value?l.value=d.value:l.value=w},h=u.ref(n.value),p=u.computed(()=>r.value!==30?r.value:i.value||r.value),v=(w,T)=>{a.set(w,T)},g=w=>{var T;if(h.value)return p.value;const k=e.value[w];return(T=a.get(k))!=null?T:p.value},m=w=>a.has(w);u.onMounted(()=>{const w=Array.from(a.values()).reduce((T,k)=>T+k,0);w>0&&(i.value=w/a.size)});const y=w=>h.value?p.value*w:_(0,w),_=(w,T)=>{let k=0;for(let I=w;I<T;I++)k+=g(I);return k},C=u.computed(()=>h.value?p.value*l.value:_(0,l.value)),x=w=>{const T=w>=C.value;let k=Math.abs(w-C.value);const I=T?l.value:l.value-1;let X=0;for(;k>0;)k-=g(I+X),T?X++:X--;return X},S=w=>{const T=x(w),k=l.value+T-o.value;return k<0?0:k>d.value?d.value:k},b=u.computed(()=>h.value?p.value*(s.value-c.value):_(c.value,s.value));return{frontPadding:C,behindPadding:b,start:l,end:c,getStartByScroll:S,setItemSize:v,hasItemSize:m,setStart:f,getScrollOffset:y}};var UA=u.defineComponent({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:t}){var n;const r=(n=u.getCurrentInstance())==null?void 0:n.vnode.key,o=u.ref(),i=()=>{var a,s,l,c;const d=(s=(a=o.value)==null?void 0:a.$el)!=null?s:o.value,f=(c=(l=d==null?void 0:d.getBoundingClientRect)==null?void 0:l.call(d).height)!=null?c:d==null?void 0:d.offsetHeight;f&&e.setItemSize(r,f)};return u.onMounted(()=>i()),u.onBeforeUnmount(()=>i()),()=>{var a;const s=Ha((a=t.default)==null?void 0:a.call(t));return s?u.cloneVNode(s,{ref:o},!0):null}}}),YA=Object.defineProperty,vy=Object.getOwnPropertySymbols,KA=Object.prototype.hasOwnProperty,qA=Object.prototype.propertyIsEnumerable,gy=(e,t,n)=>t in e?YA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZA=(e,t)=>{for(var n in t||(t={}))KA.call(t,n)&&gy(e,n,t[n]);if(vy)for(var n of vy(t))qA.call(t,n)&&gy(e,n,t[n]);return e};const JA=u.defineComponent({name:"VirtualList",components:{VirtualListItem:UA},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:t}){const{data:n,itemKey:r,fixedSize:o,estimatedSize:i,buffer:a,height:s}=u.toRefs(e),l=Fe("virtual-list"),c=u.computed(()=>xn(e.component)?ZA({container:"div",list:"div",content:"div"},e.component):{container:e.component,list:"div",content:"div"}),d=u.ref(),f=u.ref(),h=u.computed(()=>({height:ht(s.value)?`${s.value}px`:s.value,overflow:"auto"})),p=u.computed(()=>n.value.map((I,X)=>{var te;return(te=I[r.value])!=null?te:X})),{frontPadding:v,behindPadding:g,start:m,end:y,getStartByScroll:_,setItemSize:C,hasItemSize:x,setStart:S,getScrollOffset:b}=XA({dataKeys:p,contentRef:f,fixedSize:o,estimatedSize:i,buffer:a}),w=u.computed(()=>e.threshold&&n.value.length<=e.threshold?n.value:n.value.slice(m.value,y.value)),T=I=>{const{scrollTop:X,scrollHeight:te,offsetHeight:E}=I.target,P=_(X);P!==m.value&&(S(P),u.nextTick(()=>{k(X)})),t("scroll",I),Math.floor(te-(X+E))<=0&&t("reachBottom",I)},k=I=>{var X,te;if(d.value)if(ht(I))d.value.scrollTop=I;else{const E=(te=I.index)!=null?te:p.value.indexOf((X=I.key)!=null?X:"");S(E-a.value),d.value.scrollTop=b(E),u.nextTick(()=>{if(d.value){const P=b(E);P!==d.value.scrollTop&&(d.value.scrollTop=P)}})}};return{prefixCls:l,containerRef:d,contentRef:f,frontPadding:v,currentList:w,behindPadding:g,onScroll:T,setItemSize:C,hasItemSize:x,start:m,scrollTo:k,style:h,mergedComponent:c}}});function QA(e,t,n,r,o,i){const a=u.resolveComponent("VirtualListItem");return u.openBlock(),u.createBlock(u.resolveDynamicComponent(e.mergedComponent.container),{ref:"containerRef",class:u.normalizeClass(e.prefixCls),style:u.normalizeStyle(e.style),onScroll:e.onScroll},{default:u.withCtx(()=>[(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e.mergedComponent.list),u.mergeProps(e.listAttrs,{style:e.paddingPosition==="list"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:u.withCtx(()=>[(u.openBlock(),u.createBlock(u.resolveDynamicComponent(e.mergedComponent.content),u.mergeProps({ref:"contentRef"},e.contentAttrs,{style:e.paddingPosition==="content"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:u.withCtx(()=>[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(e.currentList,(s,l)=>{var c;return u.openBlock(),u.createBlock(a,{key:(c=s[e.itemKey])!=null?c:e.start+l,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:u.withCtx(()=>[u.renderSlot(e.$slots,"item",{item:s,index:e.start+l})]),_:2},1032,["has-item-size","set-item-size"])}),128))]),_:3},16,["style"]))]),_:3},16,["style"]))]),_:3},8,["class","style","onScroll"])}var eM=_t(JA,[["render",QA]]);const tM=u.defineComponent({name:"Popover",components:{Trigger:Mc},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},title:String,content:String,trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"top"},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:t}){const n=Fe("popover"),r=u.ref(e.defaultPopupVisible),o=u.computed(()=>{var l;return(l=e.popupVisible)!=null?l:r.value}),i=l=>{r.value=l,t("update:popupVisible",l),t("popupVisibleChange",l)},a=u.computed(()=>[`${n}-popup-content`,e.contentClass]),s=u.computed(()=>[`${n}-popup-arrow`,e.arrowClass]);return{prefixCls:n,computedPopupVisible:o,contentCls:a,arrowCls:s,handlePopupVisibleChange:i}}});function nM(e,t,n,r,o,i){const a=u.resolveComponent("trigger");return u.openBlock(),u.createBlock(a,{class:u.normalizeClass(e.prefixCls),trigger:e.trigger,position:e.position,"popup-visible":e.computedPopupVisible,"popup-offset":10,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"show-arrow":"","popup-container":e.popupContainer,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:u.withCtx(()=>[u.createElementVNode("div",{class:u.normalizeClass(`${e.prefixCls}-title`)},[u.renderSlot(e.$slots,"title",{},()=>[u.createTextVNode(u.toDisplayString(e.title),1)])],2),u.createElementVNode("div",{class:u.normalizeClass(`${e.prefixCls}-content`)},[u.renderSlot(e.$slots,"content",{},()=>[u.createTextVNode(u.toDisplayString(e.content),1)])],2)]),default:u.withCtx(()=>[u.renderSlot(e.$slots,"default")]),_:3},8,["class","trigger","position","popup-visible","content-class","content-style","arrow-class","arrow-style","popup-container","onPopupVisibleChange"])}var uh=_t(tM,[["render",nM]]);const Qv=Object.assign(uh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+uh.name,uh)}}),rM=u.defineComponent({name:"IconDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-down`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),oM=["stroke-width","stroke-linecap","stroke-linejoin"],iM=u.createElementVNode("path",{d:"M39.6 17.443 24.043 33 8.487 17.443"},null,-1),aM=[iM];function sM(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},aM,14,oM)}var ch=_t(rM,[["render",sM]]);const X1=Object.assign(ch,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+ch.name,ch)}}),lM=({popupVisible:e,defaultPopupVisible:t,emit:n})=>{var r;const o=u.ref((r=t==null?void 0:t.value)!=null?r:!1),i=u.computed(()=>{var s;return(s=e==null?void 0:e.value)!=null?s:o.value}),a=s=>{s!==i.value&&(o.value=s,n("update:popupVisible",s),n("popupVisibleChange",s))};return u.watch(i,s=>{o.value!==s&&(o.value=s)}),{computedPopupVisible:i,handlePopupVisibleChange:a}};var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const uM=({defaultValue:e,modelValue:t,emit:n,eventName:r="input",updateEventName:o="update:modelValue",eventHandlers:i})=>{var a;const s=u.ref(),l=u.ref((a=e==null?void 0:e.value)!=null?a:""),c=u.ref(!1),d=u.ref(!1),f=u.ref("");let h;const p=u.computed(()=>{var b;return(b=t==null?void 0:t.value)!=null?b:l.value}),v=(b,w)=>{l.value=b,n(o,b),n(r,b,w)},g=b=>{const{value:w}=b.target;d.value||(v(w,b),u.nextTick(()=>{s.value&&p.value!==s.value.value&&(s.value.value=p.value)}))},m=b=>{r==="input"&&p.value!==h&&(h=p.value,n("change",p.value,b))},y=b=>{var w;const{value:T}=b.target;b.type==="compositionend"?(d.value=!1,f.value="",v(T,b),u.nextTick(()=>{s.value&&p.value!==s.value.value&&(s.value.value=p.value)})):(d.value=!0,f.value=p.value+((w=b.data)!=null?w:""))},_=b=>{var w,T;c.value=!0,h=p.value,n("focus",b),(T=(w=i==null?void 0:i.value)==null?void 0:w.onFocus)==null||T.call(w,b)},C=b=>{var w,T;c.value=!1,n("blur",b),(T=(w=i==null?void 0:i.value)==null?void 0:w.onBlur)==null||T.call(w,b),m(b)},x=b=>{const w=b.key||b.code;!d.value&&w===Kv.key&&(n("pressEnter",b),m(b))},S=b=>{s.value&&b.target!==s.value&&(b.preventDefault(),s.value.focus())};return u.watch(p,b=>{s.value&&b!==s.value.value&&(s.value.value=b)}),{inputRef:s,_value:l,_focused:c,isComposition:d,compositionValue:f,computedValue:p,handleInput:g,handleComposition:y,handleFocus:_,handleBlur:C,handleKeyDown:x,handleMousedown:S}};var cM=u.defineComponent({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:t,emit:n,slots:r}){var o;const{size:i,disabled:a,error:s,inputValue:l,uninjectFormItemContext:c}=u.toRefs(e),d=(o=e.baseCls)!=null?o:Fe("input-label"),{mergedSize:f,mergedDisabled:h,mergedError:p,eventHandlers:v}=eo({size:i,disabled:a,error:s,uninject:c==null?void 0:c.value}),{mergedSize:g}=zo(f),{inputRef:m,_focused:y,computedValue:_,handleInput:C,handleComposition:x,handleFocus:S,handleBlur:b,handleMousedown:w}=uM({modelValue:l,emit:n,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:v}),T=u.computed(()=>{var Y;return(Y=e.focused)!=null?Y:y.value}),k=u.computed(()=>e.enabledInput&&y.value||!e.modelValue),I=()=>{var Y,ie;return e.modelValue?(ie=(Y=e.formatLabel)==null?void 0:Y.call(e,e.modelValue))!=null?ie:e.modelValue.label:""},X=u.computed(()=>e.enabledInput&&e.modelValue?I():e.placeholder),te=()=>{var Y,ie;return e.modelValue?(ie=(Y=r.default)==null?void 0:Y.call(r,{data:e.modelValue}))!=null?ie:I():null},E=u.computed(()=>[d,`${d}-size-${g.value}`,{[`${d}-search`]:e.enabledInput,[`${d}-focus`]:T.value,[`${d}-disabled`]:h.value,[`${d}-error`]:p.value}]),P=u.computed(()=>iu(t,qa)),R=u.computed(()=>qv(t,qa));return{inputRef:m,render:()=>u.createVNode("span",u.mergeProps(P.value,{class:E.value,title:I(),onMousedown:w}),[r.prefix&&u.createVNode("span",{class:`${d}-prefix`},[r.prefix()]),u.createVNode("input",u.mergeProps(R.value,{ref:m,class:[`${d}-input`,{[`${d}-input-hidden`]:!k.value}],value:_.value,readonly:!e.enabledInput,placeholder:X.value,disabled:h.value,onInput:C,onFocus:S,onBlur:b,onCompositionstart:x,onCompositionupdate:x,onCompositionend:x}),null),u.createVNode("span",{class:[`${d}-value`,{[`${d}-value-hidden`]:k.value}]},[te()]),r.suffix&&u.createVNode("span",{class:`${d}-suffix`},[r.suffix()])])}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),dM=Object.defineProperty,my=Object.getOwnPropertySymbols,fM=Object.prototype.hasOwnProperty,hM=Object.prototype.propertyIsEnumerable,yy=(e,t,n)=>t in e?dM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pM=(e,t)=>{for(var n in t||(t={}))fM.call(t,n)&&yy(e,n,t[n]);if(my)for(var n of my(t))hM.call(t,n)&&yy(e,n,t[n]);return e};const vM=(e,t)=>{const n=[];for(const r of e)if(xn(r))n.push({raw:r,value:r[t.value],label:r[t.label],closable:r[t.closable],tagProps:r[t.tagProps]});else if(e||ht(e)){const o={value:r,label:String(r),closable:!0};n.push(pM({raw:o},o))}return n},_y=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta","gray"],gM=u.defineComponent({name:"Tag",components:{IconHover:Jr,IconClose:ou,IconLoading:ys},props:{color:{type:String},size:{type:String},bordered:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!0},nowrap:{type:Boolean,default:!1}},emits:{"update:visible":e=>!0,"update:checked":e=>!0,close:e=>!0,check:(e,t)=>!0},setup(e,{emit:t}){const{size:n}=u.toRefs(e),r=Fe("tag"),o=u.computed(()=>e.color&&_y.includes(e.color)),i=u.computed(()=>e.color&&!_y.includes(e.color)),a=u.ref(e.defaultVisible),s=u.ref(e.defaultChecked),l=u.computed(()=>{var m;return(m=e.visible)!=null?m:a.value}),c=u.computed(()=>{var m;return e.checkable?(m=e.checked)!=null?m:s.value:!0}),{mergedSize:d}=zo(n),f=u.computed(()=>d.value==="mini"?"small":d.value),h=m=>{a.value=!1,t("update:visible",!1),t("close",m)},p=m=>{if(e.checkable){const y=!c.value;s.value=y,t("update:checked",y),t("check",y,m)}},v=u.computed(()=>[r,`${r}-size-${f.value}`,{[`${r}-loading`]:e.loading,[`${r}-hide`]:!l.value,[`${r}-${e.color}`]:o.value,[`${r}-bordered`]:e.bordered,[`${r}-checkable`]:e.checkable,[`${r}-checked`]:c.value,[`${r}-custom-color`]:i.value}]),g=u.computed(()=>{if(i.value)return{backgroundColor:e.color}});return{prefixCls:r,cls:v,style:g,computedVisible:l,computedChecked:c,handleClick:p,handleClose:h}}});function mM(e,t,n,r,o,i){const a=u.resolveComponent("icon-close"),s=u.resolveComponent("icon-hover"),l=u.resolveComponent("icon-loading");return e.computedVisible?(u.openBlock(),u.createElementBlock("span",{key:0,class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.style),onClick:t[0]||(t[0]=(...c)=>e.handleClick&&e.handleClick(...c))},[e.$slots.icon?(u.openBlock(),u.createElementBlock("span",{key:0,class:u.normalizeClass(`${e.prefixCls}-icon`)},[u.renderSlot(e.$slots,"icon")],2)):u.createCommentVNode("v-if",!0),e.nowrap?(u.openBlock(),u.createElementBlock("span",{key:1,class:u.normalizeClass(`${e.prefixCls}-text`)},[u.renderSlot(e.$slots,"default")],2)):u.renderSlot(e.$slots,"default",{key:2}),e.closable?(u.openBlock(),u.createBlock(s,{key:3,role:"button","aria-label":"Close",prefix:e.prefixCls,class:u.normalizeClass(`${e.prefixCls}-close-btn`),onClick:u.withModifiers(e.handleClose,["stop"])},{default:u.withCtx(()=>[u.renderSlot(e.$slots,"close-icon",{},()=>[u.createVNode(a)])]),_:3},8,["prefix","class","onClick"])):u.createCommentVNode("v-if",!0),e.loading?(u.openBlock(),u.createElementBlock("span",{key:4,class:u.normalizeClass(`${e.prefixCls}-loading-icon`)},[u.createVNode(l)],2)):u.createCommentVNode("v-if",!0)],6)):u.createCommentVNode("v-if",!0)}var fh=_t(gM,[["render",mM]]);const yM=Object.assign(fh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+fh.name,fh)}});var _M=Object.defineProperty,by=Object.getOwnPropertySymbols,bM=Object.prototype.hasOwnProperty,wM=Object.prototype.propertyIsEnumerable,wy=(e,t,n)=>t in e?_M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tu=(e,t)=>{for(var n in t||(t={}))bM.call(t,n)&&wy(e,n,t[n]);if(by)for(var n of by(t))wM.call(t,n)&&wy(e,n,t[n]);return e};const xM={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var hh=u.defineComponent({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},tagNowrap:{type:Boolean,default:!1},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,t)=>!0,inputValueChange:(e,t)=>!0,pressEnter:(e,t)=>!0,remove:(e,t)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:t,slots:n,attrs:r}){const{size:o,disabled:i,error:a,uninjectFormItemContext:s,modelValue:l}=u.toRefs(e),c=e.baseCls||Fe("input-tag"),d=u.ref(),f=u.ref(),{mergedSize:h,mergedDisabled:p,mergedError:v,feedback:g,eventHandlers:m}=eo({size:o,disabled:i,error:a,uninject:s==null?void 0:s.value}),{mergedSize:y}=zo(h),_=u.computed(()=>Tu(Tu({},xM),e.fieldNames)),C=u.ref(!1),x=u.ref(e.defaultValue),S=u.ref(e.defaultInputValue),b=u.ref(!1),w=u.ref(""),T=u.computed(()=>xn(e.retainInputValue)?Tu({create:!1,blur:!1},e.retainInputValue):{create:e.retainInputValue,blur:e.retainInputValue}),k=u.reactive({width:"12px"}),I=u.computed(()=>e.focused||C.value),X=(oe,xe)=>{S.value=oe,t("update:inputValue",oe),t("inputValueChange",oe,xe)},te=oe=>{var xe;const{value:Ne}=oe.target;oe.type==="compositionend"?(b.value=!1,w.value="",X(Ne,oe),u.nextTick(()=>{d.value&&P.value!==d.value.value&&(d.value.value=P.value)})):(b.value=!0,w.value=P.value+((xe=oe.data)!=null?xe:""))},E=u.computed(()=>{var oe;return(oe=e.modelValue)!=null?oe:x.value}),P=u.computed(()=>{var oe;return(oe=e.inputValue)!=null?oe:S.value});u.watch(l,oe=>{(Jn(oe)||ms(oe))&&(x.value=[])});const R=oe=>{d.value&&oe.target!==d.value&&(oe.preventDefault(),d.value.focus())},$=oe=>{const{value:xe}=oe.target;b.value||(X(xe,oe),u.nextTick(()=>{d.value&&P.value!==d.value.value&&(d.value.value=P.value)}))},Y=u.computed(()=>vM(E.value,_.value)),ie=u.computed(()=>{if(e.maxTagCount>0){const oe=Y.value.length-e.maxTagCount;if(oe>0){const xe=Y.value.slice(0,e.maxTagCount),Ne={value:"__arco__more",label:`+${oe}...`,closable:!1};return xe.push(Tu({raw:Ne},Ne)),xe}}return Y.value}),be=(oe,xe)=>{var Ne,dt;x.value=oe,t("update:modelValue",oe),t("change",oe,xe),(dt=(Ne=m.value)==null?void 0:Ne.onChange)==null||dt.call(Ne,xe)},ne=(oe,xe,Ne)=>{var dt;const st=(dt=E.value)==null?void 0:dt.filter((M,D)=>D!==xe);be(st,Ne),t("remove",oe,Ne)},W=oe=>{be([],oe),t("clear",oe)},fe=u.computed(()=>!p.value&&!e.readonly&&e.allowClear&&!!E.value.length),ye=oe=>{var xe;if(P.value){if(oe.preventDefault(),e.uniqueValue&&((xe=E.value)!=null&&xe.includes(P.value))){t("pressEnter",P.value,oe);return}const Ne=E.value.concat(P.value);be(Ne,oe),t("pressEnter",P.value,oe),T.value.create||X("",oe)}},_e=oe=>{var xe,Ne;C.value=!0,t("focus",oe),(Ne=(xe=m.value)==null?void 0:xe.onFocus)==null||Ne.call(xe,oe)},Se=oe=>{var xe,Ne;C.value=!1,!T.value.blur&&P.value&&X("",oe),t("blur",oe),(Ne=(xe=m.value)==null?void 0:xe.onBlur)==null||Ne.call(xe,oe)},L=()=>{for(let oe=Y.value.length-1;oe>=0;oe--)if(Y.value[oe].closable)return oe;return-1},J=oe=>{if(p.value||e.readonly)return;const xe=oe.key||oe.code;if(!b.value&&P.value&&xe===Kv.key&&ye(oe),!b.value&&ie.value.length>0&&!P.value&&xe===HN.key){const Ne=L();Ne>=0&&ne(Y.value[Ne].value,Ne,oe)}},q=oe=>{oe>12?k.width=`${oe}px`:k.width="12px"};u.onMounted(()=>{f.value&&q(f.value.offsetWidth)});const de=()=>{f.value&&q(f.value.offsetWidth)};u.watch(P,oe=>{d.value&&!b.value&&oe!==d.value.value&&(d.value.value=oe)});const pe=u.computed(()=>[c,`${c}-size-${y.value}`,{[`${c}-disabled`]:p.value,[`${c}-disabled-input`]:e.disabledInput,[`${c}-error`]:v.value,[`${c}-focus`]:I.value,[`${c}-readonly`]:e.readonly,[`${c}-has-tag`]:ie.value.length>0,[`${c}-has-prefix`]:!!n.prefix,[`${c}-has-suffix`]:!!n.suffix||fe.value||g.value,[`${c}-has-placeholder`]:!E.value.length}]),ue=u.computed(()=>iu(r,qa)),Le=u.computed(()=>qv(r,qa));return{inputRef:d,render:()=>{var oe;return u.createVNode("span",u.mergeProps({class:pe.value,onMousedown:R},ue.value),[u.createVNode(Q2,{onResize:de},{default:()=>[u.createVNode("span",{ref:f,class:`${c}-mirror`},[ie.value.length>0?w.value||P.value:w.value||P.value||e.placeholder])]}),n.prefix&&u.createVNode("span",{class:`${c}-prefix`},[n.prefix()]),u.createVNode(u.TransitionGroup,{tag:"span",name:"input-tag-zoom",class:[`${c}-inner`,{[`${c}-nowrap`]:e.tagNowrap}]},{default:()=>[ie.value.map((xe,Ne)=>u.createVNode(yM,u.mergeProps({key:`tag-${xe.value}`,class:`${c}-tag`,closable:!p.value&&!e.readonly&&xe.closable,visible:!0,nowrap:e.tagNowrap},xe.tagProps,{onClose:dt=>ne(xe.value,Ne,dt)}),{default:()=>{var dt,st,M,D;return[(D=(M=(dt=n.tag)==null?void 0:dt.call(n,{data:xe.raw}))!=null?M:(st=e.formatTag)==null?void 0:st.call(e,xe.raw))!=null?D:xe.label]}})),u.createVNode("input",u.mergeProps(Le.value,{ref:d,key:"input-tag-input",class:`${c}-input`,style:k,placeholder:ie.value.length===0?e.placeholder:void 0,disabled:p.value,readonly:e.readonly||e.disabledInput,onInput:$,onKeydown:J,onFocus:_e,onBlur:Se,onCompositionstart:te,onCompositionupdate:te,onCompositionend:te}),null)]}),fe.value&&u.createVNode(Jr,{class:`${c}-clear-btn`,onClick:W,onMousedown:xe=>xe.stopPropagation()},{default:()=>[u.createVNode(ou,null,null)]}),(n.suffix||!!g.value)&&u.createVNode("span",{class:`${c}-suffix`},[(oe=n.suffix)==null?void 0:oe.call(n),!!g.value&&u.createVNode(Yv,{type:g.value},null)])])}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const EM=Object.assign(hh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+hh.name,hh)}});var xy=u.defineComponent({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>pr(e.modelValue)},maxTagCount:{type:Number,default:0},tagNowrap:{type:Boolean,default:!1},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:t,slots:n}){const{size:r,disabled:o,error:i}=u.toRefs(e),a=Fe("select-view"),{feedback:s,eventHandlers:l,mergedDisabled:c,mergedSize:d,mergedError:f}=eo({size:r,disabled:o,error:i}),{mergedSize:h}=zo(d),{opened:p}=u.toRefs(e),v=u.ref(),g=u.computed(()=>{var X;return(X=v.value)==null?void 0:X.inputRef}),m=u.computed(()=>e.modelValue.length===0),y=u.computed(()=>e.allowSearch||e.allowCreate),_=u.computed(()=>e.allowClear&&!e.disabled&&!m.value),C=X=>{var te,E;t("focus",X),(E=(te=l.value)==null?void 0:te.onFocus)==null||E.call(te,X)},x=X=>{var te,E;t("blur",X),(E=(te=l.value)==null?void 0:te.onBlur)==null||E.call(te,X)},S=X=>{t("remove",X)},b=X=>{t("clear",X)},w=()=>{var X,te,E,P;return e.loading?(te=(X=n["loading-icon"])==null?void 0:X.call(n))!=null?te:u.createVNode(ys,null,null):e.allowSearch&&e.opened?(P=(E=n["search-icon"])==null?void 0:E.call(n))!=null?P:u.createVNode(dp,null,null):n["arrow-icon"]?n["arrow-icon"]():u.createVNode(X1,{class:`${a}-arrow-icon`},null)},T=()=>u.createVNode(u.Fragment,null,[_.value&&u.createVNode(Jr,{class:`${a}-clear-btn`,onClick:b,onMousedown:X=>X.stopPropagation()},{default:()=>[u.createVNode(ou,null,null)]}),u.createVNode("span",{class:`${a}-icon`},[w()]),!!s.value&&u.createVNode(Yv,{type:s.value},null)]);u.watch(p,X=>{!X&&g.value&&g.value.isSameNode(document.activeElement)&&g.value.blur()});const k=u.computed(()=>[`${a}-${e.multiple?"multiple":"single"}`,{[`${a}-opened`]:e.opened,[`${a}-borderless`]:!e.bordered}]);return{inputRef:g,handleFocus:C,handleBlur:x,render:()=>e.multiple?u.createVNode(EM,{ref:v,baseCls:a,class:k.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:c.value,size:h.value,error:f.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,tagNowrap:e.tagNowrap,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:S,onFocus:C,onBlur:x},{prefix:n.prefix,suffix:T,tag:n.label}):u.createVNode(cM,{ref:v,baseCls:a,class:k.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:c.value,size:h.value,error:f.value,enabledInput:y.value,uninjectFormItemContext:!0,onFocus:C,onBlur:x},{default:n.label,prefix:n.prefix,suffix:T})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const CM=u.defineComponent({name:"Optgroup",props:{label:{type:String}},setup(){return{prefixCls:Fe("select-group")}}});function SM(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock(u.Fragment,null,[u.createElementVNode("li",{class:u.normalizeClass(`${e.prefixCls}-title`)},[u.renderSlot(e.$slots,"label",{},()=>[u.createTextVNode(u.toDisplayString(e.label),1)])],2),u.renderSlot(e.$slots,"default")],64)}var dc=_t(CM,[["render",SM]]);const Ey=typeof window>"u"?global:window;function NM(e,t){let n=0;return(...r)=>{n&&Ey.clearTimeout(n),n=Ey.setTimeout(()=>{n=0,e(...r)},t)}}var OM=Object.defineProperty,AM=Object.defineProperties,MM=Object.getOwnPropertyDescriptors,Cy=Object.getOwnPropertySymbols,TM=Object.prototype.hasOwnProperty,PM=Object.prototype.propertyIsEnumerable,Sy=(e,t,n)=>t in e?OM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hs=(e,t)=>{for(var n in t||(t={}))TM.call(t,n)&&Sy(e,n,t[n]);if(Cy)for(var n of Cy(t))PM.call(t,n)&&Sy(e,n,t[n]);return e},DM=(e,t)=>AM(e,MM(t));function kM(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!u.isVNode(e)}const RM={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var ph=u.defineComponent({name:"Select",components:{Trigger:Mc,SelectView:xy},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},defaultValue:{type:[String,Number,Boolean,Object,Array],default:e=>Jn(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>!!e.multiple},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1},tagNowrap:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,t)=>!0},setup(e,{slots:t,emit:n,attrs:r}){const{size:o,disabled:i,error:a,options:s,filterOption:l,valueKey:c,multiple:d,popupVisible:f,defaultPopupVisible:h,showExtraOptions:p,modelValue:v,fieldNames:g,loading:m,defaultActiveFirstOption:y}=u.toRefs(e),_=Fe("select"),{mergedSize:C,mergedDisabled:x,mergedError:S,eventHandlers:b}=eo({size:o,disabled:i,error:a}),w=u.computed(()=>e.virtualListProps?"div":"li"),T=u.computed(()=>xn(e.allowSearch)&&!!e.allowSearch.retainInputValue);u.computed(()=>{if(un(e.formatLabel))return G=>{const V=st.get(G.value);return e.formatLabel(V)}});const k=u.ref(),I=u.ref({}),X=u.ref(),{computedPopupVisible:te,handlePopupVisibleChange:E}=lM({popupVisible:f,defaultPopupVisible:h,emit:n}),P=u.ref(e.defaultValue),R=u.computed(()=>{var G;const V=(G=e.modelValue)!=null?G:P.value;return(pr(V)?V:V||ht(V)||_i(V)||$l(V)?[V]:[]).map(me=>({value:me,key:Il(me,e.valueKey)}))});u.watch(v,G=>{(Jn(G)||ms(G))&&(P.value=d.value?[]:G)});const $=u.computed(()=>R.value.map(G=>G.key)),Y=u.computed(()=>Hs(Hs({},RM),g==null?void 0:g.value)),ie=u.ref(),be=G=>{const V={};return G.forEach(H=>{V[H]=st.get(H)}),V},ne=G=>{ie.value=be(G)},W=G=>un(e.fallbackOption)?e.fallbackOption(G):{[Y.value.value]:G,[Y.value.label]:String(xn(G)?G[c==null?void 0:c.value]:G)},fe=()=>{const G=[],V=[];if(e.allowCreate||e.fallbackOption){for(const H of R.value)if(!V.includes(H.key)&&H.value!==""){const me=st.get(H.key);(!me||me.origin==="extraOptions")&&(G.push(H),V.push(H.key))}}if(e.allowCreate&&L.value){const H=Il(L.value);if(!V.includes(H)){const me=st.get(H);(!me||me.origin==="extraOptions")&&G.push({value:L.value,key:H})}}return G},ye=u.ref([]),_e=u.computed(()=>ye.value.map(G=>{var V;let H=W(G.value);const me=(V=ie.value)==null?void 0:V[G.key];return!Jn(me)&&!w2(me)&&(H=Hs(Hs({},H),me)),H}));u.nextTick(()=>{u.watchEffect(()=>{var G;const V=fe();if(V.length!==ye.value.length)ye.value=V;else if(V.length>0){for(let H=0;H<V.length;H++)if(V[H].key!==((G=ye.value[H])==null?void 0:G.key)){ye.value=V;break}}})});const Se=u.ref(""),L=u.computed(()=>{var G;return(G=e.inputValue)!=null?G:Se.value});u.watch(te,G=>{!G&&!T.value&&L.value&&de("")});const J=G=>{var V,H;return e.multiple?G.map(me=>{var We,Ve;return(Ve=(We=st.get(me))==null?void 0:We.value)!=null?Ve:""}):(H=(V=st.get(G[0]))==null?void 0:V.value)!=null?H:PA(st)?void 0:""},q=G=>{var V,H;const me=J(G);P.value=me,n("update:modelValue",me),n("change",me),(H=(V=b.value)==null?void 0:V.onChange)==null||H.call(V),ne(G)},de=G=>{Se.value=G,n("update:inputValue",G),n("inputValueChange",G)},pe=(G,V)=>{if(e.multiple){if($.value.includes(G)){const H=$.value.filter(me=>me!==G);q(H)}else if(D.value.includes(G))if(e.limit>0&&$.value.length>=e.limit){const H=st.get(G);n("exceedLimit",H==null?void 0:H.value,V)}else{const H=$.value.concat(G);q(H)}T.value||de("")}else{if(G!==$.value[0]&&q([G]),T.value){const H=st.get(G);H&&de(H.label)}E(!1)}},ue=NM(G=>{n("search",G)},e.searchDelay),Le=G=>{G!==L.value&&(te.value||E(!0),de(G),e.allowSearch&&ue(G))},ve=G=>{const V=st.get(G),H=$.value.filter(me=>me!==G);q(H),n("remove",V==null?void 0:V.value)},oe=G=>{G==null||G.stopPropagation();const V=$.value.filter(H=>{var me;return(me=st.get(H))==null?void 0:me.disabled});q(V),de(""),n("clear",G)},xe=G=>{n("dropdownScroll",G)},Ne=G=>{n("dropdownReachBottom",G)},{validOptions:dt,optionInfoMap:st,validOptionInfos:M,enabledOptionKeys:D,handleKeyDown:B}=GA({multiple:d,options:s,extraOptions:_e,inputValue:L,filterOption:l,showExtraOptions:p,component:w,valueKey:c,fieldNames:g,loading:m,popupVisible:te,valueKeys:$,dropdownRef:k,optionRefs:I,virtualListRef:X,defaultActiveFirstOption:y,onSelect:pe,onPopupVisibleChange:E}),re=u.computed(()=>{var G;const V=[];for(const H of R.value){const me=st.get(H.key);me&&V.push(DM(Hs({},me),{value:H.key,label:(G=me==null?void 0:me.label)!=null?G:String(xn(H.value)?H.value[c==null?void 0:c.value]:H.value),closable:!(me!=null&&me.disabled),tagProps:me==null?void 0:me.tagProps}))}return V}),j=G=>{if(un(t.option)){const V=t.option;return()=>V({data:G.raw})}return un(G.render)?G.render:()=>G.label},le=G=>{if(W1(G)){let V;return u.createVNode(dc,{key:G.key,label:G.label},kM(V=G.options.map(H=>le(H)))?V:{default:()=>[V]})}return jd(G,{inputValue:L.value,filterOption:l==null?void 0:l.value})?u.createVNode(hl,{ref:V=>{V!=null&&V.$el&&(I.value[G.key]=V.$el)},key:G.key,value:G.value,label:G.label,disabled:G.disabled,internal:!0},{default:j(G)}):null},ae=()=>u.createVNode(xA,{ref:k,loading:e.loading,empty:M.value.length===0,virtualList:!!e.virtualListProps,scrollbar:e.scrollbar,showHeaderOnEmpty:e.showHeaderOnEmpty,showFooterOnEmpty:e.showFooterOnEmpty,onScroll:xe,onReachBottom:Ne},{default:()=>{var G,V;return[...(V=(G=t.default)==null?void 0:G.call(t))!=null?V:[],...dt.value.map(le)]},"virtual-list":()=>u.createVNode(eM,u.mergeProps(e.virtualListProps,{ref:X,data:dt.value}),{item:({item:G})=>le(G)}),empty:t.empty,header:t.header,footer:t.footer}),he=({data:G})=>{var V,H,me,We;if((t.label||un(e.formatLabel))&&G){const Ve=st.get(G.value);if(Ve!=null&&Ve.raw)return(me=(V=t.label)==null?void 0:V.call(t,{data:Ve.raw}))!=null?me:(H=e.formatLabel)==null?void 0:H.call(e,Ve.raw)}return(We=G==null?void 0:G.label)!=null?We:""};return()=>u.createVNode(Mc,u.mergeProps({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:x.value,popupVisible:te.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:E},e.triggerProps),{default:()=>{var G,V;return[(V=(G=t.trigger)==null?void 0:G.call(t))!=null?V:u.createVNode(xy,u.mergeProps({class:_,modelValue:re.value,inputValue:L.value,multiple:e.multiple,disabled:x.value,error:S.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:!!e.allowSearch,opened:te.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:C.value,tagNowrap:e.tagNowrap,onInputValueChange:Le,onRemove:ve,onClear:oe,onKeydown:B},r),{label:he,prefix:t.prefix,"arrow-icon":t["arrow-icon"],"loading-icon":t["loading-icon"],"search-icon":t["search-icon"]})]},content:ae})}});const U1=Object.assign(ph,{Option:hl,OptGroup:dc,install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+ph.name,ph),e.component(n+hl.name,hl),e.component(n+dc.name,dc)}}),Y1=Symbol("RadioGroup");var fc=u.defineComponent({name:"Radio",components:{IconHover:Jr},props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!0},type:{type:String,default:"radio"},disabled:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:n}){const r=Fe("radio"),{modelValue:o}=u.toRefs(e),i=e.uninjectGroupContext?void 0:u.inject(Y1,void 0),{mergedDisabled:a,eventHandlers:s}=eo({disabled:u.toRef(e,"disabled")}),l=u.ref(null),c=u.ref(e.defaultChecked),d=u.computed(()=>(i==null?void 0:i.name)==="ArcoRadioGroup"),f=u.computed(()=>{var x;return(x=i==null?void 0:i.type)!=null?x:e.type}),h=u.computed(()=>(i==null?void 0:i.disabled)||a.value),p=u.computed(()=>{var x,S;return d.value?(i==null?void 0:i.value)===((x=e.value)!=null?x:!0):Jn(e.modelValue)?c.value:e.modelValue===((S=e.value)!=null?S:!0)});u.watch(o,x=>{(Jn(x)||ms(x))&&(c.value=!1)}),u.watch(p,(x,S)=>{x!==S&&(c.value=x,l.value&&(l.value.checked=x))});const v=x=>{var S,b;(b=(S=s.value)==null?void 0:S.onFocus)==null||b.call(S,x)},g=x=>{var S,b;(b=(S=s.value)==null?void 0:S.onBlur)==null||b.call(S,x)},m=x=>{x.stopPropagation()},y=x=>{var S,b,w,T,k;c.value=!0,d.value?i==null||i.handleChange((S=e.value)!=null?S:!0,x):(t("update:modelValue",(b=e.value)!=null?b:!0),t("change",(w=e.value)!=null?w:!0,x),(k=(T=s.value)==null?void 0:T.onChange)==null||k.call(T,x)),u.nextTick(()=>{l.value&&l.value.checked!==p.value&&(l.value.checked=p.value)})},_=u.computed(()=>[`${f.value==="button"?`${r}-button`:r}`,{[`${r}-checked`]:p.value,[`${r}-disabled`]:h.value}]),C=()=>u.createVNode(u.Fragment,null,[u.createVNode(u.resolveComponent("icon-hover"),{class:`${r}-icon-hover`,disabled:h.value||p.value},{default:()=>[u.createVNode("span",{class:`${r}-icon`},null)]}),n.default&&u.createVNode("span",{class:`${r}-label`},[n.default()])]);return()=>{var x,S,b,w;return u.createVNode("label",{class:_.value},[u.createVNode("input",{ref:l,type:"radio",checked:p.value,value:e.value,class:`${r}-target`,disabled:h.value,onClick:m,onChange:y,onFocus:v,onBlur:g},null),f.value==="radio"?(w=(b=(S=n.radio)!=null?S:(x=i==null?void 0:i.slots)==null?void 0:x.radio)==null?void 0:b({checked:p.value,disabled:h.value}))!=null?w:C():u.createVNode("span",{class:`${r}-button-content`},[n.default&&n.default()])])}}}),pl=u.defineComponent({name:"RadioGroup",props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:""},type:{type:String,default:"radio"},size:{type:String},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:n}){const r=Fe("radio-group"),{size:o,type:i,disabled:a,modelValue:s}=u.toRefs(e),{mergedDisabled:l,mergedSize:c,eventHandlers:d}=eo({size:o,disabled:a}),{mergedSize:f}=zo(c),h=u.ref(e.defaultValue),p=u.computed(()=>{var _;return(_=e.modelValue)!=null?_:h.value}),v=u.computed(()=>{var _;return((_=e.options)!=null?_:[]).map(C=>_i(C)||ht(C)?{label:C,value:C}:C)}),g=(_,C)=>{var x,S;h.value=_,t("update:modelValue",_),t("change",_,C),(S=(x=d.value)==null?void 0:x.onChange)==null||S.call(x,C)};u.provide(Y1,u.reactive({name:"ArcoRadioGroup",value:p,size:f,type:i,disabled:l,slots:n,handleChange:g})),u.watch(p,_=>{h.value!==_&&(h.value=_)}),u.watch(s,_=>{(Jn(_)||ms(_))&&(h.value="")});const m=u.computed(()=>[`${r}${e.type==="button"?"-button":""}`,`${r}-size-${f.value}`,`${r}-direction-${e.direction}`,{[`${r}-disabled`]:l.value}]),y=()=>v.value.map(_=>u.createVNode(fc,{key:_.value,value:_.value,disabled:_.disabled,modelValue:p.value===_.value},{default:()=>[n.label?n.label({data:_}):un(_.label)?_.label():_.label]}));return()=>{var _;return u.createVNode("span",{class:m.value},[v.value.length>0?y():(_=n.default)==null?void 0:_.call(n)])}}});const LM=Object.assign(fc,{Group:pl,install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+fc.name,fc),e.component(n+pl.name,pl)}}),$M=u.defineComponent({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-up`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),BM=["stroke-width","stroke-linecap","stroke-linejoin"],IM=u.createElementVNode("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1),jM=[IM];function VM(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},jM,14,BM)}var vh=_t($M,[["render",VM]]);const zM=Object.assign(vh,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+vh.name,vh)}}),K1=Symbol("collapseCtx"),FM=u.defineComponent({name:"Collapse",props:{activeKey:{type:Array,default:void 0},defaultActiveKey:{type:Array,default:()=>[]},accordion:{type:Boolean,default:!1},showExpandIcon:{type:Boolean,default:void 0},expandIconPosition:{type:String,default:"left"},bordered:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},emits:{"update:activeKey":e=>!0,change:(e,t)=>!0},setup(e,{emit:t,slots:n}){const{expandIconPosition:r,destroyOnHide:o,showExpandIcon:i}=u.toRefs(e),a=Fe("collapse"),s=u.ref(e.defaultActiveKey),l=u.computed(()=>{var f;const h=(f=e.activeKey)!=null?f:s.value;return pr(h)?h:[h]}),c=(f,h)=>{let p=[];if(e.accordion)l.value.includes(f)||(p=[f]),s.value=p;else{p=[...l.value];const v=p.indexOf(f);v>-1?p.splice(v,1):e.accordion?p=[f]:p.push(f),s.value=p}t("update:activeKey",p),t("change",p,h)};u.provide(K1,u.reactive({activeKeys:l,slots:n,showExpandIcon:i,expandIconPosition:r,destroyOnHide:o,handleClick:c}));const d=u.computed(()=>[a,{[`${a}-borderless`]:!e.bordered}]);return{prefixCls:a,cls:d}}});function HM(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(e.cls)},[u.renderSlot(e.$slots,"default")],2)}var gh=_t(FM,[["render",HM]]);const WM=u.defineComponent({name:"IconCaretRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-caret-right`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),GM=["stroke-width","stroke-linecap","stroke-linejoin"],XM=u.createElementVNode("path",{d:"M34.829 23.063c.6.48.6 1.394 0 1.874L17.949 38.44c-.785.629-1.949.07-1.949-.937V10.497c0-1.007 1.164-1.566 1.95-.937l16.879 13.503Z",fill:"currentColor",stroke:"none"},null,-1),UM=[XM];function YM(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},UM,14,GM)}var mh=_t(WM,[["render",YM]]);const KM=Object.assign(mh,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+mh.name,mh)}}),qM=u.defineComponent({name:"IconCaretLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-caret-left`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),ZM=["stroke-width","stroke-linecap","stroke-linejoin"],JM=u.createElementVNode("path",{d:"M13.171 24.937a1.2 1.2 0 0 1 0-1.874L30.051 9.56c.785-.629 1.949-.07 1.949.937v27.006c0 1.006-1.164 1.566-1.95.937L13.171 24.937Z",fill:"currentColor",stroke:"none"},null,-1),QM=[JM];function eT(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},QM,14,ZM)}var yh=_t(qM,[["render",eT]]);const tT=Object.assign(yh,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+yh.name,yh)}});var vl=u.defineComponent({name:"CollapseItem",components:{IconHover:Jr,IconCaretRight:KM,IconCaretLeft:tT},props:{header:String,disabled:{type:Boolean,default:!1},showExpandIcon:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},setup(e,{slots:t}){var n;const r=u.getCurrentInstance(),o=Fe("collapse-item"),i=u.inject(K1,{}),a=r&&ht(r==null?void 0:r.vnode.key)?r.vnode.key:String((n=r==null?void 0:r.vnode.key)!=null?n:""),s=u.computed(()=>{var x;return(x=i.activeKeys)==null?void 0:x.includes(a)}),l=u.computed(()=>i.destroyOnHide||e.destroyOnHide),c=u.computed(()=>{var x;return(x=i==null?void 0:i.showExpandIcon)!=null?x:e.showExpandIcon}),d=u.ref(l.value?s.value:!0),f=u.computed(()=>{var x;return(x=i==null?void 0:i.expandIconPosition)!=null?x:"left"}),h=x=>{var S;e.disabled||(S=i.handleClick)==null||S.call(i,a,x)};u.watch(s,x=>{x&&!d.value&&(d.value=!0)});const p={onEnter:x=>{x.style.height=`${x.scrollHeight}px`},onAfterEnter:x=>{x.style.height="auto"},onBeforeLeave:x=>{x.style.height=`${x.scrollHeight}px`},onLeave:x=>{x.style.height="0"},onAfterLeave:()=>{l.value&&(d.value=!1)}},v=u.computed(()=>[o,{[`${o}-active`]:s.value}]),g=u.computed(()=>[`${o}-header`,`${o}-header-${i==null?void 0:i.expandIconPosition}`,{[`${o}-header-disabled`]:e.disabled}]),m=u.computed(()=>[{[`${o}-icon-right`]:(i==null?void 0:i.expandIconPosition)==="right"}]),y=u.computed(()=>[`${o}-content`,{[`${o}-content-expend`]:s.value}]),_=()=>f.value==="right"?u.createVNode(u.resolveComponent("icon-caret-left"),{class:`${o}-expand-icon`},null):u.createVNode(u.resolveComponent("icon-caret-right"),{class:`${o}-expand-icon`},null),C=()=>c.value&&u.createVNode(u.resolveComponent("icon-hover"),{prefix:o,class:m.value,disabled:e.disabled},{default:()=>{var x,S,b,w;return[(w=(b=(S=t["expand-icon"])!=null?S:(x=i==null?void 0:i.slots)==null?void 0:x["expand-icon"])==null?void 0:b({active:s.value,disabled:e.disabled,position:f.value}))!=null?w:_()]}});return()=>{var x,S,b;return u.createVNode("div",{class:v.value},[u.createVNode("div",{role:"button","aria-disabled":e.disabled,"aria-expanded":s.value,tabindex:"0",class:g.value,onClick:h},[C(),u.createVNode("div",{class:`${o}-header-title`},[(S=(x=t.header)==null?void 0:x.call(t))!=null?S:e.header]),t.extra&&u.createVNode("div",{class:`${o}-header-extra`},[(b=t.extra)==null?void 0:b.call(t)])]),u.createVNode(u.Transition,u.mergeProps({name:"collapse-slider"},p),{default:()=>{var w;return[u.withDirectives(u.createVNode("div",{role:"region",class:y.value},[d.value&&u.createVNode("div",{ref:"contentBoxRef",class:`${o}-content-box`},[(w=t.default)==null?void 0:w.call(t)])]),[[u.vShow,s.value]])]}})])}}});const q1=Object.assign(gh,{Item:vl,install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+gh.name,gh),e.component(n+vl.name,vl)}}),nT=["#00B42A","#3C7EFF","#FF7D00","#F76965","#F7BA1E","#F5319D","#D91AD9","#9FDB1D","#FADC19","#722ED1","#3491FA","#7BE188","#93BEFF","#FFCF8B","#FBB0A7","#FCE996","#FB9DC7","#F08EE6","#DCF190","#FDFA94","#C396ED","#9FD4FD"];var rT=Object.defineProperty,oT=Object.defineProperties,iT=Object.getOwnPropertyDescriptors,Ny=Object.getOwnPropertySymbols,aT=Object.prototype.hasOwnProperty,sT=Object.prototype.propertyIsEnumerable,Oy=(e,t,n)=>t in e?rT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lT=(e,t)=>{for(var n in t||(t={}))aT.call(t,n)&&Oy(e,n,t[n]);if(Ny)for(var n of Ny(t))sT.call(t,n)&&Oy(e,n,t[n]);return e},uT=(e,t)=>oT(e,iT(t));const Z1=(e,t,n)=>{const r=Math.floor(e*6),o=e*6-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=r%6,c=[n,a,i,i,s,n][l],d=[s,n,n,a,i,i][l],f=[i,i,s,n,n,a][l];return{r:Math.round(c*255),g:Math.round(d*255),b:Math.round(f*255)}},zd=(e,t,n)=>{e/=255,t/=255,n/=255;const r=Math.max(e,t,n),o=Math.min(e,t,n);let i=0;const a=r,s=r-o,l=r===0?0:s/r;if(r===o)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4;break}i/=6}return{h:i,s:l,v:a}},cT="[-\\+]?\\d+%?",dT="[-\\+]?\\d*\\.\\d+%?",Wi=`(?:${dT})|(?:${cT})`,fT=`[\\s|\\(]+(${Wi})[,|\\s]+(${Wi})[,|\\s]+(${Wi})\\s*\\)?`,hT=`[\\s|\\(]+(${Wi})[,|\\s]+(${Wi})[,|\\s]+(${Wi})[,|\\s]+(${Wi})\\s*\\)?`,Jo={rgb:new RegExp(`rgb${fT}`),rgba:new RegExp(`rgba${hT}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},Qt=e=>parseInt(e,16),Ay=e=>Qt(e)/255,pT=e=>{let t=Jo.rgb.exec(e);return t?{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:(t=Jo.rgba.exec(e),t?{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10),a:parseFloat(t[4])}:(t=Jo.hex8.exec(e),t?{r:Qt(t[1]),g:Qt(t[2]),b:Qt(t[3]),a:Ay(t[4])}:(t=Jo.hex6.exec(e),t?{r:Qt(t[1]),g:Qt(t[2]),b:Qt(t[3])}:(t=Jo.hex4.exec(e),t?{r:Qt(t[1]+t[1]),g:Qt(t[2]+t[2]),b:Qt(t[3]+t[3]),a:Ay(t[4]+t[4])}:(t=Jo.hex3.exec(e),t?{r:Qt(t[1]+t[1]),g:Qt(t[2]+t[2]),b:Qt(t[3]+t[3])}:!1)))))},vT=e=>{var t;const n=pT(e);if(n){const r=zd(n.r,n.g,n.b);return uT(lT({},r),{a:(t=n.a)!=null?t:1})}return{h:0,s:1,v:1,a:1}},J1=e=>{if(e=e.trim().toLowerCase(),e.length===0)return!1;let t=Jo.hex6.exec(e);return t?{r:Qt(t[1]),g:Qt(t[2]),b:Qt(t[3])}:(t=Jo.hex3.exec(e),t?{r:Qt(t[1]+t[1]),g:Qt(t[2]+t[2]),b:Qt(t[3]+t[3])}:!1)},My=(e,t,n)=>[Math.round(e).toString(16).padStart(2,"0"),Math.round(t).toString(16).padStart(2,"0"),Math.round(n).toString(16).padStart(2,"0")].join("").toUpperCase(),gT=(e,t,n,r)=>[Math.round(e).toString(16).padStart(2,"0"),Math.round(t).toString(16).padStart(2,"0"),Math.round(n).toString(16).padStart(2,"0"),Math.round(r*255).toString(16).padStart(2,"0")].join("").toUpperCase(),Q1=({value:e,onChange:t})=>{const n=u.ref(!1),r=u.ref(),o=u.ref(),i=(d,f)=>d<0?0:d>f?1:d/f,a=d=>{if(!r.value)return;const{clientX:f,clientY:h}=d,p=r.value.getBoundingClientRect(),v=[i(f-p.x,p.width),i(h-p.y,p.height)];(v[0]!==e[0]||v[1]!==e[1])&&(t==null||t(v))},s=()=>{n.value=!1,window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s),window.removeEventListener("contextmenu",s)},l=d=>{n.value=!0,a(d),window.addEventListener("mousemove",c),window.addEventListener("mouseup",s),window.addEventListener("contextmenu",s)};function c(d){d.preventDefault(),d.buttons>0?a(d):s()}return{active:n,blockRef:r,handlerRef:o,onMouseDown:l}};var Ty=u.defineComponent({name:"ControlBar",props:{x:{type:Number,required:!0},color:{type:Object,required:!0},colorString:String,type:String,onChange:Function},setup(e){const t=Fe("color-picker"),n=u.computed(()=>e.color.rgb),{blockRef:r,handlerRef:o,onMouseDown:i}=Q1({value:[e.x,0],onChange:s=>{var l;return(l=e.onChange)==null?void 0:l.call(e,s[0])}}),a=()=>u.createVNode("div",{ref:o,class:`${t}-handler`,style:{left:`${e.x*100}%`,color:e.colorString}},null);return()=>e.type==="alpha"?u.createVNode("div",{class:`${t}-control-bar-bg`},[u.createVNode("div",{ref:r,class:[`${t}-control-bar`,`${t}-control-bar-alpha`],style:{background:`linear-gradient(to right, rgba(0, 0, 0, 0), rgb(${n.value.r}, ${n.value.g}, ${n.value.b}))`},onMousedown:i},[a()])]):u.createVNode("div",{ref:r,class:[`${t}-control-bar`,`${t}-control-bar-hue`],onMousedown:i},[a()])}}),mT=u.defineComponent({name:"Palette",props:{color:{type:Object,required:!0},onChange:Function},setup(e){const t=Fe("color-picker"),n=u.computed(()=>e.color.hsv),{blockRef:r,handlerRef:o,onMouseDown:i}=Q1({value:[n.value.s,1-n.value.v],onChange:s=>{var l;return(l=e.onChange)==null?void 0:l.call(e,s[0],1-s[1])}}),a=u.computed(()=>{const s=Z1(n.value.h,1,1);return`rgb(${s.r}, ${s.g}, ${s.b})`});return()=>u.createVNode("div",{ref:r,class:`${t}-palette`,style:{backgroundColor:a.value},onMousedown:i},[u.createVNode("div",{ref:o,class:`${t}-handler`,style:{top:`${(1-n.value.v)*100}%`,left:`${n.value.s*100}%`}},null)])}});function eg(e,t){return t===void 0&&(t=15),+parseFloat(Number(e).toPrecision(t))}function _o(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0}function jl(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var t=_o(e);return t>0?eg(Number(e)*Math.pow(10,t)):Number(e)}function pp(e){tw&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function Fd(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=t.slice(1);return o.reduce(function(i,a){return e(i,a)},r)}}var ci=Fd(function(e,t){var n=jl(e),r=jl(t),o=_o(e)+_o(t),i=n*r;return pp(i),i/Math.pow(10,o)}),yT=Fd(function(e,t){var n=Math.pow(10,Math.max(_o(e),_o(t)));return(ci(e,n)+ci(t,n))/n}),_T=Fd(function(e,t){var n=Math.pow(10,Math.max(_o(e),_o(t)));return(ci(e,n)-ci(t,n))/n}),ew=Fd(function(e,t){var n=jl(e),r=jl(t);return pp(n),pp(r),ci(n/r,eg(Math.pow(10,_o(t)-_o(e))))});function bT(e,t){var n=Math.pow(10,t),r=ew(Math.round(Math.abs(ci(e,n))),n);return e<0&&r!==0&&(r=ci(r,-1)),r}var tw=!0;function wT(e){e===void 0&&(e=!0),tw=e}var vp={strip:eg,plus:yT,minus:_T,times:ci,divide:ew,round:bT,digitLength:_o,float2Fixed:jl,enableBoundaryChecking:wT};const xT=u.defineComponent({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-plus`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),ET=["stroke-width","stroke-linecap","stroke-linejoin"],CT=u.createElementVNode("path",{d:"M5 24h38M24 5v38"},null,-1),ST=[CT];function NT(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},ST,14,ET)}var _h=_t(xT,[["render",NT]]);const OT=Object.assign(_h,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+_h.name,_h)}}),AT=u.defineComponent({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=Fe("icon"),r=u.computed(()=>[n,`${n}-minus`,{[`${n}-spin`]:e.spin}]),o=u.computed(()=>{const a={};return e.size&&(a.fontSize=ht(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:r,innerStyle:o,onClick:a=>{t("click",a)}}}}),MT=["stroke-width","stroke-linecap","stroke-linejoin"],TT=u.createElementVNode("path",{d:"M5 24h38"},null,-1),PT=[TT];function DT(e,t,n,r,o,i){return u.openBlock(),u.createElementBlock("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:u.normalizeClass(e.cls),style:u.normalizeStyle(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...a)=>e.onClick&&e.onClick(...a))},PT,14,MT)}var bh=_t(AT,[["render",DT]]);const kT=Object.assign(bh,{install:(e,t)=>{var n;const r=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(r+bh.name,bh)}});var RT=Object.defineProperty,Py=Object.getOwnPropertySymbols,LT=Object.prototype.hasOwnProperty,$T=Object.prototype.propertyIsEnumerable,Dy=(e,t,n)=>t in e?RT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BT=(e,t)=>{for(var n in t||(t={}))LT.call(t,n)&&Dy(e,n,t[n]);if(Py)for(var n of Py(t))$T.call(t,n)&&Dy(e,n,t[n]);return e};const IT=800,jT=150;vp.enableBoundaryChecking(!1);var wh=u.defineComponent({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1},inputAttrs:{type:Object}},emits:{"update:modelValue":e=>!0,change:(e,t)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,t,n)=>!0,keydown:e=>!0},setup(e,{emit:t,slots:n}){var r;const{size:o,disabled:i}=u.toRefs(e),a=Fe("input-number"),s=u.ref(),{mergedSize:l,mergedDisabled:c,eventHandlers:d}=eo({size:o,disabled:i}),{mergedSize:f}=zo(l),h=u.computed(()=>{if(ht(e.precision)){const W=`${e.step}`.split(".")[1],fe=W&&W.length||0;return Math.max(fe,e.precision)}}),p=W=>{var fe,ye;if(!ht(W))return"";const _e=h.value?W.toFixed(h.value):String(W);return(ye=(fe=e.formatter)==null?void 0:fe.call(e,_e))!=null?ye:_e},v=u.ref(p((r=e.modelValue)!=null?r:e.defaultValue)),g=u.computed(()=>{var W,fe;if(!v.value)return;const ye=Number((fe=(W=e.parser)==null?void 0:W.call(e,v.value))!=null?fe:v.value);return Number.isNaN(ye)?void 0:ye}),m=u.ref(ht(g.value)&&g.value<=e.min),y=u.ref(ht(g.value)&&g.value>=e.max);let _=0;const C=()=>{_&&(window.clearTimeout(_),_=0)},x=W=>{if(!Jn(W))return ht(e.min)&&W<e.min&&(W=e.min),ht(e.max)&&W>e.max&&(W=e.max),ht(h.value)?vp.round(W,h.value):W},S=W=>{let fe=!1,ye=!1;ht(W)&&(W<=e.min&&(fe=!0),W>=e.max&&(ye=!0)),y.value!==ye&&(y.value=ye),m.value!==fe&&(m.value=fe)},b=()=>{const W=x(g.value),fe=p(W);(W!==g.value||v.value!==fe)&&(v.value=fe),t("update:modelValue",W)};u.watch(()=>[e.max,e.min],()=>{b(),S(g.value)});const w=(W,fe)=>{if(c.value||W==="plus"&&y.value||W==="minus"&&m.value)return;let ye;ht(g.value)?ye=x(vp[W](g.value,e.step)):ye=e.min===-1/0?0:e.min,v.value=p(ye),S(ye),t("update:modelValue",ye),t("change",ye,fe)},T=(W,fe,ye=!1)=>{var _e;W.preventDefault(),!e.readOnly&&((_e=s.value)==null||_e.focus(),w(fe,W),ye&&(_=window.setTimeout(()=>W.target.dispatchEvent(W),_?jT:IT)))},k=(W,fe)=>{var ye,_e,Se,L;W=W.trim().replace(/。/g,"."),W=(_e=(ye=e.parser)==null?void 0:ye.call(e,W))!=null?_e:W,(ht(Number(W))||/^(\.|-)$/.test(W))&&(v.value=(L=(Se=e.formatter)==null?void 0:Se.call(e,W))!=null?L:W,S(g.value),t("input",g.value,v.value,fe),e.modelEvent==="input"&&(t("update:modelValue",g.value),t("change",g.value,fe)))},I=W=>{t("focus",W)},X=(W,fe)=>{fe instanceof MouseEvent&&!W||(b(),t("change",g.value,fe))},te=W=>{t("blur",W)},E=W=>{var fe,ye;v.value="",t("update:modelValue",void 0),t("change",void 0,W),(ye=(fe=d.value)==null?void 0:fe.onChange)==null||ye.call(fe,W),t("clear",W)},P=G1(new Map([[Hi.ARROW_UP,W=>{W.preventDefault(),!e.readOnly&&w("plus",W)}],[Hi.ARROW_DOWN,W=>{W.preventDefault(),!e.readOnly&&w("minus",W)}]])),R=W=>{t("keydown",W),W.defaultPrevented||P(W)};u.watch(()=>e.modelValue,W=>{W!==g.value&&(v.value=p(W),S(W))});const $=()=>{var W,fe,ye;return e.readOnly?null:u.createVNode(u.Fragment,null,[n.suffix&&u.createVNode("div",{class:`${a}-suffix`},[(W=n.suffix)==null?void 0:W.call(n)]),u.createVNode("div",{class:`${a}-step`},[u.createVNode("button",{class:[`${a}-step-button`,{[`${a}-step-button-disabled`]:c.value||y.value}],type:"button",tabindex:"-1",disabled:c.value||y.value,onMousedown:_e=>T(_e,"plus",!0),onMouseup:C,onMouseleave:C},[n.plus?(fe=n.plus)==null?void 0:fe.call(n):u.createVNode(zM,null,null)]),u.createVNode("button",{class:[`${a}-step-button`,{[`${a}-step-button-disabled`]:c.value||m.value}],type:"button",tabindex:"-1",disabled:c.value||m.value,onMousedown:_e=>T(_e,"minus",!0),onMouseup:C,onMouseleave:C},[n.minus?(ye=n.minus)==null?void 0:ye.call(n):u.createVNode(X1,null,null)])])])},Y=u.computed(()=>[a,`${a}-mode-${e.mode}`,`${a}-size-${f.value}`,{[`${a}-readonly`]:e.readOnly}]),ie=()=>u.createVNode(Za,{size:f.value,tabindex:"-1",class:`${a}-step-button`,disabled:c.value||m.value,onMousedown:W=>T(W,"minus",!0),onMouseup:C,onMouseleave:C},{icon:()=>u.createVNode(kT,null,null)}),be=()=>u.createVNode(Za,{size:f.value,tabindex:"-1",class:`${a}-step-button`,disabled:c.value||y.value,onMousedown:W=>T(W,"plus",!0),onMouseup:C,onMouseleave:C},{icon:()=>u.createVNode(OT,null,null)});return{inputRef:s,render:()=>{const W=e.mode==="embed"?{prepend:n.prepend,prefix:n.prefix,suffix:e.hideButton?n.suffix:$,append:n.append}:{prepend:e.hideButton?n.prepend:ie,prefix:n.prefix,suffix:n.suffix,append:e.hideButton?n.append:be};return u.createVNode(L1,{key:`__arco__${e.mode}`,ref:s,class:Y.value,type:"text",allowClear:e.allowClear,size:f.value,modelValue:v.value,placeholder:e.placeholder,disabled:c.value,readonly:e.readOnly,error:e.error,inputAttrs:BT({role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":v.value},e.inputAttrs),onInput:k,onFocus:I,onBlur:te,onClear:E,onChange:X,onKeydown:R},W)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const tg=Object.assign(wh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+wh.name,wh)}});var nw=u.defineComponent({name:"InputAlpha",props:{value:{type:Number,required:!0},disabled:Boolean,onChange:Function},setup(e){const t=Fe("color-picker");return()=>u.createVNode(tg,{class:`${t}-input-alpha`,size:"mini",min:0,max:100,disabled:e.disabled,modelValue:Math.round(e.value*100),onChange:(n=100)=>{var r;return(r=e.onChange)==null?void 0:r.call(e,n/100)}},{suffix:()=>"%"})}}),VT=Object.defineProperty,ky=Object.getOwnPropertySymbols,zT=Object.prototype.hasOwnProperty,FT=Object.prototype.propertyIsEnumerable,Ry=(e,t,n)=>t in e?VT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ly=(e,t)=>{for(var n in t||(t={}))zT.call(t,n)&&Ry(e,n,t[n]);if(ky)for(var n of ky(t))FT.call(t,n)&&Ry(e,n,t[n]);return e},HT=u.defineComponent({name:"InputRgb",props:{color:{type:Object,required:!0},alpha:{type:Number,required:!0},disabled:Boolean,disabledAlpha:Boolean,onHsvChange:Function,onAlphaChange:Function},setup(e){const t=Fe("color-picker"),{color:n}=u.toRefs(e),r=o=>{var i;const a=Ly(Ly({},n.value.rgb),o),s=zd(a.r,a.g,a.b);(i=e.onHsvChange)==null||i.call(e,s)};return()=>u.createVNode(Wa,{class:`${t}-input-group`},{default:()=>[["r","g","b"].map(o=>u.createVNode(tg,{key:o,size:"mini",min:0,max:255,disabled:e.disabled,modelValue:n.value.rgb[o],hideButton:!0,onChange:(i=0)=>r({[o]:i})},null)),!e.disabledAlpha&&u.createVNode(nw,{disabled:e.disabled,value:e.alpha,onChange:e.onAlphaChange},null)]})}}),WT=u.defineComponent({name:"InputHex",props:{color:{type:Object,required:!0},alpha:{type:Number,required:!0},disabled:Boolean,disabledAlpha:Boolean,onHsvChange:Function,onAlphaChange:Function},setup(e){const t=Fe("color-picker"),{color:n}=u.toRefs(e),[r,o]=Bl(n.value.hex),i=l=>{var c;const d=J1(l)||{r:255,g:0,b:0},f=zd(d.r,d.g,d.b);(c=e.onHsvChange)==null||c.call(e,f)},a=l=>{var c,d;const f=(d=(c=l.match(/[a-fA-F0-9]*/g))==null?void 0:c.join(""))!=null?d:"";f!==n.value.hex&&i(f.toUpperCase())},s=l=>{if(!l.clipboardData)return;let c=l.clipboardData.getData("Text");c.startsWith("#")&&(c=c.slice(1)),a(c),l.preventDefault()};return u.watch(n,()=>{n.value.hex!==r.value&&o(n.value.hex)}),()=>u.createVNode(Wa,{class:`${t}-input-group`},{default:()=>[u.createVNode(L1,{class:`${t}-input-hex`,size:"mini",maxLength:6,disabled:e.disabled,modelValue:r.value,onInput:o,onChange:a,onBlur:()=>i,onPressEnter:()=>i,onPaste:s},{prefix:()=>"#"}),!e.disabledAlpha&&u.createVNode(nw,{disabled:e.disabled,value:e.alpha,onChange:e.onAlphaChange},null)]})}}),GT=u.defineComponent({name:"Panel",props:{color:{type:Object,required:!0},alpha:{type:Number,required:!0},colorString:String,disabled:Boolean,disabledAlpha:Boolean,showHistory:Boolean,showPreset:Boolean,format:String,historyColors:Array,presetColors:Array,onAlphaChange:Function,onHsvChange:Function},setup(e){const{t}=Fv(),n=Fe("color-picker"),r=u.computed(()=>e.color.hsv),[o,i]=Bl(e.format||"hex"),a=h=>{i(h)};u.ref(!1);const s=h=>{var p;const v=J1(h)||{r:255,g:0,b:0},g=zd(v.r,v.g,v.b);(p=e.onHsvChange)==null||p.call(e,g)},l=()=>{const h={color:e.color,alpha:e.alpha,disabled:e.disabled,disabledAlpha:e.disabledAlpha,onHsvChange:e.onHsvChange,onAlphaChange:e.onAlphaChange};return o.value==="rgb"?u.createVNode(HT,h,null):u.createVNode(WT,h,null)},c=h=>u.createVNode("div",{key:h,class:`${n}-color-block`,style:{backgroundColor:h},onClick:()=>s(h)},[u.createVNode("div",{class:`${n}-block`,style:{backgroundColor:h}},null)]),d=(h,p)=>u.createVNode("div",{class:`${n}-colors-section`},[u.createVNode("div",{class:`${n}-colors-text`},[h]),u.createVNode("div",{class:`${n}-colors-wrapper`},[p!=null&&p.length?u.createVNode("div",{class:`${n}-colors-list`},[p.map(c)]):u.createVNode("span",{class:`${n}-colors-empty`},[t("colorPicker.empty")])])]),f=()=>e.showHistory||e.showPreset?u.createVNode("div",{class:`${n}-panel-colors`},[e.showHistory&&d(t("colorPicker.history"),e.historyColors),e.showPreset&&d(t("colorPicker.preset"),e.presetColors)]):null;return()=>u.createVNode("div",{class:{[`${n}-panel`]:!0,[`${n}-panel-disabled`]:e.disabled}},[u.createVNode(mT,{color:e.color,onChange:(h,p)=>{var v;return(v=e.onHsvChange)==null?void 0:v.call(e,{h:r.value.h,s:h,v:p})}},null),u.createVNode("div",{class:`${n}-panel-control`},[u.createVNode("div",{class:`${n}-control-wrapper`},[u.createVNode("div",null,[u.createVNode(Ty,{type:"hue",x:r.value.h,color:e.color,colorString:e.colorString,onChange:h=>{var p;return(p=e.onHsvChange)==null?void 0:p.call(e,{h,s:r.value.s,v:r.value.v})}},null),!e.disabledAlpha&&u.createVNode(Ty,{type:"alpha",x:e.alpha,color:e.color,colorString:e.colorString,onChange:e.onAlphaChange},null)]),u.createVNode("div",{class:`${n}-preview`,style:{backgroundColor:e.colorString}},null)]),u.createVNode("div",{class:`${n}-input-wrapper`},[u.createVNode(U1,{class:`${n}-select`,size:"mini","trigger-props":{class:`${n}-select-popup`},options:[{value:"hex",label:"Hex"},{value:"rgb",label:"RGB"}],modelValue:o.value,onChange:a},null),u.createVNode("div",{class:`${n}-group-wrapper`},[l()])])]),f()])}}),xh=u.defineComponent({name:"ColorPicker",props:{modelValue:String,defaultValue:{type:String},format:{type:String},size:{type:String,default:"medium"},showText:{type:Boolean,default:!1},showHistory:{type:Boolean,default:!1},showPreset:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledAlpha:{type:Boolean,default:!1},hideTrigger:{type:Boolean},triggerProps:{type:Object},historyColors:{type:Array},presetColors:{type:Array,default:()=>nT}},emits:{"update:modelValue":e=>!0,change:e=>!0,"popup-visible-change":(e,t)=>!0},setup(e,{emit:t,slots:n}){const r=Fe("color-picker"),o=u.computed(()=>{var _;return(_=e.modelValue)!=null?_:e.defaultValue}),i=u.computed(()=>vT(o.value||"")),[a,s]=Bl(i.value.a),[l,c]=Bl({h:i.value.h,s:i.value.s,v:i.value.v});u.watch(()=>i.value,_=>{o.value!==h.value&&(s(_.a),c({h:_.h,s:_.s,v:_.v}))});const d=u.computed(()=>{const _=Z1(l.value.h,l.value.s,l.value.v),C=My(_.r,_.g,_.b);return{hsv:l.value,rgb:_,hex:C}}),f=u.computed(()=>{const{r:_,g:C,b:x}=d.value.rgb;return`rgba(${_}, ${C}, ${x}, ${a.value.toFixed(2)})`}),h=u.computed(()=>{const{r:_,g:C,b:x}=d.value.rgb;return e.format==="rgb"?a.value<1&&!e.disabledAlpha?`rgba(${_}, ${C}, ${x}, ${a.value.toFixed(2)})`:`rgb(${_}, ${C}, ${x})`:a.value<1&&!e.disabledAlpha?`#${gT(_,C,x,a.value)}`:`#${My(_,C,x)}`});u.watch(h,_=>{t("update:modelValue",_),t("change",_)});const p=_=>{!e.disabled&&c(_)},v=_=>{!e.disabled&&s(_)},g=_=>{t("popup-visible-change",_,h.value)},m=()=>u.createVNode("div",{class:{[r]:!0,[`${r}-size-${e.size}`]:e.size,[`${r}-disabled`]:e.disabled}},[u.createVNode("div",{class:`${r}-preview`,style:{backgroundColor:h.value}},null),e.showText&&u.createVNode("div",{class:`${r}-value`},[h.value]),u.createVNode("input",{class:`${r}-input`,value:h.value,disabled:e.disabled},null)]),y=()=>u.createVNode(GT,{color:d.value,alpha:a.value,colorString:f.value,historyColors:e.historyColors,presetColors:e.presetColors,showHistory:e.showHistory,showPreset:e.showPreset,disabled:e.disabled,disabledAlpha:e.disabledAlpha,format:e.format,onHsvChange:p,onAlphaChange:v},null);return()=>e.hideTrigger?y():u.createVNode(Mc,u.mergeProps({trigger:"click",position:"bl",animationName:"slide-dynamic-origin",popupOffset:4,disabled:e.disabled,onPopupVisibleChange:g},e.triggerProps),{default:()=>[n.default?n.default():m()],content:y})}});const XT=Object.assign(xh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+xh.name,xh)}}),UT=u.defineComponent({name:"ConfigProvider",props:{prefixCls:{type:String,default:"arco"},locale:{type:Object},size:{type:String},global:{type:Boolean,default:!1},updateAtScroll:{type:Boolean,default:!1},scrollToClose:{type:Boolean,default:!1},exchangeTime:{type:Boolean,default:!0}},setup(e,{slots:t}){const{prefixCls:n,locale:r,size:o,updateAtScroll:i,scrollToClose:a,exchangeTime:s}=u.toRefs(e),l=u.reactive({slots:t,prefixCls:n,locale:r,size:o,updateAtScroll:i,scrollToClose:a,exchangeTime:s});if(e.global){const c=u.getCurrentInstance();c&&c.appContext.app.provide(Vo,l)}else u.provide(Vo,l)}});function YT(e,t,n,r,o,i){return u.renderSlot(e.$slots,"default")}var Eh=_t(UT,[["render",YT]]);const KT=Object.assign(Eh,{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+Eh.name,Eh)}}),qT=e=>{const t=u.ref(!1),n={overflow:"",width:"",boxSizing:""};return{setOverflowHidden:()=>{if(e.value){const i=e.value;if(!t.value&&i.style.overflow!=="hidden"){const a=aN(i);(a>0||iN(i))&&(n.overflow=i.style.overflow,n.width=i.style.width,n.boxSizing=i.style.boxSizing,i.style.overflow="hidden",i.style.width=`${i.offsetWidth-a}px`,i.style.boxSizing="border-box",t.value=!0)}}},resetOverflow:()=>{if(e.value&&t.value){const i=e.value;i.style.overflow=n.overflow,i.style.width=n.width,i.style.boxSizing=n.boxSizing,t.value=!1}}}},ZT=({modalRef:e,wrapperRef:t,draggable:n,alignCenter:r})=>{const o=u.ref(!1),i=u.ref([0,0]),a=u.ref([0,0]),s=u.ref(),l=u.ref([0,0]),c=u.ref([0,0]),d=()=>{var v,g,m;if(t.value&&e.value){const{top:y,left:_}=t.value.getBoundingClientRect(),{clientWidth:C,clientHeight:x}=t.value,{top:S,left:b,width:w,height:T}=e.value.getBoundingClientRect(),k=r.value?0:(v=e.value)==null?void 0:v.offsetTop,I=b-_,X=S-y-k;(I!==((g=a.value)==null?void 0:g[0])||X!==((m=a.value)==null?void 0:m[1]))&&(a.value=[I,X]);const te=C>w?C-w:0,E=x>T?x-T-k:0;(te!==c.value[0]||E!==c.value[1])&&(c.value=[te,E]),k&&(l.value=[0,0-k])}},f=v=>{n.value&&(v.preventDefault(),o.value=!0,d(),i.value=[v.x,v.y],po(window,"mousemove",h),po(window,"mouseup",p),po(window,"contextmenu",p))},h=v=>{if(o.value){const g=v.x-i.value[0],m=v.y-i.value[1];let y=a.value[0]+g,_=a.value[1]+m;y<l.value[0]&&(y=l.value[0]),y>c.value[0]&&(y=c.value[0]),_<l.value[1]&&(_=l.value[1]),_>c.value[1]&&(_=c.value[1]),s.value=[y,_]}},p=()=>{o.value=!1,Ji(window,"mousemove",h),Ji(window,"mouseup",p)};return{position:s,handleMoveDown:f}};var JT=Object.defineProperty,$y=Object.getOwnPropertySymbols,QT=Object.prototype.hasOwnProperty,eP=Object.prototype.propertyIsEnumerable,By=(e,t,n)=>t in e?JT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tP=(e,t)=>{for(var n in t||(t={}))QT.call(t,n)&&By(e,n,t[n]);if($y)for(var n of $y(t))eP.call(t,n)&&By(e,n,t[n]);return e},nP=u.defineComponent({name:"Modal",components:{ClientOnly:I1,ArcoButton:Za,IconHover:Jr,IconClose:ou,IconInfoCircleFill:_N,IconCheckCircleFill:P1,IconExclamationCircleFill:D1,IconCloseCircleFill:k1},inheritAttrs:!1,props:{visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},width:{type:[Number,String]},top:{type:[Number,String]},mask:{type:Boolean,default:!0},title:{type:String},titleAlign:{type:String,default:"center"},alignCenter:{type:Boolean,default:!0},unmountOnClose:Boolean,maskClosable:{type:Boolean,default:!0},hideCancel:{type:Boolean,default:!1},simple:{type:Boolean,default:e=>e.notice},closable:{type:Boolean,default:!0},okText:String,cancelText:String,okLoading:{type:Boolean,default:!1},okButtonProps:{type:Object},cancelButtonProps:{type:Object},footer:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},popupContainer:{type:[String,Object],default:"body"},maskStyle:{type:Object},modalClass:{type:[String,Array]},modalStyle:{type:Object},onBeforeOk:{type:Function},onBeforeCancel:{type:Function},escToClose:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},maskAnimationName:{type:String,default:e=>e.fullscreen?"fade-in-standard":"fade-modal"},modalAnimationName:{type:String,default:e=>e.fullscreen?"zoom-in":"zoom-modal"},bodyClass:{type:[String,Array]},bodyStyle:{type:[String,Object,Array]},messageType:{type:String},hideTitle:{type:Boolean,default:!1}},emits:{"update:visible":e=>!0,ok:e=>!0,cancel:e=>!0,open:()=>!0,close:()=>!0,beforeOpen:()=>!0,beforeClose:()=>!0},setup(e,{emit:t}){const{fullscreen:n,popupContainer:r,alignCenter:o}=u.toRefs(e),i=Fe("modal"),{t:a}=Fv(),s=u.ref(),l=u.ref(),c=u.ref(e.defaultVisible),d=u.computed(()=>{var Se;return(Se=e.visible)!=null?Se:c.value}),f=u.ref(!1),h=u.computed(()=>e.okLoading||f.value),p=u.computed(()=>e.draggable&&!e.fullscreen),{teleportContainer:v,containerRef:g}=j1({popupContainer:r,visible:d}),m=u.ref(d.value),y=u.computed(()=>e.okText||a("modal.okText")),_=u.computed(()=>e.cancelText||a("modal.cancelText")),{zIndex:C,isLastDialog:x}=B1("dialog",{visible:d});let S=!1;const b=Se=>{e.escToClose&&Se.key===Hi.ESC&&x()&&P(Se)},w=()=>{e.escToClose&&!S&&(S=!0,po(document.documentElement,"keydown",b))},T=()=>{S=!1,Ji(document.documentElement,"keydown",b)};let k=0;const{position:I,handleMoveDown:X}=ZT({wrapperRef:s,modalRef:l,draggable:p,alignCenter:o}),te=()=>{k++,f.value&&(f.value=!1),c.value=!1,t("update:visible",!1)},E=async Se=>{const L=k,J=await new Promise(async q=>{var de;if(un(e.onBeforeOk)){let pe=e.onBeforeOk((ue=!0)=>q(ue));if((jm(pe)||!$l(pe))&&(f.value=!0),jm(pe))try{pe=(de=await pe)!=null?de:!0}catch{pe=!1}$l(pe)&&q(pe)}else q(!0)});L===k&&(J?(t("ok",Se),te()):f.value&&(f.value=!1))},P=Se=>{var L;let J=!0;un(e.onBeforeCancel)&&(J=(L=e.onBeforeCancel())!=null?L:!1),J&&(t("cancel",Se),te())},R=u.ref(!1),$=Se=>{Se.target===s.value&&(R.value=!0)},Y=Se=>{e.mask&&e.maskClosable&&R.value&&P(Se)},ie=()=>{d.value&&(!tN(s.value,document.activeElement)&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),t("open"))},be=()=>{d.value||(p.value&&(I.value=void 0),m.value=!1,W(),t("close"))},{setOverflowHidden:ne,resetOverflow:W}=qT(g);u.onMounted(()=>{g.value=cp(e.popupContainer),d.value&&(ne(),e.escToClose&&w())}),u.onBeforeUnmount(()=>{W(),T()}),u.watch(d,Se=>{c.value!==Se&&(c.value=Se),Se?(t("beforeOpen"),m.value=!0,R.value=!1,ne(),w()):(t("beforeClose"),T())}),u.watch(n,()=>{I.value&&(I.value=void 0)});const fe=u.computed(()=>[`${i}-wrapper`,{[`${i}-wrapper-align-center`]:e.alignCenter&&!e.fullscreen,[`${i}-wrapper-moved`]:!!I.value}]),ye=u.computed(()=>[`${i}`,e.modalClass,{[`${i}-simple`]:e.simple,[`${i}-draggable`]:p.value,[`${i}-fullscreen`]:e.fullscreen}]),_e=u.computed(()=>{var Se;const L=tP({},(Se=e.modalStyle)!=null?Se:{});return e.width&&!e.fullscreen&&(L.width=ht(e.width)?`${e.width}px`:e.width),!e.alignCenter&&e.top&&(L.top=ht(e.top)?`${e.top}px`:e.top),I.value&&(L.transform=`translate(${I.value[0]}px, ${I.value[1]}px)`),L});return{prefixCls:i,mounted:m,computedVisible:d,containerRef:g,wrapperRef:s,mergedModalStyle:_e,okDisplayText:y,cancelDisplayText:_,zIndex:C,handleOk:E,handleCancel:P,handleMaskClick:Y,handleMaskMouseDown:$,handleOpen:ie,handleClose:be,mergedOkLoading:h,modalRef:l,wrapperCls:fe,modalCls:ye,teleportContainer:v,handleMoveDown:X}}});function rP(e,t,n,r,o,i){const a=u.resolveComponent("icon-info-circle-fill"),s=u.resolveComponent("icon-check-circle-fill"),l=u.resolveComponent("icon-exclamation-circle-fill"),c=u.resolveComponent("icon-close-circle-fill"),d=u.resolveComponent("icon-close"),f=u.resolveComponent("icon-hover"),h=u.resolveComponent("arco-button"),p=u.resolveComponent("client-only");return u.openBlock(),u.createBlock(p,null,{default:u.withCtx(()=>[(u.openBlock(),u.createBlock(u.Teleport,{to:e.teleportContainer,disabled:!e.renderToBody},[!e.unmountOnClose||e.computedVisible||e.mounted?u.withDirectives((u.openBlock(),u.createElementBlock("div",u.mergeProps({key:0,class:`${e.prefixCls}-container`,style:{zIndex:e.zIndex}},e.$attrs),[u.createVNode(u.Transition,{name:e.maskAnimationName,appear:""},{default:u.withCtx(()=>[e.mask?u.withDirectives((u.openBlock(),u.createElementBlock("div",{key:0,ref:"maskRef",class:u.normalizeClass(`${e.prefixCls}-mask`),style:u.normalizeStyle(e.maskStyle)},null,6)),[[u.vShow,e.computedVisible]]):u.createCommentVNode("v-if",!0)]),_:1},8,["name"]),u.createElementVNode("div",{ref:"wrapperRef",class:u.normalizeClass(e.wrapperCls),onClick:t[2]||(t[2]=u.withModifiers((...v)=>e.handleMaskClick&&e.handleMaskClick(...v),["self"])),onMousedown:t[3]||(t[3]=u.withModifiers((...v)=>e.handleMaskMouseDown&&e.handleMaskMouseDown(...v),["self"]))},[u.createVNode(u.Transition,{name:e.modalAnimationName,appear:"",onAfterEnter:e.handleOpen,onAfterLeave:e.handleClose},{default:u.withCtx(()=>[u.withDirectives(u.createElementVNode("div",{ref:"modalRef",class:u.normalizeClass(e.modalCls),style:u.normalizeStyle(e.mergedModalStyle)},[!e.hideTitle&&(e.$slots.title||e.title||e.closable)?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(`${e.prefixCls}-header`),onMousedown:t[1]||(t[1]=(...v)=>e.handleMoveDown&&e.handleMoveDown(...v))},[e.$slots.title||e.title?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass([`${e.prefixCls}-title`,`${e.prefixCls}-title-align-${e.titleAlign}`])},[e.messageType?(u.openBlock(),u.createElementBlock("div",{key:0,class:u.normalizeClass(`${e.prefixCls}-title-icon`)},[e.messageType==="info"?(u.openBlock(),u.createBlock(a,{key:0})):u.createCommentVNode("v-if",!0),e.messageType==="success"?(u.openBlock(),u.createBlock(s,{key:1})):u.createCommentVNode("v-if",!0),e.messageType==="warning"?(u.openBlock(),u.createBlock(l,{key:2})):u.createCommentVNode("v-if",!0),e.messageType==="error"?(u.openBlock(),u.createBlock(c,{key:3})):u.createCommentVNode("v-if",!0)],2)):u.createCommentVNode("v-if",!0),u.renderSlot(e.$slots,"title",{},()=>[u.createTextVNode(u.toDisplayString(e.title),1)])],2)):u.createCommentVNode("v-if",!0),!e.simple&&e.closable?(u.openBlock(),u.createElementBlock("div",{key:1,tabindex:"-1",role:"button","aria-label":"Close",class:u.normalizeClass(`${e.prefixCls}-close-btn`),onClick:t[0]||(t[0]=(...v)=>e.handleCancel&&e.handleCancel(...v))},[u.createVNode(f,null,{default:u.withCtx(()=>[u.createVNode(d)]),_:1})],2)):u.createCommentVNode("v-if",!0)],34)):u.createCommentVNode("v-if",!0),u.createElementVNode("div",{class:u.normalizeClass([`${e.prefixCls}-body`,e.bodyClass]),style:u.normalizeStyle(e.bodyStyle)},[u.renderSlot(e.$slots,"default")],6),e.footer?(u.openBlock(),u.createElementBlock("div",{key:1,class:u.normalizeClass(`${e.prefixCls}-footer`)},[u.renderSlot(e.$slots,"footer",{},()=>[e.hideCancel?u.createCommentVNode("v-if",!0):(u.openBlock(),u.createBlock(h,u.mergeProps({key:0},e.cancelButtonProps,{onClick:e.handleCancel}),{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(e.cancelDisplayText),1)]),_:1},16,["onClick"])),u.createVNode(h,u.mergeProps({type:"primary"},e.okButtonProps,{loading:e.mergedOkLoading,onClick:e.handleOk}),{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(e.okDisplayText),1)]),_:1},16,["loading","onClick"])])],2)):u.createCommentVNode("v-if",!0)],6),[[u.vShow,e.computedVisible]])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],34)],16)),[[u.vShow,e.computedVisible||e.mounted]]):u.createCommentVNode("v-if",!0)],8,["to","disabled"]))]),_:3})}var hc=_t(nP,[["render",rP]]),oP=Object.defineProperty,iP=Object.defineProperties,aP=Object.getOwnPropertyDescriptors,Iy=Object.getOwnPropertySymbols,sP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,jy=(e,t,n)=>t in e?oP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ui=(e,t)=>{for(var n in t||(t={}))sP.call(t,n)&&jy(e,n,t[n]);if(Iy)for(var n of Iy(t))lP.call(t,n)&&jy(e,n,t[n]);return e},uP=(e,t)=>iP(e,aP(t));const Ch=(e,t)=>{let n=nN("modal");const r=()=>{c.component&&(c.component.props.visible=!1),un(e.onOk)&&e.onOk()},o=()=>{c.component&&(c.component.props.visible=!1),un(e.onCancel)&&e.onCancel()},i=async()=>{await u.nextTick(),n&&(u.render(null,n),document.body.removeChild(n)),n=null,un(e.onClose)&&e.onClose()},a=()=>{c.component&&(c.component.props.visible=!1)},s=d=>{c.component&&Object.entries(d).forEach(([f,h])=>{c.component.props[f]=h})},l={visible:!0,renderToBody:!1,unmountOnClose:!0,onOk:r,onCancel:o,onClose:i},c=u.createVNode(hc,Ui(Ui(Ui({},l),iu(e,["content","title","footer","visible","unmountOnClose","onOk","onCancel","onClose"])),{footer:typeof e.footer=="boolean"?e.footer:void 0}),{default:Ff(e.content),title:Ff(e.title),footer:typeof e.footer!="boolean"?Ff(e.footer):void 0});return(t??gp._context)&&(c.appContext=t??gp._context),u.render(c,n),document.body.appendChild(n),{close:a,update:s}},Sh=Ui({open:Ch,confirm:(e,t)=>{const n=Ui({simple:!0,messageType:"warning"},e);return Ch(n,t)}},LN.reduce((e,t)=>(e[t]=(n,r)=>{const o=Ui({simple:!0,hideCancel:!0,messageType:t},n);return Ch(o,r)},e),{})),gp=Object.assign(hc,uP(Ui({},Sh),{install:(e,t)=>{vn(e,t);const n=pn(t);e.component(n+hc.name,hc);const r={};for(const o of Object.keys(Sh))r[o]=(i,a=e._context)=>Sh[o](i,a);e.config.globalProperties.$modal=r},_context:null}));/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=({size:e,strokeWidth:t=2,absoluteStrokeWidth:n,color:r,iconNode:o,name:i,class:a,...s},{slots:l})=>u.h("svg",{...Pu,width:e||Pu.width,height:e||Pu.height,stroke:r||Pu.stroke,"stroke-width":n?Number(t)*24/Number(e):t,class:["lucide",`lucide-${cP(i??"icon")}`],...s},[...o.map(c=>u.h(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(e,t)=>(n,{slots:r})=>u.h(dP,{...n,iconNode:t,name:e},r);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=Pn("BoxIcon",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=Pn("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=Pn("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Pn("EraserIcon",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=Pn("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=Pn("FolderIcon",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Pn("FullscreenIcon",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Pn("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Pn("MapIcon",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Pn("Redo2Icon",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Pn("SaveIcon",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Pn("SquareMousePointerIcon",[["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}],["path",{d:"m12 12 4 10 1.7-4.3L22 16Z",key:"64ilsv"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=Pn("Undo2Icon",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=Pn("ZoomInIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-vue-next v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Pn("ZoomOutIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var Vy={width:40,height:40},zy={width:40,height:40},Fy={width:40,height:40},Hy={width:100,height:80},Wy={width:100,height:80},Hd,at,rw,Ii,Gy,ow,mp,ng,yp,_p,Vl={},iw=[],OP=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Wd=Array.isArray;function ri(e,t){for(var n in t)e[n]=t[n];return e}function aw(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function U(e,t,n){var r,o,i,a={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?Hd.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return pc(e,a,r,o,null)}function pc(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++rw,__i:-1,__u:0};return o==null&&at.vnode!=null&&at.vnode(i),i}function Gd(){return{current:null}}function Qi(e){return e.children}function ut(e,t){this.props=e,this.context=t}function Ja(e,t){if(t==null)return e.__?Ja(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ja(e):null}function sw(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return sw(e)}}function Xy(e){(!e.__d&&(e.__d=!0)&&Ii.push(e)&&!Tc.__r++||Gy!==at.debounceRendering)&&((Gy=at.debounceRendering)||ow)(Tc)}function Tc(){var e,t,n,r,o,i,a,s;for(Ii.sort(mp);e=Ii.shift();)e.__d&&(t=Ii.length,r=void 0,i=(o=(n=e).__v).__e,a=[],s=[],n.__P&&((r=ri({},o)).__v=o.__v+1,at.vnode&&at.vnode(r),rg(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[i]:null,a,i??Ja(o),!!(32&o.__u),s),r.__v=o.__v,r.__.__k[r.__i]=r,cw(a,r,s),r.__e!=i&&sw(r)),Ii.length>t&&Ii.sort(mp));Tc.__r=0}function lw(e,t,n,r,o,i,a,s,l,c,d){var f,h,p,v,g,m=r&&r.__k||iw,y=t.length;for(n.__d=l,AP(n,t,m),l=n.__d,f=0;f<y;f++)(p=n.__k[f])!=null&&(h=p.__i===-1?Vl:m[p.__i]||Vl,p.__i=f,rg(e,p,h,o,i,a,s,l,c,d),v=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&og(h.ref,null,p),d.push(p.ref,p.__c||v,p)),g==null&&v!=null&&(g=v),65536&p.__u||h.__k===p.__k?l=uw(p,l,e):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:v&&(l=v.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=l,n.__e=g}function AP(e,t,n){var r,o,i,a,s,l=t.length,c=n.length,d=c,f=0;for(e.__k=[],r=0;r<l;r++)(o=t[r])!=null&&typeof o!="boolean"&&typeof o!="function"?(a=r+f,(o=e.__k[r]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?pc(null,o,null,null,null):Wd(o)?pc(Qi,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?pc(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,i=null,(s=o.__i=MP(o,n,a,d))!==-1&&(d--,(i=n[s])&&(i.__u|=131072)),i==null||i.__v===null?(s==-1&&f--,typeof o.type!="function"&&(o.__u|=65536)):s!==a&&(s==a-1?f--:s==a+1?f++:(s>a?f--:f++,o.__u|=65536))):o=e.__k[r]=null;if(d)for(r=0;r<c;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=Ja(i)),dw(i,i))}function uw(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=uw(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Ja(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Pc(e,t){return t=t||[],e==null||typeof e=="boolean"||(Wd(e)?e.some(function(n){Pc(n,t)}):t.push(e)),t}function MP(e,t,n,r){var o=e.key,i=e.type,a=n-1,s=n+1,l=t[n];if(l===null||l&&o==l.key&&i===l.type&&!(131072&l.__u))return n;if((typeof i!="function"||i===Qi||o)&&r>(l!=null&&!(131072&l.__u)?1:0))for(;a>=0||s<t.length;){if(a>=0){if((l=t[a])&&!(131072&l.__u)&&o==l.key&&i===l.type)return a;a--}if(s<t.length){if((l=t[s])&&!(131072&l.__u)&&o==l.key&&i===l.type)return s;s++}}return-1}function Uy(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||OP.test(t)?n:n+"px"}function Du(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Uy(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Uy(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=ng,e.addEventListener(t,i?_p:yp,i)):e.removeEventListener(t,i?_p:yp,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Yy(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ng++;else if(t.t<n.u)return;return at.event&&(t=at.event(t)),"handleEvent"in n?n.handleEvent(t):n(t)}}}function rg(e,t,n,r,o,i,a,s,l,c){var d,f,h,p,v,g,m,y,_,C,x,S,b,w,T,k,I=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[s=t.__e=n.__e]),(d=at.__b)&&d(t);e:if(typeof I=="function")try{if(y=t.props,_="prototype"in I&&I.prototype.render,C=(d=I.contextType)&&r[d.__c],x=d?C?C.props.value:d.__:r,n.__c?m=(f=t.__c=n.__c).__=f.__E:(_?t.__c=f=new I(y,x):(t.__c=f=new ut(y,x),f.constructor=I,f.render=PP),C&&C.sub(f),f.props=y,f.state||(f.state={}),f.context=x,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),_&&f.__s==null&&(f.__s=f.state),_&&I.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ri({},f.__s)),ri(f.__s,I.getDerivedStateFromProps(y,f.__s))),p=f.props,v=f.state,f.__v=t,h)_&&I.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),_&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(_&&I.getDerivedStateFromProps==null&&y!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,x),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,x)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=y,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(X){X&&(X.__=t)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,x),_&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,v,g)})}if(f.context=x,f.props=y,f.__P=e,f.__e=!1,b=at.__r,w=0,_){for(f.state=f.__s,f.__d=!1,b&&b(t),d=f.render(f.props,f.state,f.context),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[]}else do f.__d=!1,b&&b(t),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++w<25);f.state=f.__s,f.getChildContext!=null&&(r=ri(ri({},r),f.getChildContext())),_&&!h&&f.getSnapshotBeforeUpdate!=null&&(g=f.getSnapshotBeforeUpdate(p,v)),lw(e,Wd(k=d!=null&&d.type===Qi&&d.key==null?d.props.children:d)?k:[k],t,n,r,o,i,a,s,l,c),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),m&&(f.__E=f.__=null)}catch(X){if(t.__v=null,l||i!=null){for(t.__u|=l?160:128;s&&s.nodeType===8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,t.__e=s}else t.__e=n.__e,t.__k=n.__k;at.__e(X,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=TP(n.__e,t,n,r,o,i,a,l,c);(d=at.diffed)&&d(t)}function cw(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)og(n[r],n[++r],n[++r]);at.__c&&at.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){at.__e(i,o.__v)}})}function TP(e,t,n,r,o,i,a,s,l){var c,d,f,h,p,v,g,m=n.props,y=t.props,_=t.type;if(_==="svg"?o="http://www.w3.org/2000/svg":_==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(c=0;c<i.length;c++)if((p=i[c])&&"setAttribute"in p==!!_&&(_?p.localName===_:p.nodeType===3)){e=p,i[c]=null;break}}if(e==null){if(_===null)return document.createTextNode(y);e=document.createElementNS(o,_,y.is&&y),s&&(at.__m&&at.__m(t,i),s=!1),i=null}if(_===null)m===y||s&&e.data===y||(e.data=y);else{if(i=i&&Hd.call(e.childNodes),m=n.props||Vl,!s&&i!=null)for(m={},c=0;c<e.attributes.length;c++)m[(p=e.attributes[c]).name]=p.value;for(c in m)if(p=m[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=p;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;Du(e,c,null,p,o)}}for(c in y)p=y[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?d=p:c=="value"?v=p:c=="checked"?g=p:s&&typeof p!="function"||m[c]===p||Du(e,c,p,m[c],o);if(d)s||f&&(d.__html===f.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(f&&(e.innerHTML=""),lw(e,Wd(h)?h:[h],t,n,r,_==="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:n.__k&&Ja(n,0),s,l),i!=null)for(c=i.length;c--;)aw(i[c]);s||(c="value",_==="progress"&&v==null?e.removeAttribute("value"):v!==void 0&&(v!==e[c]||_==="progress"&&!v||_==="option"&&v!==m[c])&&Du(e,c,v,m[c],o),c="checked",g!==void 0&&g!==e[c]&&Du(e,c,g,m[c],o))}return e}function og(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){at.__e(o,n)}}function dw(e,t,n){var r,o;if(at.unmount&&at.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||og(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){at.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&dw(r[o],t,n||typeof e.type!="function");n||aw(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function PP(e,t,n){return this.constructor(e,n)}function DP(e,t,n){var r,o,i,a;at.__&&at.__(e,t),o=(r=typeof n=="function")?null:t.__k,i=[],a=[],rg(t,e=(!r&&n||t).__k=U(Qi,null,[e]),o||Vl,Vl,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?Hd.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,a),cw(i,e,a)}Hd=iw.slice,at={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(s){e=s}throw e}},rw=0,ut.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ri({},this.state),typeof e=="function"&&(e=e(ri({},n),this.props)),e&&ri(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Xy(this))},ut.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Xy(this))},ut.prototype.render=Qi,Ii=[],ow=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,mp=function(e,t){return e.__v.__b-t.__v.__b},Tc.__r=0,ng=0,yp=Yy(!1),_p=Yy(!0);var kP="An invariant failed, however the error is obfuscated because this is a production build.",Dc=[];Object.freeze(Dc);var ig={};Object.freeze(ig);function Fn(){return++Oe.mobxGuid}function Ze(e){throw Vt(!1,e),"X"}function Vt(e,t){if(!e)throw new Error("[mobx] "+(t||kP))}var Ky=[];function RP(e,t){return process.env.NODE_ENV==="production"||Ky.indexOf(e)!==-1?!1:(Ky.push(e),console.error("[mobx] Deprecated: "+e),!0)}function ag(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ku=function(){};function LP(e){var t=[];return e.forEach(function(n){t.indexOf(n)===-1&&t.push(n)}),t}function sg(e){return e!==null&&typeof e=="object"}function ha(e){if(e===null||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function $P(e){if(bs(e)||Dn(e))return e;if(Array.isArray(e))return new Map(e);if(ha(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Ze("Cannot convert to map from '"+e+"'")}function _s(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function BP(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function fw(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||n.configurable!==!1&&n.writable!==!1}function IP(e,t){process.env.NODE_ENV!=="production"&&!fw(e,t)&&Ze("Cannot make property '"+t.toString()+"' observable, it is not configurable and writable in the target object")}function bi(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return sg(r)&&r[n]===!0}}function bs(e){return e instanceof Map}function au(e){return e instanceof Set}function lg(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach(function(r){Object.getOwnPropertyDescriptor(e,r).enumerable&&t.add(r)}),Array.from(t)}function vr(e){return e&&e.toString?e.toString():new String(e).toString()}function hw(e){return e===null?null:typeof e=="object"?""+e:e}var jP=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ue=Symbol("mobx administration"),ws=function(){function e(t){t===void 0&&(t="Atom@"+Fn()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=xt.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},e.prototype.reportObserved=function(){return Cw(this)},e.prototype.reportChanged=function(){Wr(),fD(this),Gr()},e.prototype.toString=function(){return this.name},e}(),ug=bi("Atom",ws);function cg(e,t,n){t===void 0&&(t=ku),n===void 0&&(n=ku);var r=new ws(e);return t!==ku&&OD(r,t),n!==ku&&Tw(r,n),r}function VP(e,t){return e===t}function zP(e,t){return mg(e,t)}function FP(e,t){return mg(e,t,1)}function HP(e,t){return Object.is(e,t)}var Qa={identity:VP,structural:zP,default:HP,shallow:FP};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bp=function(e,t){return bp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},bp(e,t)};function WP(e,t){bp(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Lt=function(){return Lt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lt.apply(this,arguments)};function Ir(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Ba(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function dg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ba(arguments[t]));return e}var kc=Symbol("mobx did run lazy initializers"),al=Symbol("mobx pending decorators"),GP={},XP={};function UP(e,t){var n=t?GP:XP;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return ea(this),this[e]},set:function(r){ea(this),this[e]=r}})}function ea(e){var t,n;if(e[kc]!==!0){var r=e[al];if(r){_s(e,kc,!0);var o=dg(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=Ir(o),a=i.next();!a.done;a=i.next()){var s=a.value,l=r[s];l.propertyCreator(e,l.prop,l.descriptor,l.decoratorTarget,l.decoratorArguments)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function pw(e,t){return function(){var r,o=function(a,s,l,c){if(c===!0)return t(a,s,l,a,r),null;if(process.env.NODE_ENV!=="production"&&!qy(arguments)&&Ze("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(a,al)){var d=a[al];_s(a,al,Lt({},d))}return a[al][s]={prop:s,propertyCreator:t,descriptor:l,decoratorTarget:a,decoratorArguments:r},UP(s,e)};return qy(arguments)?(r=Dc,o.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),o)}}function qy(e){return(e.length===2||e.length===3)&&(typeof e[1]=="string"||typeof e[1]=="symbol")||e.length===4&&e[3]===!0}function su(e,t,n){return di(e)?e:Array.isArray(e)?ee.array(e,{name:n}):ha(e)?ee.object(e,void 0,{name:n}):bs(e)?ee.map(e,{name:n}):au(e)?ee.set(e,{name:n}):e}function YP(e,t,n){return e==null||to(e)||Eo(e)||Dn(e)||Cr(e)?e:Array.isArray(e)?ee.array(e,{name:n,deep:!1}):ha(e)?ee.object(e,void 0,{name:n,deep:!1}):bs(e)?ee.map(e,{name:n,deep:!1}):au(e)?ee.set(e,{name:n,deep:!1}):Ze(process.env.NODE_ENV!=="production"&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")}function Xd(e){return e}function KP(e,t,n){if(process.env.NODE_ENV!=="production"&&di(e))throw"observable.struct should not be used with observable values";return mg(e,t)?t:e}function Ud(e){Vt(e);var t=pw(!0,function(r,o,i,a,s){process.env.NODE_ENV!=="production"&&Vt(!i||!i.get,'@observable cannot be used on getter (property "'+vr(o)+'"), use @computed instead.');var l=i?i.initializer?i.initializer.call(r):i.value:void 0;gg(r).addObservableProp(o,l,e)}),n=typeof process<"u"&&process.env&&process.env.NODE_ENV!=="production"?function(){return arguments.length<2?Ze("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var vw={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(vw);function qP(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||Ze("invalid option for (extend)observable: "+e)}function La(e){if(e==null)return vw;if(typeof e=="string")return{name:e,deep:!0,proxy:!0};if(process.env.NODE_ENV!=="production"){if(typeof e!="object")return Ze("expected options object");Object.keys(e).forEach(qP)}return e}var fg=Ud(su),ZP=Ud(YP),gw=Ud(Xd),JP=Ud(KP);function Ru(e){return e.defaultDecorator?e.defaultDecorator.enhancer:e.deep===!1?Xd:su}function QP(e,t,n){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return fg.apply(null,arguments);if(di(e))return e;var r=ha(e)?ee.object(e,t,n):Array.isArray(e)?ee.array(e,t):bs(e)?ee.map(e,t):au(e)?ee.set(e,t):e;if(r!==e)return r;Ze(process.env.NODE_ENV!=="production"&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")}var Zy={box:function(e,t){arguments.length>2&&Ws("box");var n=La(t);return new Ki(e,Ru(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Ws("array");var n=La(t);return zD(e,Ru(n),n.name)},map:function(e,t){arguments.length>2&&Ws("map");var n=La(t);return new vg(e,Ru(n),n.name)},set:function(e,t){arguments.length>2&&Ws("set");var n=La(t);return new jw(e,Ru(n),n.name)},object:function(e,t,n){typeof arguments[1]=="string"&&Ws("object");var r=La(n);if(r.proxy===!1)return Sp({},e,t,r);var o=Dw(r),i=Sp({},void 0,void 0,r),a=ID(i);return kw(a,e,t,o),a},ref:gw,shallow:ZP,deep:fg,struct:JP},ee=QP;Object.keys(Zy).forEach(function(e){return ee[e]=Zy[e]});function Ws(e){Ze("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}var Rc=pw(!1,function(e,t,n,r,o){process.env.NODE_ENV!=="production"&&Vt(n&&n.get,"Trying to declare a computed value for unspecified getter '"+vr(t)+"'");var i=n.get,a=n.set,s=o[0]||{};gg(e).addComputedProp(e,t,Lt({get:i,set:a,context:e},s))}),eD=Rc({equals:Qa.structural}),Pt=function(t,n,r){if(typeof n=="string"||t!==null&&typeof t=="object"&&arguments.length===1)return Rc.apply(null,arguments);process.env.NODE_ENV!=="production"&&(Vt(typeof t=="function","First argument to `computed` should be an expression."),Vt(arguments.length<3,"Computed takes one or two arguments if used as function"));var o=typeof n=="object"?n:{};return o.get=t,o.set=typeof n=="function"?n:o.set,o.name=o.name||t.name||"",new ts(o)};Pt.struct=eD;var xt;(function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"})(xt||(xt={}));var Hr;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Hr||(Hr={}));var Lc=function(){function e(t){this.cause=t}return e}();function sl(e){return e instanceof Lc}function wp(e){switch(e.dependenciesState){case xt.UP_TO_DATE:return!1;case xt.NOT_TRACKING:case xt.STALE:return!0;case xt.POSSIBLY_STALE:{for(var t=hg(!0),n=xs(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(ns(a)){if(Oe.disableErrorBoundaries)a.get();else try{a.get()}catch{return li(n),gl(t),!0}if(e.dependenciesState===xt.STALE)return li(n),gl(t),!0}}return _w(e),li(n),gl(t),!1}}}function es(e){var t=e.observers.size>0;Oe.computationDepth>0&&t&&Ze(process.env.NODE_ENV!=="production"&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),!Oe.allowStateChanges&&(t||Oe.enforceActions==="strict")&&Ze(process.env.NODE_ENV!=="production"&&(Oe.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function tD(e){process.env.NODE_ENV!=="production"&&!Oe.allowStateReads&&Oe.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}function mw(e,t,n){var r=hg(!0);_w(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Oe.runId;var o=Oe.trackingDerivation;Oe.trackingDerivation=e;var i;if(Oe.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(a){i=new Lc(a)}return Oe.trackingDerivation=o,rD(e),nD(e),gl(r),i}function nD(e){process.env.NODE_ENV!=="production"&&e.observing.length===0&&(Oe.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}function rD(e){for(var t=e.observing,n=e.observing=e.newObserving,r=xt.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){var s=n[a];s.diffValue===0&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>r&&(r=s.dependenciesState)}for(n.length=o,e.newObserving=null,i=t.length;i--;){var s=t[i];s.diffValue===0&&xw(s,e),s.diffValue=0}for(;o--;){var s=n[o];s.diffValue===1&&(s.diffValue=0,dD(s,e))}r!==xt.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}function xp(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)xw(t[n],e);e.dependenciesState=xt.NOT_TRACKING}function yw(e){var t=xs();try{return e()}finally{li(t)}}function xs(){var e=Oe.trackingDerivation;return Oe.trackingDerivation=null,e}function li(e){Oe.trackingDerivation=e}function hg(e){var t=Oe.allowStateReads;return Oe.allowStateReads=e,t}function gl(e){Oe.allowStateReads=e}function _w(e){if(e.dependenciesState!==xt.UP_TO_DATE){e.dependenciesState=xt.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=xt.UP_TO_DATE}}var $c=0,oD=1,Jy=Object.getOwnPropertyDescriptor(function(){},"name"),iD=Jy&&Jy.configurable;function Yi(e,t,n){process.env.NODE_ENV!=="production"&&(Vt(typeof t=="function","`action` can only be invoked on functions"),(typeof e!="string"||!e)&&Ze("actions should have valid names, got: '"+e+"'"));var r=function(){return bw(e,t,n||this,arguments)};return r.isMobxAction=!0,process.env.NODE_ENV!=="production"&&iD&&Object.defineProperty(r,"name",{value:e}),r}function bw(e,t,n,r){var o=aD(e,n,r);try{return t.apply(n,r)}catch(i){throw o.error=i,i}finally{sD(o)}}function aD(e,t,n){var r=dn()&&!!e,o=0;if(r&&process.env.NODE_ENV!=="production"){o=Date.now();var i=n&&n.length||0,a=new Array(i);if(i>0)for(var s=0;s<i;s++)a[s]=n[s];Qn({type:"action",name:e,object:t,arguments:a})}var l=xs();Wr();var c=Yd(!0),d=hg(!0),f={prevDerivation:l,prevAllowStateChanges:c,prevAllowStateReads:d,notifySpy:r,startTime:o,actionId:oD++,parentActionId:$c};return $c=f.actionId,f}function sD(e){$c!==e.actionId&&Ze("invalid action stack. did you forget to finish an action?"),$c=e.parentActionId,e.error!==void 0&&(Oe.suppressReactionErrors=!0),Kd(e.prevAllowStateChanges),gl(e.prevAllowStateReads),Gr(),li(e.prevDerivation),e.notifySpy&&process.env.NODE_ENV!=="production"&&er({time:Date.now()-e.startTime}),Oe.suppressReactionErrors=!1}function Yd(e){var t=Oe.allowStateChanges;return Oe.allowStateChanges=e,t}function Kd(e){Oe.allowStateChanges=e}var Ki=function(e){WP(t,e);function t(n,r,o,i,a){o===void 0&&(o="ObservableValue@"+Fn()),i===void 0&&(i=!0),a===void 0&&(a=Qa.default);var s=e.call(this,o)||this;return s.enhancer=r,s.name=o,s.equals=a,s.hasUnreportedChange=!1,s.value=r(n,void 0,o),i&&dn()&&process.env.NODE_ENV!=="production"&&ta({type:"create",name:s.name,newValue:""+s.value}),s}return t.prototype.dehanceValue=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.prototype.set=function(n){var r=this.value;if(n=this.prepareNewValue(n),n!==Oe.UNCHANGED){var o=dn();o&&process.env.NODE_ENV!=="production"&&Qn({type:"update",name:this.name,newValue:n,oldValue:r}),this.setNewValue(n),o&&process.env.NODE_ENV!=="production"&&er()}},t.prototype.prepareNewValue=function(n){if(es(this),vo(this)){var r=go(this,{object:this,type:"update",newValue:n});if(!r)return Oe.UNCHANGED;n=r.newValue}return n=this.enhancer(n,this.value,this.name),this.equals(this.value,n)?Oe.UNCHANGED:n},t.prototype.setNewValue=function(n){var r=this.value;this.value=n,this.reportChanged(),Xr(this)&&Ur(this,{type:"update",object:this,newValue:n,oldValue:r})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(n){return lu(this,n)},t.prototype.observe=function(n,r){return r&&n({object:this,type:"update",newValue:this.value,oldValue:void 0}),uu(this,n)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return hw(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(ws),lD=bi("ObservableValue",Ki),ts=function(){function e(t){this.dependenciesState=xt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=xt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Fn(),this.value=new Lc(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Hr.NONE,Vt(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+Fn(),t.set&&(this.setter=Yi(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?Qa.structural:Qa.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return e.prototype.onBecomeStale=function(){pD(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(t){return t()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(t){return t()})},e.prototype.get=function(){this.isComputing&&Ze("Cycle detected in computation "+this.name+": "+this.derivation),Oe.inBatch===0&&this.observers.size===0&&!this.keepAlive?wp(this)&&(this.warnAboutUntrackedRead(),Wr(),this.value=this.computeValue(!1),Gr()):(Cw(this),wp(this)&&this.trackAndCompute()&&hD(this));var t=this.value;if(sl(t))throw t.cause;return t},e.prototype.peek=function(){var t=this.computeValue(!1);if(sl(t))throw t.cause;return t},e.prototype.set=function(t){if(this.setter){Vt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else Vt(!1,process.env.NODE_ENV!=="production"&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){dn()&&process.env.NODE_ENV!=="production"&&ta({object:this.scope,type:"compute",name:this.name});var t=this.value,n=this.dependenciesState===xt.NOT_TRACKING,r=this.computeValue(!0),o=n||sl(t)||sl(r)||!this.equals(t,r);return o&&(this.value=r),o},e.prototype.computeValue=function(t){this.isComputing=!0,Oe.computationDepth++;var n;if(t)n=mw(this,this.derivation,this.scope);else if(Oe.disableErrorBoundaries===!0)n=this.derivation.call(this.scope);else try{n=this.derivation.call(this.scope)}catch(r){n=new Lc(r)}return Oe.computationDepth--,this.isComputing=!1,n},e.prototype.suspend=function(){this.keepAlive||(xp(this),this.value=void 0)},e.prototype.observe=function(t,n){var r=this,o=!0,i=void 0;return CD(function(){var a=r.get();if(!o||n){var s=xs();t({type:"update",object:r,newValue:a,oldValue:i}),li(s)}o=!1,i=a})},e.prototype.warnAboutUntrackedRead=function(){process.env.NODE_ENV!=="production"&&(this.requiresReaction===!0&&Ze("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==Hr.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Oe.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return hw(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),ns=bi("ComputedValue",ts),vc=function(){function e(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return e}(),uD={};function Bc(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:uD}var gc=!0,ww=!1,Oe=function(){var e=Bc();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(gc=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new vc().version&&(gc=!1),gc?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new vc):(setTimeout(function(){ww||Ze("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new vc)}();function cD(){(Oe.pendingReactions.length||Oe.inBatch||Oe.isRunningReactions)&&Ze("isolateGlobalState should be called before MobX is running any reactions"),ww=!0,gc&&(--Bc().__mobxInstanceCount===0&&(Bc().__mobxGlobals=void 0),Oe=new vc)}function Ep(){return Oe}function dD(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function xw(e,t){e.observers.delete(t),e.observers.size===0&&Ew(e)}function Ew(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Oe.pendingUnobservations.push(e))}function Wr(){Oe.inBatch++}function Gr(){if(--Oe.inBatch===0){Ow();for(var e=Oe.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof ts&&n.suspend())}Oe.pendingUnobservations=[]}}function Cw(e){tD(e);var t=Oe.trackingDerivation;return t!==null?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(e.observers.size===0&&Oe.inBatch>0&&Ew(e),!1)}function fD(e){e.lowestObserverState!==xt.STALE&&(e.lowestObserverState=xt.STALE,e.observers.forEach(function(t){t.dependenciesState===xt.UP_TO_DATE&&(t.isTracing!==Hr.NONE&&Sw(t,e),t.onBecomeStale()),t.dependenciesState=xt.STALE}))}function hD(e){e.lowestObserverState!==xt.STALE&&(e.lowestObserverState=xt.STALE,e.observers.forEach(function(t){t.dependenciesState===xt.POSSIBLY_STALE?t.dependenciesState=xt.STALE:t.dependenciesState===xt.UP_TO_DATE&&(e.lowestObserverState=xt.UP_TO_DATE)}))}function pD(e){e.lowestObserverState===xt.UP_TO_DATE&&(e.lowestObserverState=xt.POSSIBLY_STALE,e.observers.forEach(function(t){t.dependenciesState===xt.UP_TO_DATE&&(t.dependenciesState=xt.POSSIBLY_STALE,t.isTracing!==Hr.NONE&&Sw(t,e),t.onBecomeStale())}))}function Sw(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Hr.BREAK){var n=[];Nw(MD(e),n,1),new Function(`debugger;
/*
Tracing '`+e.name+`'

You are entering this break point because derivation '`+e.name+"' is being traced and '"+t.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(e instanceof ts?e.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+n.join(`
`)+`
*/
    `)()}}function Nw(e,t,n){if(t.length>=1e3){t.push("(and many more)");return}t.push(""+new Array(n).join("	")+e.name),e.dependencies&&e.dependencies.forEach(function(r){return Nw(r,t,n+1)})}var zl=function(){function e(t,n,r,o){t===void 0&&(t="Reaction@"+Fn()),o===void 0&&(o=!1),this.name=t,this.onInvalidate=n,this.errorHandler=r,this.requiresObservable=o,this.observing=[],this.newObserving=[],this.dependenciesState=xt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Fn(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Hr.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Oe.pendingReactions.push(this),Ow())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Wr(),this._isScheduled=!1,wp(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&dn()&&process.env.NODE_ENV!=="production"&&ta({name:this.name,type:"scheduled-reaction"})}catch(t){this.reportExceptionInDerivation(t)}}Gr()}},e.prototype.track=function(t){if(!this.isDisposed){Wr();var n=dn(),r;n&&process.env.NODE_ENV!=="production"&&(r=Date.now(),Qn({name:this.name,type:"reaction"})),this._isRunning=!0;var o=mw(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&xp(this),sl(o)&&this.reportExceptionInDerivation(o.cause),n&&process.env.NODE_ENV!=="production"&&er({time:Date.now()-r}),Gr()}},e.prototype.reportExceptionInDerivation=function(t){var n=this;if(this.errorHandler){this.errorHandler(t,this);return}if(Oe.disableErrorBoundaries)throw t;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Oe.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,t),dn()&&ta({type:"error",name:this.name,message:r,error:""+t}),Oe.globalReactionErrorHandlers.forEach(function(o){return o(t,n)})},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Wr(),xp(this),Gr()))},e.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[Ue]=this,t},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(t){t===void 0&&(t=!1),LD(this,t)},e}(),Qy=100,Cp=function(e){return e()};function Ow(){Oe.inBatch>0||Oe.isRunningReactions||Cp(vD)}function vD(){Oe.isRunningReactions=!0;for(var e=Oe.pendingReactions,t=0;e.length>0;){++t===Qy&&(console.error("Reaction doesn't converge to a stable state after "+Qy+" iterations."+(" Probably there is a cycle in the reactive function: "+e[0])),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Oe.isRunningReactions=!1}var Ic=bi("Reaction",zl);function gD(e){var t=Cp;Cp=function(n){return e(function(){return t(n)})}}function dn(){return process.env.NODE_ENV!=="production"&&!!Oe.spyListeners.length}function ta(e){if(process.env.NODE_ENV!=="production"&&Oe.spyListeners.length)for(var t=Oe.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Qn(e){if(process.env.NODE_ENV!=="production"){var t=Lt(Lt({},e),{spyReportStart:!0});ta(t)}}var mD={spyReportEnd:!0};function er(e){process.env.NODE_ENV!=="production"&&ta(e?Lt(Lt({},e),{spyReportEnd:!0}):mD)}function yD(e){return process.env.NODE_ENV==="production"?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(Oe.spyListeners.push(e),ag(function(){Oe.spyListeners=Oe.spyListeners.filter(function(t){return t!==e})}))}function _D(){Ze(process.env.NODE_ENV!=="production"&&"@action fields are not reassignable")}function e_(e){return function(t,n,r){if(r){if(process.env.NODE_ENV!=="production"&&r.get!==void 0)return Ze("@action cannot be used with getters");if(r.value)return{value:Yi(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Yi(e,o.call(this))}}}return bD(e).apply(this,arguments)}}function bD(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(o){_s(this,n,Z(e,o))}})}}function wD(e,t,n,r){return r===!0?(Nh(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Nh(this,t,n.value||n.initializer.call(this)),this[t]},set:_D}:{enumerable:!1,configurable:!0,set:function(o){Nh(this,t,o)},get:function(){}}}var Z=function(t,n,r,o){if(arguments.length===1&&typeof t=="function")return Yi(t.name||"<unnamed action>",t);if(arguments.length===2&&typeof n=="function")return Yi(t,n);if(arguments.length===1&&typeof t=="string")return e_(t);if(o===!0)_s(t,n,Yi(t.name||n,r.value,this));else return e_(n).apply(null,arguments)};Z.bound=wD;function xD(e,t){var n=typeof e=="string"?e:e.name||"<unnamed action>",r=typeof e=="function"?e:t;return process.env.NODE_ENV!=="production"&&(Vt(typeof r=="function"&&r.length===0,"`runInAction` expects a function without arguments"),(typeof n!="string"||!n)&&Ze("actions should have valid names, got: '"+n+"'")),bw(n,r,this,void 0)}function ED(e){return typeof e=="function"&&e.isMobxAction===!0}function Nh(e,t,n){_s(e,t,Yi(t,n.bind(e)))}function CD(e,t){t===void 0&&(t=ig),process.env.NODE_ENV!=="production"&&(Vt(typeof e=="function","Autorun expects a function as first argument"),Vt(ED(e)===!1,"Autorun does not accept actions since actions are untrackable"));var n=t&&t.name||e.name||"Autorun@"+Fn(),r=!t.scheduler&&!t.delay,o;if(r)o=new zl(n,function(){this.track(s)},t.onError,t.requiresObservable);else{var i=Aw(t),a=!1;o=new zl(n,function(){a||(a=!0,i(function(){a=!1,o.isDisposed||o.track(s)}))},t.onError,t.requiresObservable)}function s(){e(o)}return o.schedule(),o.getDisposer()}var SD=function(e){return e()};function Aw(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:SD}function Mw(e,t,n){n===void 0&&(n=ig),process.env.NODE_ENV!=="production"&&(Vt(typeof e=="function","First argument to reaction should be a function"),Vt(typeof n=="object","Third argument of reactions should be an object"));var r=n.name||"Reaction@"+Fn(),o=Z(r,n.onError?ND(n.onError,t):t),i=!n.scheduler&&!n.delay,a=Aw(n),s=!0,l=!1,c,d=n.compareStructural?Qa.structural:n.equals||Qa.default,f=new zl(r,function(){s||i?h():l||(l=!0,a(h))},n.onError,n.requiresObservable);function h(){if(l=!1,!f.isDisposed){var p=!1;f.track(function(){var v=e(f);p=s||!d(c,v),c=v}),s&&n.fireImmediately&&o(c,f),!s&&p===!0&&o(c,f),s&&(s=!1)}}return f.schedule(),f.getDisposer()}function ND(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}function OD(e,t,n){return Pw("onBecomeObserved",e,t)}function Tw(e,t,n){return Pw("onBecomeUnobserved",e,t)}function Pw(e,t,n,r){var o=fi(t),i=n,a=e+"Listeners";o[a]?o[a].add(i):o[a]=new Set([i]);var s=o[e];return typeof s!="function"?Ze(process.env.NODE_ENV!=="production"&&"Not an atom that can be (un)observed"):function(){var l=o[a];l&&(l.delete(i),l.size===0&&delete o[a])}}function AD(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.reactionScheduler,a=e.reactionRequiresObservable,s=e.observableRequiresReaction;if(e.isolateGlobalState===!0&&cD(),t!==void 0){(typeof t=="boolean"||t==="strict")&&RP(`Deprecated value for 'enforceActions', use 'false' => '"never"', 'true' => '"observed"', '"strict"' => "'always'" instead`);var l=void 0;switch(t){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:Ze("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Oe.enforceActions=l,Oe.allowStateChanges=!(l===!0||l==="strict")}n!==void 0&&(Oe.computedRequiresReaction=!!n),a!==void 0&&(Oe.reactionRequiresObservable=!!a),s!==void 0&&(Oe.observableRequiresReaction=!!s,Oe.allowStateReads=!Oe.observableRequiresReaction),r!==void 0&&(Oe.computedConfigurable=!!r),o!==void 0&&(o===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Oe.disableErrorBoundaries=!!o),i&&gD(i)}function Sp(e,t,n,r){process.env.NODE_ENV!=="production"&&(Vt(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),Vt(typeof e=="object","'extendObservable' expects an object as first argument"),Vt(!Dn(e),"'extendObservable' should not be used on maps, use map.merge instead")),r=La(r);var o=Dw(r);return ea(e),gg(e,r.name,o.enhancer),t&&kw(e,t,n,o),e}function Dw(e){return e.defaultDecorator||(e.deep===!1?gw:fg)}function kw(e,t,n,r){var o,i,a,s;if(process.env.NODE_ENV!=="production"&&(Vt(!di(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n)){var l=lg(n);try{for(var c=Ir(l),d=c.next();!d.done;d=c.next()){var f=d.value;f in t||Ze("Trying to declare a decorator for unspecified property '"+vr(f)+"'")}}catch(y){o={error:y}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}Wr();try{var l=jP(t);try{for(var h=Ir(l),p=h.next();!p.done;p=h.next()){var f=p.value,v=Object.getOwnPropertyDescriptor(t,f);process.env.NODE_ENV!=="production"&&(ha(t)||Ze("'extendObservable' only accepts plain objects as second argument"),$w(v.value)&&Ze("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var g=n&&f in n?n[f]:v.get?Rc:r;process.env.NODE_ENV!=="production"&&typeof g!="function"&&Ze("Not a valid decorator for '"+vr(f)+"', got: "+g);var m=g(e,f,v,!0);m&&Object.defineProperty(e,f,m)}}catch(_){a={error:_}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}}finally{Gr()}}function MD(e,t){return Rw(fi(e,t))}function Rw(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=LP(e.observing).map(Rw)),t}function Lw(e,t){if(e==null)return!1;if(t!==void 0){if(to(e)===!1||!e[Ue].values.has(t))return!1;var n=fi(e,t);return ns(n)}return ns(e)}function $w(e){return arguments.length>1?Ze(process.env.NODE_ENV!=="production"&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):Lw(e)}function t_(e,t){return typeof t!="string"?Ze(process.env.NODE_ENV!=="production"&&"isComputed expected a property name as second argument"):Lw(e,t)}function TD(e,t){return e==null?!1:to(e)||!!e[Ue]||ug(e)||Ic(e)||ns(e)}function di(e){return arguments.length!==1&&Ze(process.env.NODE_ENV!=="production"&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),TD(e)}function rs(e){return to(e)?e[Ue].getKeys():Dn(e)||Cr(e)?Array.from(e.keys()):Eo(e)?e.map(function(t,n){return n}):Ze(process.env.NODE_ENV!=="production"&&"'keys()' can only be used on observable objects, arrays, sets and maps")}function PD(e){return to(e)?rs(e).map(function(t){return e[t]}):Dn(e)?rs(e).map(function(t){return e.get(t)}):Cr(e)?Array.from(e.values()):Eo(e)?e.slice():Ze(process.env.NODE_ENV!=="production"&&"'values()' can only be used on observable objects, arrays, sets and maps")}function DD(e){return to(e)?rs(e).map(function(t){return[t,e[t]]}):Dn(e)?rs(e).map(function(t){return[t,e.get(t)]}):Cr(e)?Array.from(e.entries()):Eo(e)?e.map(function(t,n){return[n,t]}):Ze(process.env.NODE_ENV!=="production"&&"'entries()' can only be used on observable objects, arrays and maps")}function pg(e,t,n){if(arguments.length===2&&!Cr(e)){Wr();var r=t;try{for(var o in r)pg(e,o,r[o])}finally{Gr()}return}if(to(e)){var i=e[Ue],a=i.values.get(t);a?i.write(t,n):i.addObservableProp(t,n,i.defaultEnhancer)}else if(Dn(e))e.set(t,n);else if(Cr(e))e.add(t);else if(Eo(e))typeof t!="number"&&(t=parseInt(t,10)),Vt(t>=0,"Not a valid index: '"+t+"'"),Wr(),t>=e.length&&(e.length=t+1),e[t]=n,Gr();else return Ze(process.env.NODE_ENV!=="production"&&"'set()' can only be used on observable objects, arrays and maps")}function Bw(e,t,n,r){return kD(e,t,n)}function kD(e,t,n){return qd(e).observe(t,n)}var RD={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Oa(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Zo(e,t,n){if(!t.recurseEverything&&!di(e)||typeof e!="object")return e;if(e===null)return null;if(e instanceof Date)return e;if(lD(e))return Zo(e.get(),t,n);di(e)&&rs(e);var r=t.detectCycles===!0;if(r&&e!==null&&n.has(e))return n.get(e);if(Eo(e)||Array.isArray(e)){var o=Oa(n,e,[],t),i=e.map(function(p){return Zo(p,t,n)});o.length=i.length;for(var a=0,s=i.length;a<s;a++)o[a]=i[a];return o}if(Cr(e)||Object.getPrototypeOf(e)===Set.prototype)if(t.exportMapsAsObjects===!1){var l=Oa(n,e,new Set,t);return e.forEach(function(p){l.add(Zo(p,t,n))}),l}else{var c=Oa(n,e,[],t);return e.forEach(function(p){c.push(Zo(p,t,n))}),c}if(Dn(e)||Object.getPrototypeOf(e)===Map.prototype)if(t.exportMapsAsObjects===!1){var d=Oa(n,e,new Map,t);return e.forEach(function(p,v){d.set(v,Zo(p,t,n))}),d}else{var f=Oa(n,e,{},t);return e.forEach(function(p,v){f[v]=Zo(p,t,n)}),f}var h=Oa(n,e,{},t);return lg(e).forEach(function(p){h[p]=Zo(e[p],t,n)}),h}function $r(e,t){typeof t=="boolean"&&(t={detectCycles:t}),t||(t=RD),t.detectCycles=t.detectCycles===void 0?t.recurseEverything===!0:t.detectCycles===!0;var n;return t.detectCycles&&(n=new Map),Zo(e,t,n)}function LD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;typeof e[e.length-1]=="boolean"&&(n=e.pop());var r=$D(e);if(!r)return Ze(process.env.NODE_ENV!=="production"&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===Hr.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?Hr.BREAK:Hr.LOG}function $D(e){switch(e.length){case 0:return Oe.trackingDerivation;case 1:return fi(e[0]);case 2:return fi(e[0],e[1])}}function jr(e,t){t===void 0&&(t=void 0),Wr();try{return e.apply(t)}finally{Gr()}}function Lu(e){return e[Ue]}function $u(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"}var BD={has:function(e,t){if(t===Ue||t==="constructor"||t===kc)return!0;var n=Lu(e);return $u(t)?n.has(t):t in e},get:function(e,t){if(t===Ue||t==="constructor"||t===kc)return e[t];var n=Lu(e),r=n.values.get(t);if(r instanceof ws){var o=r.get();return o===void 0&&n.has(t),o}return $u(t)&&n.has(t),e[t]},set:function(e,t,n){return $u(t)?(pg(e,t,n),!0):!1},deleteProperty:function(e,t){if(!$u(t))return!1;var n=Lu(e);return n.remove(t),!0},ownKeys:function(e){var t=Lu(e);return t.keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return Ze("Dynamic observable objects cannot be frozen"),!1}};function ID(e){var t=new Proxy(e,BD);return e[Ue].proxy=t,t}function vo(e){return e.interceptors!==void 0&&e.interceptors.length>0}function lu(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),ag(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function go(e,t){var n=xs();try{for(var r=dg(e.interceptors||[]),o=0,i=r.length;o<i&&(t=r[o](t),Vt(!t||t.type,"Intercept handlers should return nothing or a change object"),!!t);o++);return t}finally{li(n)}}function Xr(e){return e.changeListeners!==void 0&&e.changeListeners.length>0}function uu(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),ag(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ur(e,t){var n=xs(),r=e.changeListeners;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);li(n)}}var jD=1e4,VD={get:function(e,t){return t===Ue?e[Ue]:t==="length"?e[Ue].getArrayLength():typeof t=="number"?Ro.get.call(e,t):typeof t=="string"&&!isNaN(t)?Ro.get.call(e,parseInt(t)):Ro.hasOwnProperty(t)?Ro[t]:e[t]},set:function(e,t,n){return t==="length"&&e[Ue].setArrayLength(n),typeof t=="number"&&Ro.set.call(e,t,n),typeof t=="symbol"||isNaN(t)?e[t]=n:Ro.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return Ze("Observable arrays cannot be frozen"),!1}};function zD(e,t,n,r){n===void 0&&(n="ObservableArray@"+Fn()),r===void 0&&(r=!1);var o=new Iw(n,t,r);BP(o.values,Ue,o);var i=new Proxy(o.values,VD);if(o.proxy=i,e&&e.length){var a=Yd(!0);o.spliceWithArray(0,0,e),Kd(a)}return i}var Iw=function(){function e(t,n,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new ws(t||"ObservableArray@"+Fn()),this.enhancer=function(o,i){return n(o,i,t+"[..]")}}return e.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},e.prototype.dehanceValues=function(t){return this.dehancer!==void 0&&t.length>0?t.map(this.dehancer):t},e.prototype.intercept=function(t){return lu(this,t)},e.prototype.observe=function(t,n){return n===void 0&&(n=!1),n&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),uu(this,t)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(t){if(typeof t!="number"||t<0)throw new Error("[mobx.array] Out of range: "+t);var n=this.values.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray(n,0,r)}else this.spliceWithArray(t,n-t)},e.prototype.updateArrayLength=function(t,n){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=n},e.prototype.spliceWithArray=function(t,n,r){var o=this;es(this.atom);var i=this.values.length;if(t===void 0?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),arguments.length===1?n=i-t:n==null?n=0:n=Math.max(0,Math.min(n,i-t)),r===void 0&&(r=Dc),vo(this)){var a=go(this,{object:this.proxy,type:"splice",index:t,removedCount:n,added:r});if(!a)return Dc;n=a.removedCount,r=a.added}if(r=r.length===0?r:r.map(function(c){return o.enhancer(c,void 0)}),process.env.NODE_ENV!=="production"){var s=r.length-n;this.updateArrayLength(i,s)}var l=this.spliceItemsIntoValues(t,n,r);return(n!==0||r.length!==0)&&this.notifyArraySplice(t,r,l),this.dehanceValues(l)},e.prototype.spliceItemsIntoValues=function(t,n,r){var o;if(r.length<jD)return(o=this.values).splice.apply(o,dg([t,n],r));var i=this.values.slice(t,t+n);return this.values=this.values.slice(0,t).concat(r,this.values.slice(t+n)),i},e.prototype.notifyArrayChildUpdate=function(t,n,r){var o=!this.owned&&dn(),i=Xr(this),a=i||o?{object:this.proxy,type:"update",index:t,newValue:n,oldValue:r}:null;o&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},a),{name:this.atom.name})),this.atom.reportChanged(),i&&Ur(this,a),o&&process.env.NODE_ENV!=="production"&&er()},e.prototype.notifyArraySplice=function(t,n,r){var o=!this.owned&&dn(),i=Xr(this),a=i||o?{object:this.proxy,type:"splice",index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;o&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},a),{name:this.atom.name})),this.atom.reportChanged(),i&&Ur(this,a),o&&process.env.NODE_ENV!=="production"&&er()},e}(),Ro={intercept:function(e){return this[Ue].intercept(e)},observe:function(e,t){t===void 0&&(t=!1);var n=this[Ue];return n.observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[Ue];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[Ue];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){var r=this[Ue];return r.spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[Ue];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[Ue].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[Ue];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){process.env.NODE_ENV!=="production"&&console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){process.env.NODE_ENV!=="production"&&console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[Ue],n=t.dehanceValues(t.values).indexOf(e);return n>-1?(this.splice(n,1),!0):!1},get:function(e){var t=this[Ue];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[Ue],r=n.values;if(e<r.length){es(n.atom);var o=r[e];if(vo(n)){var i=go(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}t=n.enhancer(t,o);var a=t!==o;a&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else if(e===r.length)n.spliceWithArray(e,0,[t]);else throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(e){typeof Array.prototype[e]=="function"&&(Ro[e]=function(){var t=this[Ue];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)})});["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(e){typeof Array.prototype[e]=="function"&&(Ro[e]=function(t,n){var r=this,o=this[Ue];o.atom.reportObserved();var i=o.dehanceValues(o.values);return i[e](function(a,s){return t.call(n,a,s,r)},n)})});["reduce","reduceRight"].forEach(function(e){Ro[e]=function(){var t=this,n=this[Ue];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(o,i,a){return i=n.dehanceValue(i),r(o,i,a,t)},n.values[e].apply(n.values,arguments)}});var FD=bi("ObservableArrayAdministration",Iw);function Eo(e){return sg(e)&&FD(e[Ue])}var n_,HD={},vg=function(){function e(t,n,r){if(n===void 0&&(n=su),r===void 0&&(r="ObservableMap@"+Fn()),this.enhancer=n,this.name=r,this[n_]=HD,this._keysAtom=cg(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return e.prototype._has=function(t){return this._data.has(t)},e.prototype.has=function(t){var n=this;if(!Oe.trackingDerivation)return this._has(t);var r=this._hasMap.get(t);if(!r){var o=r=new Ki(this._has(t),Xd,this.name+"."+vr(t)+"?",!1);this._hasMap.set(t,o),Tw(o,function(){return n._hasMap.delete(t)})}return r.get()},e.prototype.set=function(t,n){var r=this._has(t);if(vo(this)){var o=go(this,{type:r?"update":"add",object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this._updateValue(t,n):this._addValue(t,n),this},e.prototype.delete=function(t){var n=this;if(es(this._keysAtom),vo(this)){var r=go(this,{type:"delete",object:this,name:t});if(!r)return!1}if(this._has(t)){var o=dn(),i=Xr(this),r=i||o?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return o&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},r),{name:this.name,key:t})),jr(function(){n._keysAtom.reportChanged(),n._updateHasMapEntry(t,!1);var s=n._data.get(t);s.setNewValue(void 0),n._data.delete(t)}),i&&Ur(this,r),o&&process.env.NODE_ENV!=="production"&&er(),!0}return!1},e.prototype._updateHasMapEntry=function(t,n){var r=this._hasMap.get(t);r&&r.setNewValue(n)},e.prototype._updateValue=function(t,n){var r=this._data.get(t);if(n=r.prepareNewValue(n),n!==Oe.UNCHANGED){var o=dn(),i=Xr(this),a=i||o?{type:"update",object:this,oldValue:r.value,name:t,newValue:n}:null;o&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},a),{name:this.name,key:t})),r.setNewValue(n),i&&Ur(this,a),o&&process.env.NODE_ENV!=="production"&&er()}},e.prototype._addValue=function(t,n){var r=this;es(this._keysAtom),jr(function(){var s=new Ki(n,r.enhancer,r.name+"."+vr(t),!1);r._data.set(t,s),n=s.value,r._updateHasMapEntry(t,!0),r._keysAtom.reportChanged()});var o=dn(),i=Xr(this),a=i||o?{type:"add",object:this,name:t,newValue:n}:null;o&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},a),{name:this.name,key:t})),i&&Ur(this,a),o&&process.env.NODE_ENV!=="production"&&er()},e.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var t=this,n=this.keys();return jc({next:function(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},e.prototype.entries=function(){var t=this,n=this.keys();return jc({next:function(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},e.prototype[n_=Ue,Symbol.iterator]=function(){return this.entries()},e.prototype.forEach=function(t,n){var r,o;try{for(var i=Ir(this),a=i.next();!a.done;a=i.next()){var s=Ba(a.value,2),l=s[0],c=s[1];t.call(n,c,l,this)}}catch(d){r={error:d}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e.prototype.merge=function(t){var n=this;return Dn(t)&&(t=t.toJS()),jr(function(){var r=Yd(!0);try{ha(t)?lg(t).forEach(function(o){return n.set(o,t[o])}):Array.isArray(t)?t.forEach(function(o){var i=Ba(o,2),a=i[0],s=i[1];return n.set(a,s)}):bs(t)?(t.constructor!==Map&&Ze("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach(function(o,i){return n.set(i,o)})):t!=null&&Ze("Cannot initialize map from "+t)}finally{Kd(r)}}),this},e.prototype.clear=function(){var t=this;jr(function(){yw(function(){var n,r;try{for(var o=Ir(t.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;t.delete(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}})})},e.prototype.replace=function(t){var n=this;return jr(function(){var r,o,i,a,s=$P(t),l=new Map,c=!1;try{for(var d=Ir(n._data.keys()),f=d.next();!f.done;f=d.next()){var h=f.value;if(!s.has(h)){var p=n.delete(h);if(p)c=!0;else{var v=n._data.get(h);l.set(h,v)}}}}catch(T){r={error:T}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}try{for(var g=Ir(s.entries()),m=g.next();!m.done;m=g.next()){var y=Ba(m.value,2),h=y[0],v=y[1],_=n._data.has(h);if(n.set(h,v),n._data.has(h)){var C=n._data.get(h);l.set(h,C),_||(c=!0)}}}catch(T){i={error:T}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}if(!c)if(n._data.size!==l.size)n._keysAtom.reportChanged();else for(var x=n._data.keys(),S=l.keys(),b=x.next(),w=S.next();!b.done;){if(b.value!==w.value){n._keysAtom.reportChanged();break}b=x.next(),w=S.next()}n._data=l}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var t,n,r={};try{for(var o=Ir(this),i=o.next();!i.done;i=o.next()){var a=Ba(i.value,2),s=a[0],l=a[1];r[typeof s=="symbol"?s:vr(s)]=l}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map(function(n){return vr(n)+": "+(""+t.get(n))}).join(", ")+" }]"},e.prototype.observe=function(t,n){return process.env.NODE_ENV!=="production"&&Vt(n!==!0,"`observe` doesn't support fireImmediately=true in combination with maps."),uu(this,t)},e.prototype.intercept=function(t){return lu(this,t)},e}(),Dn=bi("ObservableMap",vg),r_,WD={},jw=function(){function e(t,n,r){if(n===void 0&&(n=su),r===void 0&&(r="ObservableSet@"+Fn()),this.name=r,this[r_]=WD,this._data=new Set,this._atom=cg(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(o,i){return n(o,i,r)},t&&this.replace(t)}return e.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},e.prototype.clear=function(){var t=this;jr(function(){yw(function(){var n,r;try{for(var o=Ir(t._data.values()),i=o.next();!i.done;i=o.next()){var a=i.value;t.delete(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}})})},e.prototype.forEach=function(t,n){var r,o;try{for(var i=Ir(this),a=i.next();!a.done;a=i.next()){var s=a.value;t.call(n,s,s,this)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=this;if(es(this._atom),vo(this)){var r=go(this,{type:"add",object:this,newValue:t});if(!r)return this}if(!this.has(t)){jr(function(){n._data.add(n.enhancer(t,void 0)),n._atom.reportChanged()});var o=dn(),i=Xr(this),r=i||o?{type:"add",object:this,newValue:t}:null;o&&process.env.NODE_ENV!=="production"&&Qn(r),i&&Ur(this,r),o&&process.env.NODE_ENV!=="production"&&er()}return this},e.prototype.delete=function(t){var n=this;if(vo(this)){var r=go(this,{type:"delete",object:this,oldValue:t});if(!r)return!1}if(this.has(t)){var o=dn(),i=Xr(this),r=i||o?{type:"delete",object:this,oldValue:t}:null;return o&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},r),{name:this.name})),jr(function(){n._atom.reportChanged(),n._data.delete(t)}),i&&Ur(this,r),o&&process.env.NODE_ENV!=="production"&&er(),!0}return!1},e.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},e.prototype.entries=function(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return jc({next:function(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var t=this,n=0,r=Array.from(this._data.values());return jc({next:function(){return n<r.length?{value:t.dehanceValue(r[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(t){var n=this;return Cr(t)&&(t=t.toJS()),jr(function(){var r=Yd(!0);try{Array.isArray(t)?(n.clear(),t.forEach(function(o){return n.add(o)})):au(t)?(n.clear(),t.forEach(function(o){return n.add(o)})):t!=null&&Ze("Cannot initialize set from "+t)}finally{Kd(r)}}),this},e.prototype.observe=function(t,n){return process.env.NODE_ENV!=="production"&&Vt(n!==!0,"`observe` doesn't support fireImmediately=true in combination with sets."),uu(this,t)},e.prototype.intercept=function(t){return lu(this,t)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[r_=Ue,Symbol.iterator]=function(){return this.values()},e}(),Cr=bi("ObservableSet",jw),Vw=function(){function e(t,n,r,o){n===void 0&&(n=new Map),this.target=t,this.values=n,this.name=r,this.defaultEnhancer=o,this.keysAtom=new ws(r+".keys")}return e.prototype.read=function(t){return this.values.get(t).get()},e.prototype.write=function(t,n){var r=this.target,o=this.values.get(t);if(o instanceof ts){o.set(n);return}if(vo(this)){var i=go(this,{type:"update",object:this.proxy||r,name:t,newValue:n});if(!i)return;n=i.newValue}if(n=o.prepareNewValue(n),n!==Oe.UNCHANGED){var a=Xr(this),s=dn(),i=a||s?{type:"update",object:this.proxy||r,oldValue:o.value,name:t,newValue:n}:null;s&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},i),{name:this.name,key:t})),o.setNewValue(n),a&&Ur(this,i),s&&process.env.NODE_ENV!=="production"&&er()}},e.prototype.has=function(t){var n=this.pendingKeys||(this.pendingKeys=new Map),r=n.get(t);if(r)return r.get();var o=!!this.values.get(t);return r=new Ki(o,Xd,this.name+"."+vr(t)+"?",!1),n.set(t,r),r.get()},e.prototype.addObservableProp=function(t,n,r){r===void 0&&(r=this.defaultEnhancer);var o=this.target;if(IP(o,t),vo(this)){var i=go(this,{object:this.proxy||o,name:t,type:"add",newValue:n});if(!i)return;n=i.newValue}var a=new Ki(n,r,this.name+"."+vr(t),!1);this.values.set(t,a),n=a.value,Object.defineProperty(o,t,GD(t)),this.notifyPropertyAddition(t,n)},e.prototype.addComputedProp=function(t,n,r){var o=this.target;r.name=r.name||this.name+"."+vr(n),this.values.set(n,new ts(r)),(t===o||fw(t,n))&&Object.defineProperty(t,n,XD(n))},e.prototype.remove=function(t){if(this.values.has(t)){var n=this.target;if(vo(this)){var r=go(this,{object:this.proxy||n,name:t,type:"remove"});if(!r)return}try{Wr();var o=Xr(this),i=dn(),a=this.values.get(t),s=a&&a.get();if(a&&a.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var l=this.pendingKeys.get(t);l&&l.set(!1)}delete this.target[t];var r=o||i?{type:"remove",object:this.proxy||n,oldValue:s,name:t}:null;i&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},r),{name:this.name,key:t})),o&&Ur(this,r),i&&process.env.NODE_ENV!=="production"&&er()}finally{Gr()}}},e.prototype.illegalAccess=function(t,n){console.warn("Property '"+n+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(t,n){return process.env.NODE_ENV!=="production"&&Vt(n!==!0,"`observe` doesn't support the fire immediately property for observable objects."),uu(this,t)},e.prototype.intercept=function(t){return lu(this,t)},e.prototype.notifyPropertyAddition=function(t,n){var r=Xr(this),o=dn(),i=r||o?{type:"add",object:this.proxy||this.target,name:t,newValue:n}:null;if(o&&process.env.NODE_ENV!=="production"&&Qn(Lt(Lt({},i),{name:this.name,key:t})),r&&Ur(this,i),o&&process.env.NODE_ENV!=="production"&&er(),this.pendingKeys){var a=this.pendingKeys.get(t);a&&a.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var t,n;this.keysAtom.reportObserved();var r=[];try{for(var o=Ir(this.values),i=o.next();!i.done;i=o.next()){var a=Ba(i.value,2),s=a[0],l=a[1];l instanceof Ki&&r.push(s)}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e}();function gg(e,t,n){if(t===void 0&&(t=""),n===void 0&&(n=su),Object.prototype.hasOwnProperty.call(e,Ue))return e[Ue];process.env.NODE_ENV!=="production"&&Vt(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),ha(e)||(t=(e.constructor.name||"ObservableObject")+"@"+Fn()),t||(t="ObservableObject@"+Fn());var r=new Vw(e,new Map,vr(t),n);return _s(e,Ue,r),r}var o_=Object.create(null),i_=Object.create(null);function GD(e){return o_[e]||(o_[e]={configurable:!0,enumerable:!0,get:function(){return this[Ue].read(e)},set:function(t){this[Ue].write(e,t)}})}function a_(e){var t=e[Ue];return t||(ea(e),e[Ue])}function XD(e){return i_[e]||(i_[e]={configurable:Oe.computedConfigurable,enumerable:!1,get:function(){return a_(this).read(e)},set:function(t){a_(this).write(e,t)}})}var UD=bi("ObservableObjectAdministration",Vw);function to(e){return sg(e)?(ea(e),UD(e[Ue])):!1}function fi(e,t){if(typeof e=="object"&&e!==null){if(Eo(e))return t!==void 0&&Ze(process.env.NODE_ENV!=="production"&&"It is not possible to get index atoms from arrays"),e[Ue].atom;if(Cr(e))return e[Ue];if(Dn(e)){var n=e;if(t===void 0)return n._keysAtom;var r=n._data.get(t)||n._hasMap.get(t);return r||Ze(process.env.NODE_ENV!=="production"&&"the entry '"+t+"' does not exist in the observable map '"+Np(e)+"'"),r}if(ea(e),t&&!e[Ue]&&e[t],to(e)){if(!t)return Ze(process.env.NODE_ENV!=="production"&&"please specify a property");var r=e[Ue].values.get(t);return r||Ze(process.env.NODE_ENV!=="production"&&"no observable property '"+t+"' found on the observable object '"+Np(e)+"'"),r}if(ug(e)||ns(e)||Ic(e))return e}else if(typeof e=="function"&&Ic(e[Ue]))return e[Ue];return Ze(process.env.NODE_ENV!=="production"&&"Cannot obtain atom from "+e)}function qd(e,t){if(e||Ze("Expecting some object"),t!==void 0)return qd(fi(e,t));if(ug(e)||ns(e)||Ic(e)||Dn(e)||Cr(e))return e;if(ea(e),e[Ue])return e[Ue];Ze(process.env.NODE_ENV!=="production"&&"Cannot obtain administration from "+e)}function Np(e,t){var n;return t!==void 0?n=fi(e,t):to(e)||Dn(e)||Cr(e)?n=qd(e):n=fi(e),n.name}var s_=Object.prototype.toString;function mg(e,t,n){return n===void 0&&(n=-1),Op(e,t,n)}function Op(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var a=s_.call(e);if(a!==s_.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=l_(e),t=l_(t);var s=a==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(typeof l=="function"&&l instanceof l&&typeof c=="function"&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var d=r.length;d--;)if(r[d]===e)return o[d]===t;if(r.push(e),o.push(t),s){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!Op(e[d],t[d],n-1,r,o))return!1}else{var f=Object.keys(e),h=void 0;if(d=f.length,Object.keys(t).length!==d)return!1;for(;d--;)if(h=f[d],!(YD(t,h)&&Op(e[h],t[h],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function l_(e){return Eo(e)?e.slice():bs(e)||Dn(e)||au(e)||Cr(e)?Array.from(e.entries()):e}function YD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jc(e){return e[Symbol.iterator]=KD,e}function KD(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{process.env.NODE_ENV}catch{var u_=Bc();typeof process>"u"&&(u_.process={}),u_.process.env={}}(function(){function e(){}if(e.name!=="testCodeMinification"&&process.env.NODE_ENV!=="production"&&typeof process<"u"&&process.env.IGNORE_MOBX_MINIFY_WARNING!=="true"){var t=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+t+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}})();typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:yD,extras:{getDebugName:Np},$mobx:Ue});function qD(e){return!(e.prototype&&e.prototype.render)&&!ut.isPrototypeOf(e)}function zw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.prefix,r=n===void 0?"":n,o=t.suffix,i=o===void 0?"":o,a=e.displayName||e.name||e.constructor&&e.constructor.name||"<component>";return r+a+i}var c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fw=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Hw=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ww=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Gw=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},d_=console;function ZD(e){var t=Ep().allowStateChanges;return Ep().allowStateChanges=e,t}function JD(e){Ep().allowStateChanges=e}function QD(e,t,n,r,o){var i=ZD(e),a=void 0;try{a=t(n,r,o)}finally{JD(i)}return a}function f_(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e[t],o=Xw[t],i=r?n===!0?function(){o.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=i}function h_(e,t){if(e==null||t==null||(typeof e>"u"?"undefined":c_(e))!=="object"||(typeof t>"u"?"undefined":c_(t))!=="object")return e!==t;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(var r=void 0,o=n.length-1;r=n[o];o--)if(t[r]!==e[r])return!0;return!1}var Xw={componentWillMount:function(){var t=this,n=zw(this),r=!1,o=!1;function i(f){var h=this[f],p=cg("reactive "+f);Object.defineProperty(this,f,{configurable:!0,enumerable:!0,get:function(){return p.reportObserved(),h},set:function(g){!o&&h_(h,g)?(h=g,r=!0,p.reportChanged(),r=!1):h=g}})}i.call(this,"props"),i.call(this,"state");var a=this.render.bind(this),s=null,l=!1,c=function(){return s=new zl(n+".render()",function(){if(!l&&(l=!0,typeof t.componentWillReact=="function"&&t.componentWillReact(),t.__$mobxIsUnmounted!==!0)){var h=!0;try{o=!0,r||ut.prototype.forceUpdate.call(t),h=!1}finally{o=!1,h&&s.dispose()}}}),s.reactComponent=t,d.$mobx=s,t.render=d,d(t.props,t.state,t.context)},d=function(h,p,v){l=!1;var g=void 0,m=void 0;if(s.track(function(){try{m=QD(!1,a,h,p,v)}catch(y){g=y}}),g)throw g;return m};this.render=c},componentWillUnmount:function(){this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(t,n){return this.state!==n?!0:h_(this.props,t)}};function yg(e){if(arguments.length>1&&d_.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),e.isMobxInjector===!0&&d_.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),qD(e)){var t,n;return yg((n=t=function(o){Ww(i,o);function i(){return Fw(this,i),Gw(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return Hw(i,[{key:"render",value:function(){return e.call(this,this.props,this.context)}}]),i}(ut),t.displayName=zw(e),n))}if(!e)throw new Error("Please pass a valid component to 'observer'");var r=e.prototype||e;return e3(r),e.isMobXReactObserver=!0,e}function e3(e){f_(e,"componentWillMount",!0),f_(e,"componentDidMount"),e.shouldComponentUpdate||(e.shouldComponentUpdate=Xw.shouldComponentUpdate)}var t3=yg(function(e){var t=e.children;return t[0]()});t3.displayName="Observer";var n3=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r3(e,t){return t={exports:{}},e(t,t.exports),t.exports}r3(function(e,t){(function(n,r){e.exports=r()})(n3,function(){var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);return function d(f,h,p){if(typeof h!="string"){if(c){var v=l(h);v&&v!==c&&d(f,v,p)}var g=i(h);a&&(g=g.concat(a(h)));for(var m=0;m<g.length;++m){var y=g[m];if(!n[y]&&!r[y]&&(!p||!p[y])){var _=s(h,y);try{o(f,y,_)}catch{}}}return f}return f}})});var p_={children:!0,key:!0,ref:!0},v_=console;(function(e){Ww(t,e);function t(){return Fw(this,t),Gw(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Hw(t,[{key:"render",value:function(r){var o=r.children;return o.length>1?U("div",null," ",o," "):o[0]}},{key:"getChildContext",value:function(){var r={},o=this.context.mobxStores;if(o)for(var i in o)r[i]=o[i];for(var a in this.props)!p_[a]&&a!=="suppressChangedStoreWarning"&&(r[a]=this.props[a]);return{mobxStores:r}}},{key:"componentWillReceiveProps",value:function(r){if(Object.keys(r).length!==Object.keys(this.props).length&&v_.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!r.suppressChangedStoreWarning)for(var o in r)!p_[o]&&this.props[o]!==r[o]&&v_.warn("MobX Provider: Provided store '"+o+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),t})(ut);if(!ut)throw new Error("mobx-preact requires Preact to be available");var uo,Oh,g_,Uw=[],ln=at,m_=ln.__b,y_=ln.__r,__=ln.diffed,b_=ln.__c,w_=ln.unmount,x_=ln.__;function o3(){for(var e;e=Uw.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(mc),e.__H.__h.forEach(Ap),e.__H.__h=[]}catch(t){e.__H.__h=[],ln.__e(t,e.__v)}}ln.__b=function(e){uo=null,m_&&m_(e)},ln.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),x_&&x_(e,t)},ln.__r=function(e){y_&&y_(e);var t=(uo=e.__c).__H;t&&(Oh===uo?(t.__h=[],uo.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(t.__h.forEach(mc),t.__h.forEach(Ap),t.__h=[])),Oh=uo},ln.diffed=function(e){__&&__(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Uw.push(t)!==1&&g_===ln.requestAnimationFrame||((g_=ln.requestAnimationFrame)||i3)(o3)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Oh=uo=null},ln.__c=function(e,t){t.some(function(n){try{n.__h.forEach(mc),n.__h=n.__h.filter(function(r){return!r.__||Ap(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ln.__e(r,n.__v)}}),b_&&b_(e,t)},ln.unmount=function(e){w_&&w_(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{mc(r)}catch(o){t=o}}),n.__H=void 0,t&&ln.__e(t,n.__v))};var E_=typeof requestAnimationFrame=="function";function i3(e){var t,n=function(){clearTimeout(r),E_&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);E_&&(t=requestAnimationFrame(n))}function mc(e){var t=uo,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),uo=t}function Ap(e){var t=uo;e.__c=e.__(),uo=t}function C_(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function S_(e,t){this.props=e,this.context=t}(S_.prototype=new ut).isPureReactComponent=!0,S_.prototype.shouldComponentUpdate=function(e,t){return C_(this.props,e)||C_(this.state,t)};var N_=at.__b;at.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),N_&&N_(e)};var a3=at.__e;at.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}a3(e,t,n,r)};var O_=at.unmount;function Yw(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=function(r,o){for(var i in o)r[i]=o[i];return r}({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return Yw(r,t,n)})),e}function Kw(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return Kw(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Ah(){this.__u=0,this.o=null,this.__b=null}function qw(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Bu(){this.i=null,this.l=null}at.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),O_&&O_(e)},(Ah.prototype=new ut).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=qw(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=Kw(l,l.__c.__P,l.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.o.pop();)c.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},Ah.prototype.componentWillUnmount=function(){this.o=[]},Ah.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Yw(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&U(Qi,null,e.fallback);return o&&(o.__u&=-33),[U(Qi,null,t.__a?null:e.children),o]};var A_=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(Bu.prototype=new ut).__a=function(e){var t=this,n=qw(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),A_(t,e,r)):o()};n?n(i):i()}},Bu.prototype.render=function(e){this.i=null,this.l=new Map;var t=Pc(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Bu.prototype.componentDidUpdate=Bu.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){A_(e,n,t)})};var s3=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,l3=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,u3=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,c3=/[A-Z0-9]/g,d3=typeof document<"u",f3=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function h3(e,t,n){return t.__k==null&&(t.textContent=""),DP(e,t),typeof n=="function"&&n(),e?e.__c:null}ut.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ut.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var M_=at.event;function p3(){}function v3(){return this.cancelBubble}function g3(){return this.defaultPrevented}at.event=function(e){return M_&&(e=M_(e)),e.persist=p3,e.isPropagationStopped=v3,e.isDefaultPrevented=g3,e.nativeEvent=e};var m3={enumerable:!1,configurable:!0,get:function(){return this.class}},T_=at.vnode;at.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},i=r.indexOf("-")===-1;for(var a in n){var s=n[a];if(!(a==="value"&&"defaultValue"in n&&s==null||d3&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||r!=="input"&&r!=="textarea"||f3(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":u3.test(a)&&(a=l):l=a="oninput":i&&l3.test(a)?a=a.replace(c3,"-$&").toLowerCase():s===null&&(s=void 0),l==="oninput"&&o[a=l]&&(a="oninputCapture"),o[a]=s}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=Pc(n.children).forEach(function(c){c.props.selected=o.value.indexOf(c.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=Pc(n.children).forEach(function(c){c.props.selected=o.multiple?o.defaultValue.indexOf(c.props.value)!=-1:o.defaultValue==c.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",m3)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=s3,T_&&T_(e)};var P_=at.__r;at.__r=function(e){P_&&P_(e),e.__c};var D_=at.diffed;at.diffed=function(e){D_&&D_(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};var y3=0;function K(e,t,n,r,o,i){t||(t={});var a,s,l=t;"ref"in t&&(a=t.ref,delete t.ref);var c={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--y3,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(a=e.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return at.vnode&&at.vnode(c),c}var Zw=typeof global=="object"&&global&&global.Object===Object&&global,_3=typeof self=="object"&&self&&self.Object===Object&&self,rn=Zw||_3||Function("return this")(),En=rn.Symbol,Jw=Object.prototype,b3=Jw.hasOwnProperty,w3=Jw.toString,Gs=En?En.toStringTag:void 0;function x3(e){var t=b3.call(e,Gs),n=e[Gs];try{e[Gs]=void 0;var r=!0}catch{}var o=w3.call(e);return r&&(t?e[Gs]=n:delete e[Gs]),o}var E3=Object.prototype,C3=E3.toString;function S3(e){return C3.call(e)}var N3="[object Null]",O3="[object Undefined]",k_=En?En.toStringTag:void 0;function kn(e){return e==null?e===void 0?O3:N3:k_&&k_ in Object(e)?x3(e):S3(e)}function Xt(e){return e!=null&&typeof e=="object"}var A3="[object Symbol]";function rr(e){return typeof e=="symbol"||Xt(e)&&kn(e)==A3}var M3=NaN;function R_(e){return typeof e=="number"?e:rr(e)?M3:+e}function Gt(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Je=Array.isArray,T3=1/0,L_=En?En.prototype:void 0,$_=L_?L_.toString:void 0;function or(e){if(typeof e=="string")return e;if(Je(e))return Gt(e,or)+"";if(rr(e))return $_?$_.call(e):"";var t=e+"";return t=="0"&&1/e==-T3?"-0":t}function Zd(e,t){return function(n,r){var o;if(n===void 0&&r===void 0)return t;if(n!==void 0&&(o=n),r!==void 0){if(o===void 0)return r;typeof n=="string"||typeof r=="string"?(n=or(n),r=or(r)):(n=R_(n),r=R_(r)),o=e(n,r)}return o}}var P3=Zd(function(e,t){return e+t},0),D3=/\s/;function Qw(e){for(var t=e.length;t--&&D3.test(e.charAt(t)););return t}var k3=/^\s+/;function ex(e){return e&&e.slice(0,Qw(e)+1).replace(k3,"")}function zt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var B_=NaN,R3=/^[-+]0x[0-9a-f]+$/i,L3=/^0b[01]+$/i,$3=/^0o[0-7]+$/i,B3=parseInt;function br(e){if(typeof e=="number")return e;if(rr(e))return B_;if(zt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ex(e);var n=L3.test(e);return n||$3.test(e)?B3(e.slice(2),n?2:8):R3.test(e)?B_:+e}var I_=1/0,I3=17976931348623157e292;function Io(e){if(!e)return e===0?e:0;if(e=br(e),e===I_||e===-I_){var t=e<0?-1:1;return t*I3}return e===e?e:0}function it(e){var t=Io(e),n=t%1;return t===t?n?t-n:t:0}var j3="Expected a function";function V3(e,t){if(typeof t!="function")throw new TypeError(j3);return e=it(e),function(){if(--e<1)return t.apply(this,arguments)}}function Rn(e){return e}var z3="[object AsyncFunction]",F3="[object Function]",H3="[object GeneratorFunction]",W3="[object Proxy]";function Fo(e){if(!zt(e))return!1;var t=kn(e);return t==F3||t==H3||t==z3||t==W3}var yc=rn["__core-js_shared__"],j_=function(){var e=/[^.]+$/.exec(yc&&yc.keys&&yc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function G3(e){return!!j_&&j_ in e}var X3=Function.prototype,U3=X3.toString;function pa(e){if(e!=null){try{return U3.call(e)}catch{}try{return e+""}catch{}}return""}var Y3=/[\\^$.*+?()[\]{}|]/g,K3=/^\[object .+?Constructor\]$/,q3=Function.prototype,Z3=Object.prototype,J3=q3.toString,Q3=Z3.hasOwnProperty,ek=RegExp("^"+J3.call(Q3).replace(Y3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tx(e){if(!zt(e)||G3(e))return!1;var t=Fo(e)?ek:K3;return t.test(pa(e))}function tk(e,t){return e==null?void 0:e[t]}function va(e,t){var n=tk(e,t);return tx(n)?n:void 0}var Fl=va(rn,"WeakMap"),Vc=Fl&&new Fl,nx=Vc?function(e,t){return Vc.set(e,t),e}:Rn,V_=Object.create,Es=function(){function e(){}return function(t){if(!zt(t))return{};if(V_)return V_(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Hl(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Es(e.prototype),r=e.apply(n,t);return zt(r)?r:n}}var nk=1;function rk(e,t,n){var r=t&nk,o=Hl(e);function i(){var a=this&&this!==rn&&this instanceof i?o:e;return a.apply(r?n:this,arguments)}return i}function ir(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var ok=Math.max;function rx(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,l=t.length,c=ok(i-a,0),d=Array(l+c),f=!r;++s<l;)d[s]=t[s];for(;++o<a;)(f||o<i)&&(d[n[o]]=e[o]);for(;c--;)d[s++]=e[o++];return d}var ik=Math.max;function ox(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,l=-1,c=t.length,d=ik(i-s,0),f=Array(d+c),h=!r;++o<d;)f[o]=e[o];for(var p=o;++l<c;)f[p+l]=t[l];for(;++a<s;)(h||o<i)&&(f[p+n[a]]=e[o++]);return f}function ak(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function Jd(){}var sk=4294967295;function vt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sk,this.__views__=[]}vt.prototype=Es(Jd.prototype);vt.prototype.constructor=vt;function Ga(){}var _g=Vc?function(e){return Vc.get(e)}:Ga,Xa={},lk=Object.prototype,uk=lk.hasOwnProperty;function _c(e){for(var t=e.name+"",n=Xa[t],r=uk.call(Xa,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}function Sr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Sr.prototype=Es(Jd.prototype);Sr.prototype.constructor=Sr;function zn(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ix(e){if(e instanceof vt)return e.clone();var t=new Sr(e.__wrapped__,e.__chain__);return t.__actions__=zn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ck=Object.prototype,dk=ck.hasOwnProperty;function N(e){if(Xt(e)&&!Je(e)&&!(e instanceof vt)){if(e instanceof Sr)return e;if(dk.call(e,"__wrapped__"))return ix(e)}return new Sr(e)}N.prototype=Jd.prototype;N.prototype.constructor=N;function Mp(e){var t=_c(e),n=N[t];if(typeof n!="function"||!(t in vt.prototype))return!1;if(e===n)return!0;var r=_g(n);return!!r&&e===r[0]}var fk=800,hk=16,pk=Date.now;function ax(e){var t=0,n=0;return function(){var r=pk(),o=hk-(r-n);if(n=r,o>0){if(++t>=fk)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var sx=ax(nx),vk=/\{\n\/\* \[wrapped with (.+)\] \*/,gk=/,? & /;function mk(e){var t=e.match(vk);return t?t[1].split(gk):[]}var yk=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function _k(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(yk,`{
/* [wrapped with `+t+`] */
`)}function bg(e){return function(){return e}}var zc=function(){try{var e=va(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bk=zc?function(e,t){return zc(e,"toString",{configurable:!0,enumerable:!1,value:bg(t),writable:!0})}:Rn,wg=ax(bk);function Mr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function Qd(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function lx(e){return e!==e}function wk(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function Cs(e,t,n){return t===t?wk(e,t,n):Qd(e,lx,n)}function ef(e,t){var n=e==null?0:e.length;return!!n&&Cs(e,t,0)>-1}var xk=1,Ek=2,Ck=8,Sk=16,Nk=32,Ok=64,Ak=128,Mk=256,Tk=512,Pk=[["ary",Ak],["bind",xk],["bindKey",Ek],["curry",Ck],["curryRight",Sk],["flip",Tk],["partial",Nk],["partialRight",Ok],["rearg",Mk]];function Dk(e,t){return Mr(Pk,function(n){var r="_."+n[0];t&n[1]&&!ef(e,r)&&e.push(r)}),e.sort()}function ux(e,t,n){var r=t+"";return wg(e,_k(r,Dk(mk(r),n)))}var kk=1,Rk=2,Lk=4,$k=8,z_=32,F_=64;function cx(e,t,n,r,o,i,a,s,l,c){var d=t&$k,f=d?a:void 0,h=d?void 0:a,p=d?i:void 0,v=d?void 0:i;t|=d?z_:F_,t&=~(d?F_:z_),t&Lk||(t&=~(kk|Rk));var g=[e,t,o,p,f,v,h,s,l,c],m=n.apply(void 0,g);return Mp(e)&&sx(m,g),m.placeholder=r,ux(m,e,t)}function Ss(e){var t=e;return t.placeholder}var Bk=9007199254740991,Ik=/^(?:0|[1-9]\d*)$/;function Ho(e,t){var n=typeof e;return t=t??Bk,!!t&&(n=="number"||n!="symbol"&&Ik.test(e))&&e>-1&&e%1==0&&e<t}var jk=Math.min;function Vk(e,t){for(var n=e.length,r=jk(t.length,n),o=zn(e);r--;){var i=t[r];e[r]=Ho(i,n)?o[i]:void 0}return e}var H_="__lodash_placeholder__";function hi(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];(a===t||a===H_)&&(e[n]=H_,i[o++]=n)}return i}var zk=1,Fk=2,Hk=8,Wk=16,Gk=128,Xk=512;function tf(e,t,n,r,o,i,a,s,l,c){var d=t&Gk,f=t&zk,h=t&Fk,p=t&(Hk|Wk),v=t&Xk,g=h?void 0:Hl(e);function m(){for(var y=arguments.length,_=Array(y),C=y;C--;)_[C]=arguments[C];if(p)var x=Ss(m),S=ak(_,x);if(r&&(_=rx(_,r,o,p)),i&&(_=ox(_,i,a,p)),y-=S,p&&y<c){var b=hi(_,x);return cx(e,t,tf,m.placeholder,n,_,b,s,l,c-y)}var w=f?n:this,T=h?w[e]:e;return y=_.length,s?_=Vk(_,s):v&&y>1&&_.reverse(),d&&l<y&&(_.length=l),this&&this!==rn&&this instanceof m&&(T=g||Hl(T)),T.apply(w,_)}return m}function Uk(e,t,n){var r=Hl(e);function o(){for(var i=arguments.length,a=Array(i),s=i,l=Ss(o);s--;)a[s]=arguments[s];var c=i<3&&a[0]!==l&&a[i-1]!==l?[]:hi(a,l);if(i-=c.length,i<n)return cx(e,t,tf,o.placeholder,void 0,a,c,void 0,void 0,n-i);var d=this&&this!==rn&&this instanceof o?r:e;return ir(d,this,a)}return o}var Yk=1;function Kk(e,t,n,r){var o=t&Yk,i=Hl(e);function a(){for(var s=-1,l=arguments.length,c=-1,d=r.length,f=Array(d+l),h=this&&this!==rn&&this instanceof a?i:e;++c<d;)f[c]=r[c];for(;l--;)f[c++]=arguments[++s];return ir(h,o?n:this,f)}return a}var W_="__lodash_placeholder__",Mh=1,qk=2,Zk=4,G_=8,Xs=128,X_=256,Jk=Math.min;function Qk(e,t){var n=e[1],r=t[1],o=n|r,i=o<(Mh|qk|Xs),a=r==Xs&&n==G_||r==Xs&&n==X_&&e[7].length<=t[8]||r==(Xs|X_)&&t[7].length<=t[8]&&n==G_;if(!(i||a))return e;r&Mh&&(e[2]=t[2],o|=n&Mh?0:Zk);var s=t[3];if(s){var l=e[3];e[3]=l?rx(l,s,t[4]):s,e[4]=l?hi(e[3],W_):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?ox(l,s,t[6]):s,e[6]=l?hi(e[5],W_):t[6]),s=t[7],s&&(e[7]=s),r&Xs&&(e[8]=e[8]==null?t[8]:Jk(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}var e4="Expected a function",U_=1,t4=2,Th=8,Ph=16,Dh=32,Y_=64,K_=Math.max;function Wo(e,t,n,r,o,i,a,s){var l=t&t4;if(!l&&typeof e!="function")throw new TypeError(e4);var c=r?r.length:0;if(c||(t&=~(Dh|Y_),r=o=void 0),a=a===void 0?a:K_(it(a),0),s=s===void 0?s:it(s),c-=o?o.length:0,t&Y_){var d=r,f=o;r=o=void 0}var h=l?void 0:_g(e),p=[e,t,n,r,o,d,f,i,a,s];if(h&&Qk(p,h),e=p[0],t=p[1],n=p[2],r=p[3],o=p[4],s=p[9]=p[9]===void 0?l?0:e.length:K_(p[9]-c,0),!s&&t&(Th|Ph)&&(t&=~(Th|Ph)),!t||t==U_)var v=rk(e,t,n);else t==Th||t==Ph?v=Uk(e,t,s):(t==Dh||t==(U_|Dh))&&!o.length?v=Kk(e,t,n,r):v=tf.apply(void 0,p);var g=h?nx:sx;return ux(g(v,p),e,t)}var n4=128;function dx(e,t,n){return t=n?void 0:t,t=e&&t==null?e.length:t,Wo(e,n4,void 0,void 0,void 0,void 0,t)}function Go(e,t,n){t=="__proto__"&&zc?zc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function no(e,t){return e===t||e!==e&&t!==t}var r4=Object.prototype,o4=r4.hasOwnProperty;function cu(e,t,n){var r=e[t];(!(o4.call(e,t)&&no(r,n))||n===void 0&&!(t in e))&&Go(e,t,n)}function Co(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),o?Go(n,s,l):cu(n,s,l)}return n}var q_=Math.max;function fx(e,t,n){return t=q_(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=q_(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),ir(e,this,s)}}function ct(e,t){return wg(fx(e,t,Rn),e+"")}var i4=9007199254740991;function nf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=i4}function Wn(e){return e!=null&&nf(e.length)&&!Fo(e)}function On(e,t,n){if(!zt(n))return!1;var r=typeof t;return(r=="number"?Wn(n)&&Ho(t,n.length):r=="string"&&t in n)?no(n[t],e):!1}function Ns(e){return ct(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&On(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}var a4=Object.prototype;function du(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||a4;return e===n}function xg(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var s4="[object Arguments]";function Z_(e){return Xt(e)&&kn(e)==s4}var hx=Object.prototype,l4=hx.hasOwnProperty,u4=hx.propertyIsEnumerable,na=Z_(function(){return arguments}())?Z_:function(e){return Xt(e)&&l4.call(e,"callee")&&!u4.call(e,"callee")};function Eg(){return!1}var px=typeof exports=="object"&&exports&&!exports.nodeType&&exports,J_=px&&typeof module=="object"&&module&&!module.nodeType&&module,c4=J_&&J_.exports===px,Q_=c4?rn.Buffer:void 0,d4=Q_?Q_.isBuffer:void 0,pi=d4||Eg,f4="[object Arguments]",h4="[object Array]",p4="[object Boolean]",v4="[object Date]",g4="[object Error]",m4="[object Function]",y4="[object Map]",_4="[object Number]",b4="[object Object]",w4="[object RegExp]",x4="[object Set]",E4="[object String]",C4="[object WeakMap]",S4="[object ArrayBuffer]",N4="[object DataView]",O4="[object Float32Array]",A4="[object Float64Array]",M4="[object Int8Array]",T4="[object Int16Array]",P4="[object Int32Array]",D4="[object Uint8Array]",k4="[object Uint8ClampedArray]",R4="[object Uint16Array]",L4="[object Uint32Array]",jt={};jt[O4]=jt[A4]=jt[M4]=jt[T4]=jt[P4]=jt[D4]=jt[k4]=jt[R4]=jt[L4]=!0;jt[f4]=jt[h4]=jt[S4]=jt[p4]=jt[N4]=jt[v4]=jt[g4]=jt[m4]=jt[y4]=jt[_4]=jt[b4]=jt[w4]=jt[x4]=jt[E4]=jt[C4]=!1;function $4(e){return Xt(e)&&nf(e.length)&&!!jt[kn(e)]}function ar(e){return function(t){return e(t)}}var vx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ml=vx&&typeof module=="object"&&module&&!module.nodeType&&module,B4=ml&&ml.exports===vx,kh=B4&&Zw.process,Nr=function(){try{var e=ml&&ml.require&&ml.require("util").types;return e||kh&&kh.binding&&kh.binding("util")}catch{}}(),e0=Nr&&Nr.isTypedArray,Os=e0?ar(e0):$4,I4=Object.prototype,j4=I4.hasOwnProperty;function gx(e,t){var n=Je(e),r=!n&&na(e),o=!n&&!r&&pi(e),i=!n&&!r&&!o&&Os(e),a=n||r||o||i,s=a?xg(e.length,String):[],l=s.length;for(var c in e)(t||j4.call(e,c))&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ho(c,l)))&&s.push(c);return s}function mx(e,t){return function(n){return e(t(n))}}var V4=mx(Object.keys,Object),z4=Object.prototype,F4=z4.hasOwnProperty;function Cg(e){if(!du(e))return V4(e);var t=[];for(var n in Object(e))F4.call(e,n)&&n!="constructor"&&t.push(n);return t}function tn(e){return Wn(e)?gx(e):Cg(e)}var H4=Object.prototype,W4=H4.hasOwnProperty,wt=Ns(function(e,t){if(du(t)||Wn(t)){Co(t,tn(t),e);return}for(var n in t)W4.call(t,n)&&cu(e,n,t[n])});function G4(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var X4=Object.prototype,U4=X4.hasOwnProperty;function Y4(e){if(!zt(e))return G4(e);var t=du(e),n=[];for(var r in e)r=="constructor"&&(t||!U4.call(e,r))||n.push(r);return n}function Gn(e){return Wn(e)?gx(e,!0):Y4(e)}var t0=Ns(function(e,t){Co(t,Gn(t),e)}),Fc=Ns(function(e,t,n,r){Co(t,Gn(t),e,r)}),K4=Ns(function(e,t,n,r){Co(t,tn(t),e,r)}),q4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z4=/^\w*$/;function Sg(e,t){if(Je(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||rr(e)?!0:Z4.test(e)||!q4.test(e)||t!=null&&e in Object(t)}var Wl=va(Object,"create");function J4(){this.__data__=Wl?Wl(null):{},this.size=0}function Q4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eR="__lodash_hash_undefined__",tR=Object.prototype,nR=tR.hasOwnProperty;function rR(e){var t=this.__data__;if(Wl){var n=t[e];return n===eR?void 0:n}return nR.call(t,e)?t[e]:void 0}var oR=Object.prototype,iR=oR.hasOwnProperty;function aR(e){var t=this.__data__;return Wl?t[e]!==void 0:iR.call(t,e)}var sR="__lodash_hash_undefined__";function lR(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Wl&&t===void 0?sR:t,this}function ra(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ra.prototype.clear=J4;ra.prototype.delete=Q4;ra.prototype.get=rR;ra.prototype.has=aR;ra.prototype.set=lR;function uR(){this.__data__=[],this.size=0}function rf(e,t){for(var n=e.length;n--;)if(no(e[n][0],t))return n;return-1}var cR=Array.prototype,dR=cR.splice;function fR(e){var t=this.__data__,n=rf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():dR.call(t,n,1),--this.size,!0}function hR(e){var t=this.__data__,n=rf(t,e);return n<0?void 0:t[n][1]}function pR(e){return rf(this.__data__,e)>-1}function vR(e,t){var n=this.__data__,r=rf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xo.prototype.clear=uR;Xo.prototype.delete=fR;Xo.prototype.get=hR;Xo.prototype.has=pR;Xo.prototype.set=vR;var Gl=va(rn,"Map");function gR(){this.size=0,this.__data__={hash:new ra,map:new(Gl||Xo),string:new ra}}function mR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function of(e,t){var n=e.__data__;return mR(t)?n[typeof t=="string"?"string":"hash"]:n.map}function yR(e){var t=of(this,e).delete(e);return this.size-=t?1:0,t}function _R(e){return of(this,e).get(e)}function bR(e){return of(this,e).has(e)}function wR(e,t){var n=of(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Uo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Uo.prototype.clear=gR;Uo.prototype.delete=yR;Uo.prototype.get=_R;Uo.prototype.has=bR;Uo.prototype.set=wR;var xR="Expected a function";function af(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xR);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(af.Cache||Uo),n}af.Cache=Uo;var ER=500;function CR(e){var t=af(e,function(r){return n.size===ER&&n.clear(),r}),n=t.cache;return t}var SR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,NR=/\\(\\)?/g,yx=CR(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(SR,function(n,r,o,i){t.push(o?i.replace(NR,"$1"):r||n)}),t});function At(e){return e==null?"":or(e)}function wi(e,t){return Je(e)?e:Sg(e,t)?[e]:yx(At(e))}var OR=1/0;function So(e){if(typeof e=="string"||rr(e))return e;var t=e+"";return t=="0"&&1/e==-OR?"-0":t}function ga(e,t){t=wi(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[So(t[n++])];return n&&n==r?e:void 0}function As(e,t,n){var r=e==null?void 0:ga(e,t);return r===void 0?n:r}function Ng(e,t){for(var n=-1,r=t.length,o=Array(r),i=e==null;++n<r;)o[n]=i?void 0:As(e,t[n]);return o}function xi(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var n0=En?En.isConcatSpreadable:void 0;function AR(e){return Je(e)||na(e)||!!(n0&&e&&e[n0])}function gn(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=AR),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?gn(s,t-1,n,r,o):xi(o,s):r||(o[o.length]=s)}return o}function _x(e){var t=e==null?0:e.length;return t?gn(e,1):[]}function Yo(e){return wg(fx(e,void 0,_x),e+"")}var MR=Yo(Ng),sf=mx(Object.getPrototypeOf,Object),TR="[object Object]",PR=Function.prototype,DR=Object.prototype,bx=PR.toString,kR=DR.hasOwnProperty,RR=bx.call(Object);function fu(e){if(!Xt(e)||kn(e)!=TR)return!1;var t=sf(e);if(t===null)return!0;var n=kR.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&bx.call(n)==RR}var LR="[object DOMException]",$R="[object Error]";function Og(e){if(!Xt(e))return!1;var t=kn(e);return t==$R||t==LR||typeof e.message=="string"&&typeof e.name=="string"&&!fu(e)}var wx=ct(function(e,t){try{return ir(e,void 0,t)}catch(n){return Og(n)?n:new Error(n)}}),BR="Expected a function";function xx(e,t){var n;if(typeof t!="function")throw new TypeError(BR);return e=it(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var IR=1,jR=32,lf=ct(function(e,t,n){var r=IR;if(n.length){var o=hi(n,Ss(lf));r|=jR}return Wo(e,r,t,n,o)});lf.placeholder={};var VR=Yo(function(e,t){return Mr(t,function(n){n=So(n),Go(e,n,lf(e[n],e))}),e}),zR=1,FR=2,HR=32,Ag=ct(function(e,t,n){var r=zR|FR;if(n.length){var o=hi(n,Ss(Ag));r|=HR}return Wo(t,r,e,n,o)});Ag.placeholder={};function Or(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function Ei(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Or(e,t,n)}var WR="\\ud800-\\udfff",GR="\\u0300-\\u036f",XR="\\ufe20-\\ufe2f",UR="\\u20d0-\\u20ff",YR=GR+XR+UR,KR="\\ufe0e\\ufe0f",qR="\\u200d",ZR=RegExp("["+qR+WR+YR+KR+"]");function Ms(e){return ZR.test(e)}function JR(e){return e.split("")}var Ex="\\ud800-\\udfff",QR="\\u0300-\\u036f",e5="\\ufe20-\\ufe2f",t5="\\u20d0-\\u20ff",n5=QR+e5+t5,r5="\\ufe0e\\ufe0f",o5="["+Ex+"]",Tp="["+n5+"]",Pp="\\ud83c[\\udffb-\\udfff]",i5="(?:"+Tp+"|"+Pp+")",Cx="[^"+Ex+"]",Sx="(?:\\ud83c[\\udde6-\\uddff]){2}",Nx="[\\ud800-\\udbff][\\udc00-\\udfff]",a5="\\u200d",Ox=i5+"?",Ax="["+r5+"]?",s5="(?:"+a5+"(?:"+[Cx,Sx,Nx].join("|")+")"+Ax+Ox+")*",l5=Ax+Ox+s5,u5="(?:"+[Cx+Tp+"?",Tp,Sx,Nx,o5].join("|")+")",c5=RegExp(Pp+"(?="+Pp+")|"+u5+l5,"g");function d5(e){return e.match(c5)||[]}function Qr(e){return Ms(e)?d5(e):JR(e)}function Mx(e){return function(t){t=At(t);var n=Ms(t)?Qr(t):void 0,r=n?n[0]:t.charAt(0),o=n?Ei(n,1).join(""):t.slice(1);return r[e]()+o}}var Mg=Mx("toUpperCase");function Tx(e){return Mg(At(e).toLowerCase())}function Tg(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Pg(e){return function(t){return e==null?void 0:e[t]}}var f5={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},h5=Pg(f5),p5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,v5="\\u0300-\\u036f",g5="\\ufe20-\\ufe2f",m5="\\u20d0-\\u20ff",y5=v5+g5+m5,_5="["+y5+"]",b5=RegExp(_5,"g");function Px(e){return e=At(e),e&&e.replace(p5,h5).replace(b5,"")}var w5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function x5(e){return e.match(w5)||[]}var E5=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function C5(e){return E5.test(e)}var Dx="\\ud800-\\udfff",S5="\\u0300-\\u036f",N5="\\ufe20-\\ufe2f",O5="\\u20d0-\\u20ff",A5=S5+N5+O5,kx="\\u2700-\\u27bf",Rx="a-z\\xdf-\\xf6\\xf8-\\xff",M5="\\xac\\xb1\\xd7\\xf7",T5="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",P5="\\u2000-\\u206f",D5=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lx="A-Z\\xc0-\\xd6\\xd8-\\xde",k5="\\ufe0e\\ufe0f",$x=M5+T5+P5+D5,Bx="['’]",r0="["+$x+"]",R5="["+A5+"]",Ix="\\d+",L5="["+kx+"]",jx="["+Rx+"]",Vx="[^"+Dx+$x+Ix+kx+Rx+Lx+"]",$5="\\ud83c[\\udffb-\\udfff]",B5="(?:"+R5+"|"+$5+")",I5="[^"+Dx+"]",zx="(?:\\ud83c[\\udde6-\\uddff]){2}",Fx="[\\ud800-\\udbff][\\udc00-\\udfff]",$a="["+Lx+"]",j5="\\u200d",o0="(?:"+jx+"|"+Vx+")",V5="(?:"+$a+"|"+Vx+")",i0="(?:"+Bx+"(?:d|ll|m|re|s|t|ve))?",a0="(?:"+Bx+"(?:D|LL|M|RE|S|T|VE))?",Hx=B5+"?",Wx="["+k5+"]?",z5="(?:"+j5+"(?:"+[I5,zx,Fx].join("|")+")"+Wx+Hx+")*",F5="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",H5="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",W5=Wx+Hx+z5,G5="(?:"+[L5,zx,Fx].join("|")+")"+W5,X5=RegExp([$a+"?"+jx+"+"+i0+"(?="+[r0,$a,"$"].join("|")+")",V5+"+"+a0+"(?="+[r0,$a+o0,"$"].join("|")+")",$a+"?"+o0+"+"+i0,$a+"+"+a0,H5,F5,Ix,G5].join("|"),"g");function U5(e){return e.match(X5)||[]}function Gx(e,t,n){return e=At(e),t=n?void 0:t,t===void 0?C5(e)?U5(e):x5(e):e.match(t)||[]}var Y5="['’]",K5=RegExp(Y5,"g");function Ts(e){return function(t){return Tg(Gx(Px(t).replace(K5,"")),e,"")}}var q5=Ts(function(e,t,n){return t=t.toLowerCase(),e+(n?Tx(t):t)});function Z5(){if(!arguments.length)return[];var e=arguments[0];return Je(e)?e:[e]}var J5=rn.isFinite,Q5=Math.min;function Dg(e){var t=Math[e];return function(n,r){if(n=br(n),r=r==null?0:Q5(it(r),292),r&&J5(n)){var o=(At(n)+"e").split("e"),i=t(o[0]+"e"+(+o[1]+r));return o=(At(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}var eL=Dg("ceil");function Xx(e){var t=N(e);return t.__chain__=!0,t}var tL=Math.ceil,nL=Math.max;function rL(e,t,n){(n?On(e,t,n):t===void 0)?t=1:t=nL(it(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(tL(r/t));o<r;)a[i++]=Or(e,o,o+=t);return a}function ma(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function oL(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=br(n),n=n===n?n:0),t!==void 0&&(t=br(t),t=t===t?t:0),ma(br(e),t,n)}function iL(){this.__data__=new Xo,this.size=0}function aL(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function sL(e){return this.__data__.get(e)}function lL(e){return this.__data__.has(e)}var uL=200;function cL(e,t){var n=this.__data__;if(n instanceof Xo){var r=n.__data__;if(!Gl||r.length<uL-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Uo(r)}return n.set(e,t),this.size=n.size,this}function Yr(e){var t=this.__data__=new Xo(e);this.size=t.size}Yr.prototype.clear=iL;Yr.prototype.delete=aL;Yr.prototype.get=sL;Yr.prototype.has=lL;Yr.prototype.set=cL;function Ux(e,t){return e&&Co(t,tn(t),e)}function dL(e,t){return e&&Co(t,Gn(t),e)}var Yx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,s0=Yx&&typeof module=="object"&&module&&!module.nodeType&&module,fL=s0&&s0.exports===Yx,l0=fL?rn.Buffer:void 0,u0=l0?l0.allocUnsafe:void 0;function Kx(e,t){if(t)return e.slice();var n=e.length,r=u0?u0(n):new e.constructor(n);return e.copy(r),r}function Ci(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function kg(){return[]}var hL=Object.prototype,pL=hL.propertyIsEnumerable,c0=Object.getOwnPropertySymbols,Rg=c0?function(e){return e==null?[]:(e=Object(e),Ci(c0(e),function(t){return pL.call(e,t)}))}:kg;function vL(e,t){return Co(e,Rg(e),t)}var gL=Object.getOwnPropertySymbols,qx=gL?function(e){for(var t=[];e;)xi(t,Rg(e)),e=sf(e);return t}:kg;function mL(e,t){return Co(e,qx(e),t)}function Zx(e,t,n){var r=t(e);return Je(e)?r:xi(r,n(e))}function Dp(e){return Zx(e,tn,Rg)}function Lg(e){return Zx(e,Gn,qx)}var kp=va(rn,"DataView"),Rp=va(rn,"Promise"),Ua=va(rn,"Set"),d0="[object Map]",yL="[object Object]",f0="[object Promise]",h0="[object Set]",p0="[object WeakMap]",v0="[object DataView]",_L=pa(kp),bL=pa(Gl),wL=pa(Rp),xL=pa(Ua),EL=pa(Fl),bn=kn;(kp&&bn(new kp(new ArrayBuffer(1)))!=v0||Gl&&bn(new Gl)!=d0||Rp&&bn(Rp.resolve())!=f0||Ua&&bn(new Ua)!=h0||Fl&&bn(new Fl)!=p0)&&(bn=function(e){var t=kn(e),n=t==yL?e.constructor:void 0,r=n?pa(n):"";if(r)switch(r){case _L:return v0;case bL:return d0;case wL:return f0;case xL:return h0;case EL:return p0}return t});var CL=Object.prototype,SL=CL.hasOwnProperty;function NL(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&SL.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Hc=rn.Uint8Array;function $g(e){var t=new e.constructor(e.byteLength);return new Hc(t).set(new Hc(e)),t}function OL(e,t){var n=t?$g(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var AL=/\w*$/;function ML(e){var t=new e.constructor(e.source,AL.exec(e));return t.lastIndex=e.lastIndex,t}var g0=En?En.prototype:void 0,m0=g0?g0.valueOf:void 0;function TL(e){return m0?Object(m0.call(e)):{}}function Jx(e,t){var n=t?$g(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var PL="[object Boolean]",DL="[object Date]",kL="[object Map]",RL="[object Number]",LL="[object RegExp]",$L="[object Set]",BL="[object String]",IL="[object Symbol]",jL="[object ArrayBuffer]",VL="[object DataView]",zL="[object Float32Array]",FL="[object Float64Array]",HL="[object Int8Array]",WL="[object Int16Array]",GL="[object Int32Array]",XL="[object Uint8Array]",UL="[object Uint8ClampedArray]",YL="[object Uint16Array]",KL="[object Uint32Array]";function qL(e,t,n){var r=e.constructor;switch(t){case jL:return $g(e);case PL:case DL:return new r(+e);case VL:return OL(e,n);case zL:case FL:case HL:case WL:case GL:case XL:case UL:case YL:case KL:return Jx(e,n);case kL:return new r;case RL:case BL:return new r(e);case LL:return ML(e);case $L:return new r;case IL:return TL(e)}}function Qx(e){return typeof e.constructor=="function"&&!du(e)?Es(sf(e)):{}}var ZL="[object Map]";function JL(e){return Xt(e)&&bn(e)==ZL}var y0=Nr&&Nr.isMap,eE=y0?ar(y0):JL,QL="[object Set]";function e$(e){return Xt(e)&&bn(e)==QL}var _0=Nr&&Nr.isSet,tE=_0?ar(_0):e$,t$=1,n$=2,r$=4,nE="[object Arguments]",o$="[object Array]",i$="[object Boolean]",a$="[object Date]",s$="[object Error]",rE="[object Function]",l$="[object GeneratorFunction]",u$="[object Map]",c$="[object Number]",oE="[object Object]",d$="[object RegExp]",f$="[object Set]",h$="[object String]",p$="[object Symbol]",v$="[object WeakMap]",g$="[object ArrayBuffer]",m$="[object DataView]",y$="[object Float32Array]",_$="[object Float64Array]",b$="[object Int8Array]",w$="[object Int16Array]",x$="[object Int32Array]",E$="[object Uint8Array]",C$="[object Uint8ClampedArray]",S$="[object Uint16Array]",N$="[object Uint32Array]",kt={};kt[nE]=kt[o$]=kt[g$]=kt[m$]=kt[i$]=kt[a$]=kt[y$]=kt[_$]=kt[b$]=kt[w$]=kt[x$]=kt[u$]=kt[c$]=kt[oE]=kt[d$]=kt[f$]=kt[h$]=kt[p$]=kt[E$]=kt[C$]=kt[S$]=kt[N$]=!0;kt[s$]=kt[rE]=kt[v$]=!1;function wr(e,t,n,r,o,i){var a,s=t&t$,l=t&n$,c=t&r$;if(n&&(a=o?n(e,r,o,i):n(e)),a!==void 0)return a;if(!zt(e))return e;var d=Je(e);if(d){if(a=NL(e),!s)return zn(e,a)}else{var f=bn(e),h=f==rE||f==l$;if(pi(e))return Kx(e,s);if(f==oE||f==nE||h&&!o){if(a=l||h?{}:Qx(e),!s)return l?mL(e,dL(a,e)):vL(e,Ux(a,e))}else{if(!kt[f])return o?e:{};a=qL(e,f,s)}}i||(i=new Yr);var p=i.get(e);if(p)return p;i.set(e,a),tE(e)?e.forEach(function(m){a.add(wr(m,t,n,m,e,i))}):eE(e)&&e.forEach(function(m,y){a.set(y,wr(m,t,n,y,e,i))});var v=c?l?Lg:Dp:l?Gn:tn,g=d?void 0:v(e);return Mr(g||e,function(m,y){g&&(y=m,m=e[y]),cu(a,y,wr(m,t,n,y,e,i))}),a}var O$=4;function A$(e){return wr(e,O$)}var M$=1,T$=4;function Ye(e){return wr(e,M$|T$)}var P$=1,D$=4;function k$(e,t){return t=typeof t=="function"?t:void 0,wr(e,P$|D$,t)}var R$=4;function L$(e,t){return t=typeof t=="function"?t:void 0,wr(e,R$,t)}function $$(){return new Sr(this.value(),this.__chain__)}function B$(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function I$(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return xi(Je(n)?zn(n):[n],gn(t,1))}var j$="__lodash_hash_undefined__";function V$(e){return this.__data__.set(e,j$),this}function z$(e){return this.__data__.has(e)}function oa(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Uo;++t<n;)this.add(e[t])}oa.prototype.add=oa.prototype.push=V$;oa.prototype.has=z$;function Bg(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Xl(e,t){return e.has(t)}var F$=1,H$=2;function iE(e,t,n,r,o,i){var a=n&F$,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=n&H$?new oa:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var v=e[f],g=t[f];if(r)var m=a?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(m!==void 0){if(m)continue;h=!1;break}if(p){if(!Bg(t,function(y,_){if(!Xl(p,_)&&(v===y||o(v,y,n,r,i)))return p.push(_)})){h=!1;break}}else if(!(v===g||o(v,g,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}function Ig(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function uf(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var W$=1,G$=2,X$="[object Boolean]",U$="[object Date]",Y$="[object Error]",K$="[object Map]",q$="[object Number]",Z$="[object RegExp]",J$="[object Set]",Q$="[object String]",e8="[object Symbol]",t8="[object ArrayBuffer]",n8="[object DataView]",b0=En?En.prototype:void 0,Rh=b0?b0.valueOf:void 0;function r8(e,t,n,r,o,i,a){switch(n){case n8:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case t8:return!(e.byteLength!=t.byteLength||!i(new Hc(e),new Hc(t)));case X$:case U$:case q$:return no(+e,+t);case Y$:return e.name==t.name&&e.message==t.message;case Z$:case Q$:return e==t+"";case K$:var s=Ig;case J$:var l=r&W$;if(s||(s=uf),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=G$,a.set(e,t);var d=iE(s(e),s(t),r,o,i,a);return a.delete(e),d;case e8:if(Rh)return Rh.call(e)==Rh.call(t)}return!1}var o8=1,i8=Object.prototype,a8=i8.hasOwnProperty;function s8(e,t,n,r,o,i){var a=n&o8,s=Dp(e),l=s.length,c=Dp(t),d=c.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in t:a8.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var m=a;++f<l;){h=s[f];var y=e[h],_=t[h];if(r)var C=a?r(_,y,h,t,e,i):r(y,_,h,e,t,i);if(!(C===void 0?y===_||o(y,_,n,r,i):C)){g=!1;break}m||(m=h=="constructor")}if(g&&!m){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof S=="function"&&S instanceof S)&&(g=!1)}return i.delete(e),i.delete(t),g}var l8=1,w0="[object Arguments]",x0="[object Array]",Iu="[object Object]",u8=Object.prototype,E0=u8.hasOwnProperty;function c8(e,t,n,r,o,i){var a=Je(e),s=Je(t),l=a?x0:bn(e),c=s?x0:bn(t);l=l==w0?Iu:l,c=c==w0?Iu:c;var d=l==Iu,f=c==Iu,h=l==c;if(h&&pi(e)){if(!pi(t))return!1;a=!0,d=!1}if(h&&!d)return i||(i=new Yr),a||Os(e)?iE(e,t,n,r,o,i):r8(e,t,l,n,r,o,i);if(!(n&l8)){var p=d&&E0.call(e,"__wrapped__"),v=f&&E0.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,m=v?t.value():t;return i||(i=new Yr),o(g,m,n,r,i)}}return h?(i||(i=new Yr),s8(e,t,n,r,o,i)):!1}function hu(e,t,n,r,o){return e===t?!0:e==null||t==null||!Xt(e)&&!Xt(t)?e!==e&&t!==t:c8(e,t,n,r,hu,o)}var d8=1,f8=2;function jg(e,t,n,r){var o=n.length,i=o,a=!r;if(e==null)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){s=n[o];var l=s[0],c=e[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in e))return!1}else{var f=new Yr;if(r)var h=r(c,d,l,e,t,f);if(!(h===void 0?hu(d,c,d8|f8,r,f):h))return!1}}return!0}function aE(e){return e===e&&!zt(e)}function Vg(e){for(var t=tn(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,aE(o)]}return t}function sE(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function lE(e){var t=Vg(e);return t.length==1&&t[0][2]?sE(t[0][0],t[0][1]):function(n){return n===e||jg(n,e,t)}}function h8(e,t){return e!=null&&t in Object(e)}function uE(e,t,n){t=wi(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=So(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&nf(o)&&Ho(a,o)&&(Je(e)||na(e)))}function zg(e,t){return e!=null&&uE(e,t,h8)}var p8=1,v8=2;function cE(e,t){return Sg(e)&&aE(t)?sE(So(e),t):function(n){var r=As(n,e);return r===void 0&&r===t?zg(n,e):hu(t,r,p8|v8)}}function Fg(e){return function(t){return t==null?void 0:t[e]}}function g8(e){return function(t){return ga(t,e)}}function dE(e){return Sg(e)?Fg(So(e)):g8(e)}function nt(e){return typeof e=="function"?e:e==null?Rn:typeof e=="object"?Je(e)?cE(e[0],e[1]):lE(e):dE(e)}var m8="Expected a function";function y8(e){var t=e==null?0:e.length,n=nt;return e=t?Gt(e,function(r){if(typeof r[1]!="function")throw new TypeError(m8);return[n(r[0]),r[1]]}):[],ct(function(r){for(var o=-1;++o<t;){var i=e[o];if(ir(i[0],this,r))return ir(i[1],this,r)}})}function fE(e,t,n){var r=n.length;if(e==null)return!r;for(e=Object(e);r--;){var o=n[r],i=t[o],a=e[o];if(a===void 0&&!(o in e)||!i(a))return!1}return!0}function _8(e){var t=tn(e);return function(n){return fE(n,e,t)}}var b8=1;function w8(e){return _8(wr(e,b8))}function x8(e,t){return t==null||fE(e,t,tn(t))}function E8(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function hE(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(n(i[l],l,i)===!1)break}return t}}var Hg=hE();function No(e,t){return e&&Hg(e,t,tn)}function pE(e,t){return function(n,r){if(n==null)return n;if(!Wn(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}var Si=pE(No);function C8(e,t,n,r){return Si(e,function(o,i,a){t(r,o,n(o),a)}),r}function cf(e,t){return function(n,r){var o=Je(n)?E8:C8,i=t?t():{};return o(n,e,nt(r),i)}}var S8=Object.prototype,N8=S8.hasOwnProperty,O8=cf(function(e,t,n){N8.call(e,n)?++e[n]:Go(e,n,1)});function A8(e,t){var n=Es(e);return t==null?n:Ux(n,t)}var M8=8;function Wg(e,t,n){t=n?void 0:t;var r=Wo(e,M8,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=Wg.placeholder,r}Wg.placeholder={};var T8=16;function Gg(e,t,n){t=n?void 0:t;var r=Wo(e,T8,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=Gg.placeholder,r}Gg.placeholder={};var bc=function(){return rn.Date.now()},P8="Expected a function",D8=Math.max,k8=Math.min;function df(e,t,n){var r,o,i,a,s,l,c=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(P8);t=br(t)||0,zt(n)&&(d=!!n.leading,f="maxWait"in n,i=f?D8(br(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function p(b){var w=r,T=o;return r=o=void 0,c=b,a=e.apply(T,w),a}function v(b){return c=b,s=setTimeout(y,t),d?p(b):a}function g(b){var w=b-l,T=b-c,k=t-w;return f?k8(k,i-T):k}function m(b){var w=b-l,T=b-c;return l===void 0||w>=t||w<0||f&&T>=i}function y(){var b=bc();if(m(b))return _(b);s=setTimeout(y,g(b))}function _(b){return s=void 0,h&&r?p(b):(r=o=void 0,a)}function C(){s!==void 0&&clearTimeout(s),c=0,r=l=o=s=void 0}function x(){return s===void 0?a:_(bc())}function S(){var b=bc(),w=m(b);if(r=arguments,o=this,l=b,w){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,t),p(l)}return s===void 0&&(s=setTimeout(y,t)),a}return S.cancel=C,S.flush=x,S}function R8(e,t){return e==null||e!==e?t:e}var vE=Object.prototype,L8=vE.hasOwnProperty,$8=ct(function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&On(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=Gn(i),s=-1,l=a.length;++s<l;){var c=a[s],d=e[c];(d===void 0||no(d,vE[c])&&!L8.call(e,c))&&(e[c]=i[c])}return e});function Lp(e,t,n){(n!==void 0&&!no(e[t],n)||n===void 0&&!(t in e))&&Go(e,t,n)}function Kt(e){return Xt(e)&&Wn(e)}function $p(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function gE(e){return Co(e,Gn(e))}function B8(e,t,n,r,o,i,a){var s=$p(e,n),l=$p(t,n),c=a.get(l);if(c){Lp(e,n,c);return}var d=i?i(s,l,n+"",e,t,a):void 0,f=d===void 0;if(f){var h=Je(l),p=!h&&pi(l),v=!h&&!p&&Os(l);d=l,h||p||v?Je(s)?d=s:Kt(s)?d=zn(s):p?(f=!1,d=Kx(l,!0)):v?(f=!1,d=Jx(l,!0)):d=[]:fu(l)||na(l)?(d=s,na(s)?d=gE(s):(!zt(s)||Fo(s))&&(d=Qx(l))):f=!1}f&&(a.set(l,d),o(d,l,r,i,a),a.delete(l)),Lp(e,n,d)}function ff(e,t,n,r,o){e!==t&&Hg(t,function(i,a){if(o||(o=new Yr),zt(i))B8(e,t,a,n,ff,r,o);else{var s=r?r($p(e,a),i,a+"",e,t,o):void 0;s===void 0&&(s=i),Lp(e,a,s)}},Gn)}function mE(e,t,n,r,o,i){return zt(e)&&zt(t)&&(i.set(t,e),ff(e,t,void 0,mE,i),i.delete(t)),e}var yE=Ns(function(e,t,n,r){ff(e,t,n,r)}),I8=ct(function(e){return e.push(void 0,mE),ir(yE,void 0,e)}),j8="Expected a function";function _E(e,t,n){if(typeof e!="function")throw new TypeError(j8);return setTimeout(function(){e.apply(void 0,n)},t)}var V8=ct(function(e,t){return _E(e,1,t)}),z8=ct(function(e,t,n){return _E(e,br(t)||0,n)});function Xg(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var F8=200;function pu(e,t,n,r){var o=-1,i=ef,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Gt(t,ar(n))),r?(i=Xg,a=!1):t.length>=F8&&(i=Xl,a=!1,t=new oa(t));e:for(;++o<s;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,a&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;l.push(d)}else i(t,f,r)||l.push(d)}return l}var H8=ct(function(e,t){return Kt(e)?pu(e,gn(t,1,Kt,!0)):[]});function Hn(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var W8=ct(function(e,t){var n=Hn(t);return Kt(n)&&(n=void 0),Kt(e)?pu(e,gn(t,1,Kt,!0),nt(n)):[]}),G8=ct(function(e,t){var n=Hn(t);return Kt(n)&&(n=void 0),Kt(e)?pu(e,gn(t,1,Kt,!0),void 0,n):[]}),X8=Zd(function(e,t){return e/t},1);function U8(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:it(t),Or(e,t<0?0:t,r)):[]}function Y8(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:it(t),t=r-t,Or(e,0,t<0?0:t)):[]}function hf(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Or(e,r?0:i,r?i+1:o):Or(e,r?i+1:0,r?o:i)}function K8(e,t){return e&&e.length?hf(e,nt(t),!0,!0):[]}function q8(e,t){return e&&e.length?hf(e,nt(t),!0):[]}function Oo(e){return typeof e=="function"?e:Rn}function qe(e,t){var n=Je(e)?Mr:Si;return n(e,Oo(t))}function Z8(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}var bE=hE(!0);function Ug(e,t){return e&&bE(e,t,tn)}var wE=pE(Ug,!0);function C0(e,t){var n=Je(e)?Z8:wE;return n(e,Oo(t))}function J8(e,t,n){e=At(e),t=or(t);var r=e.length;n=n===void 0?r:ma(it(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function Q8(e,t){return Gt(t,function(n){return[n,e[n]]})}function eB(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var tB="[object Map]",nB="[object Set]";function xE(e){return function(t){var n=bn(t);return n==tB?Ig(t):n==nB?eB(t):Q8(t,e(t))}}var bo=xE(tn),S0=xE(Gn),rB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oB=Pg(rB),EE=/[&<>"']/g,iB=RegExp(EE.source);function CE(e){return e=At(e),e&&iB.test(e)?e.replace(EE,oB):e}var SE=/[\\^$.*+?()[\]{}|]/g,aB=RegExp(SE.source);function sB(e){return e=At(e),e&&aB.test(e)?e.replace(SE,"\\$&"):e}function NE(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lB(e,t){var n=!0;return Si(e,function(r,o,i){return n=!!t(r,o,i),n}),n}function uB(e,t,n){var r=Je(e)?NE:lB;return n&&On(e,t,n)&&(t=void 0),r(e,nt(t))}var cB=4294967295;function OE(e){return e?ma(it(e),0,cB):0}function dB(e,t,n,r){var o=e.length;for(n=it(n),n<0&&(n=-n>o?0:o+n),r=r===void 0||r>o?o:it(r),r<0&&(r+=o),r=n>r?0:OE(r);n<r;)e[n++]=t;return e}function fB(e,t,n,r){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&On(e,t,n)&&(n=0,r=o),dB(e,t,n,r)):[]}function AE(e,t){var n=[];return Si(e,function(r,o,i){t(r,o,i)&&n.push(r)}),n}function ll(e,t){var n=Je(e)?Ci:AE;return n(e,nt(t))}function ME(e){return function(t,n,r){var o=Object(t);if(!Wn(t)){var i=nt(n);t=tn(t),n=function(s){return i(o[s],s,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}var hB=Math.max;function Yg(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=hB(r+o,0)),Qd(e,nt(t),o)}var vi=ME(Yg);function TE(e,t,n){var r;return n(e,function(o,i,a){if(t(o,i,a))return r=i,!1}),r}function pB(e,t){return TE(e,nt(t),No)}var vB=Math.max,gB=Math.min;function PE(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return n!==void 0&&(o=it(n),o=n<0?vB(r+o,0):gB(o,r-1)),Qd(e,nt(t),o,!0)}var mB=ME(PE);function yB(e,t){return TE(e,nt(t),Ug)}function N0(e){return e&&e.length?e[0]:void 0}function DE(e,t){var n=-1,r=Wn(e)?Array(e.length):[];return Si(e,function(o,i,a){r[++n]=t(o,i,a)}),r}function An(e,t){var n=Je(e)?Gt:DE;return n(e,nt(t))}function _B(e,t){return gn(An(e,t),1)}var bB=1/0;function wB(e,t){return gn(An(e,t),bB)}function xB(e,t,n){return n=n===void 0?1:it(n),gn(An(e,t),n)}var EB=1/0;function CB(e){var t=e==null?0:e.length;return t?gn(e,EB):[]}function SB(e,t){var n=e==null?0:e.length;return n?(t=t===void 0?1:it(t),gn(e,t)):[]}var NB=512;function OB(e){return Wo(e,NB)}var AB=Dg("floor"),MB="Expected a function",TB=8,PB=32,DB=128,kB=256;function kE(e){return Yo(function(t){var n=t.length,r=n,o=Sr.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(MB);if(o&&!a&&_c(i)=="wrapper")var a=new Sr([],!0)}for(r=a?r:n;++r<n;){i=t[r];var s=_c(i),l=s=="wrapper"?_g(i):void 0;l&&Mp(l[0])&&l[1]==(DB|TB|PB|kB)&&!l[4].length&&l[9]==1?a=a[_c(l[0])].apply(a,l[3]):a=i.length==1&&Mp(i)?a[s]():a.thru(i)}return function(){var c=arguments,d=c[0];if(a&&c.length==1&&Je(d))return a.plant(d).value();for(var f=0,h=n?t[f].apply(this,c):d;++f<n;)h=t[f].call(this,h);return h}})}var RB=kE(),LB=kE(!0);function $B(e,t){return e==null?e:Hg(e,Oo(t),Gn)}function BB(e,t){return e==null?e:bE(e,Oo(t),Gn)}function IB(e,t){return e&&No(e,Oo(t))}function jB(e,t){return e&&Ug(e,Oo(t))}function VB(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function pf(e,t){return Ci(t,function(n){return Fo(e[n])})}function zB(e){return e==null?[]:pf(e,tn(e))}function FB(e){return e==null?[]:pf(e,Gn(e))}var HB=Object.prototype,WB=HB.hasOwnProperty,GB=cf(function(e,t,n){WB.call(e,n)?e[n].push(t):Go(e,n,[t])});function Kg(e,t){return e>t}function vf(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=br(t),n=br(n)),e(t,n)}}var XB=vf(Kg),UB=vf(function(e,t){return e>=t}),YB=Object.prototype,KB=YB.hasOwnProperty;function qB(e,t){return e!=null&&KB.call(e,t)}function os(e,t){return e!=null&&uE(e,t,qB)}var ZB=Math.max,JB=Math.min;function QB(e,t,n){return e>=JB(t,n)&&e<ZB(t,n)}function e6(e,t,n){return t=Io(t),n===void 0?(n=t,t=0):n=Io(n),e=br(e),QB(e,t,n)}var t6="[object String]";function gf(e){return typeof e=="string"||!Je(e)&&Xt(e)&&kn(e)==t6}function qg(e,t){return Gt(t,function(n){return e[n]})}function Ps(e){return e==null?[]:qg(e,tn(e))}var n6=Math.max;function r6(e,t,n,r){e=Wn(e)?e:Ps(e),n=n&&!r?it(n):0;var o=e.length;return n<0&&(n=n6(o+n,0)),gf(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Cs(e,t,n)>-1}var o6=Math.max;function RE(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=o6(r+o,0)),Cs(e,t,o)}function i6(e){var t=e==null?0:e.length;return t?Or(e,0,-1):[]}var a6=Math.min;function Zg(e,t,n){for(var r=n?Xg:ef,o=e[0].length,i=e.length,a=i,s=Array(i),l=1/0,c=[];a--;){var d=e[a];a&&t&&(d=Gt(d,ar(t))),l=a6(d.length,l),s[a]=!n&&(t||o>=120&&d.length>=120)?new oa(a&&d):void 0}d=e[0];var f=-1,h=s[0];e:for(;++f<o&&c.length<l;){var p=d[f],v=t?t(p):p;if(p=n||p!==0?p:0,!(h?Xl(h,v):r(c,v,n))){for(a=i;--a;){var g=s[a];if(!(g?Xl(g,v):r(e[a],v,n)))continue e}h&&h.push(v),c.push(p)}}return c}function Jg(e){return Kt(e)?e:[]}var s6=ct(function(e){var t=Gt(e,Jg);return t.length&&t[0]===e[0]?Zg(t):[]}),l6=ct(function(e){var t=Hn(e),n=Gt(e,Jg);return t===Hn(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?Zg(n,nt(t)):[]}),u6=ct(function(e){var t=Hn(e),n=Gt(e,Jg);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?Zg(n,void 0,t):[]});function c6(e,t,n,r){return No(e,function(o,i,a){t(r,n(o),i,a)}),r}function LE(e,t){return function(n,r){return c6(n,e,t(r),{})}}var d6=Object.prototype,f6=d6.toString,h6=LE(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=f6.call(t)),e[t]=n},bg(Rn)),$E=Object.prototype,p6=$E.hasOwnProperty,v6=$E.toString,g6=LE(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=v6.call(t)),p6.call(e,t)?e[t].push(n):e[t]=[n]},nt);function BE(e,t){return t.length<2?e:ga(e,Or(t,0,-1))}function vu(e,t,n){t=wi(t,e),e=BE(e,t);var r=e==null?e:e[So(Hn(t))];return r==null?void 0:ir(r,e,n)}var m6=ct(vu),y6=ct(function(e,t,n){var r=-1,o=typeof t=="function",i=Wn(e)?Array(e.length):[];return Si(e,function(a){i[++r]=o?ir(t,a,n):vu(a,t,n)}),i}),_6="[object ArrayBuffer]";function b6(e){return Xt(e)&&kn(e)==_6}var O0=Nr&&Nr.isArrayBuffer,w6=O0?ar(O0):b6,x6="[object Boolean]";function Wc(e){return e===!0||e===!1||Xt(e)&&kn(e)==x6}var E6="[object Date]";function C6(e){return Xt(e)&&kn(e)==E6}var A0=Nr&&Nr.isDate,S6=A0?ar(A0):C6;function N6(e){return Xt(e)&&e.nodeType===1&&!fu(e)}var O6="[object Map]",A6="[object Set]",M6=Object.prototype,T6=M6.hasOwnProperty;function Qg(e){if(e==null)return!0;if(Wn(e)&&(Je(e)||typeof e=="string"||typeof e.splice=="function"||pi(e)||Os(e)||na(e)))return!e.length;var t=bn(e);if(t==O6||t==A6)return!e.size;if(du(e))return!Cg(e).length;for(var n in e)if(T6.call(e,n))return!1;return!0}function Gc(e,t){return hu(e,t)}function P6(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?hu(e,t,void 0,n):!!r}var D6=rn.isFinite;function k6(e){return typeof e=="number"&&D6(e)}function IE(e){return typeof e=="number"&&e==it(e)}function R6(e,t){return e===t||jg(e,t,Vg(t))}function L6(e,t,n){return n=typeof n=="function"?n:void 0,jg(e,t,Vg(t),n)}var $6="[object Number]";function jE(e){return typeof e=="number"||Xt(e)&&kn(e)==$6}function B6(e){return jE(e)&&e!=+e}var I6=yc?Fo:Eg,j6="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function V6(e){if(I6(e))throw new Error(j6);return tx(e)}function qi(e){return e==null}function z6(e){return e===null}var F6="[object RegExp]";function H6(e){return Xt(e)&&kn(e)==F6}var M0=Nr&&Nr.isRegExp,em=M0?ar(M0):H6,T0=9007199254740991;function W6(e){return IE(e)&&e>=-T0&&e<=T0}function ia(e){return e===void 0}var G6="[object WeakMap]";function X6(e){return Xt(e)&&bn(e)==G6}var U6="[object WeakSet]";function Y6(e){return Xt(e)&&kn(e)==U6}var K6=1;function q6(e){return nt(typeof e=="function"?e:wr(e,K6))}var Z6=Array.prototype,J6=Z6.join;function Q6(e,t){return e==null?"":J6.call(e,t)}var eI=Ts(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),tI=cf(function(e,t,n){Go(e,n,t)});function nI(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var rI=Math.max,oI=Math.min;function iI(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r;return n!==void 0&&(o=it(n),o=o<0?rI(r+o,0):oI(o,r-1)),t===t?nI(e,t,o):Qd(e,lx,o,!0)}var aI=Ts(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),sI=Mx("toLowerCase");function tm(e,t){return e<t}var lI=vf(tm),uI=vf(function(e,t){return e<=t});function VE(e,t){var n={};return t=nt(t),No(e,function(r,o,i){Go(n,t(r,o,i),r)}),n}function cI(e,t){var n={};return t=nt(t),No(e,function(r,o,i){Go(n,o,t(r,o,i))}),n}var dI=1;function fI(e){return lE(wr(e,dI))}var hI=1;function pI(e,t){return cE(e,wr(t,hI))}function mf(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(a!=null&&(s===void 0?a===a&&!rr(a):n(a,s)))var s=a,l=i}return l}function vI(e){return e&&e.length?mf(e,Rn,Kg):void 0}function gI(e,t){return e&&e.length?mf(e,nt(t),Kg):void 0}function nm(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==void 0&&(n=n===void 0?i:n+i)}return n}var mI=NaN;function zE(e,t){var n=e==null?0:e.length;return n?nm(e,t)/n:mI}function yI(e){return zE(e,Rn)}function _I(e,t){return zE(e,nt(t))}var is=Ns(function(e,t,n){ff(e,t,n)}),bI=ct(function(e,t){return function(n){return vu(n,e,t)}}),wI=ct(function(e,t){return function(n){return vu(e,n,t)}});function xI(e){return e&&e.length?mf(e,Rn,tm):void 0}function EI(e,t){return e&&e.length?mf(e,nt(t),tm):void 0}function FE(e,t,n){var r=tn(t),o=pf(t,r),i=!(zt(n)&&"chain"in n)||!!n.chain,a=Fo(e);return Mr(o,function(s){var l=t[s];e[s]=l,a&&(e.prototype[s]=function(){var c=this.__chain__;if(i||c){var d=e(this.__wrapped__),f=d.__actions__=zn(this.__actions__);return f.push({func:l,args:arguments,thisArg:e}),d.__chain__=c,d}return l.apply(e,xi([this.value()],arguments))})}),e}var CI=Zd(function(e,t){return e*t},1),SI="Expected a function";function gu(e){if(typeof e!="function")throw new TypeError(SI);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function NI(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var OI="[object Map]",AI="[object Set]",Lh=En?En.iterator:void 0;function HE(e){if(!e)return[];if(Wn(e))return gf(e)?Qr(e):zn(e);if(Lh&&e[Lh])return NI(e[Lh]());var t=bn(e),n=t==OI?Ig:t==AI?uf:Ps;return n(e)}function MI(){this.__values__===void 0&&(this.__values__=HE(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}function WE(e,t){var n=e.length;if(n)return t+=t<0?n:0,Ho(t,n)?e[t]:void 0}function TI(e,t){return e&&e.length?WE(e,it(t)):void 0}function PI(e){return e=it(e),ct(function(t){return WE(t,e)})}function rm(e,t){return t=wi(t,e),e=BE(e,t),e==null||delete e[So(Hn(t))]}function DI(e){return fu(e)?void 0:e}var kI=1,RI=2,LI=4,$I=Yo(function(e,t){var n={};if(e==null)return n;var r=!1;t=Gt(t,function(i){return i=wi(i,e),r||(r=i.length>1),i}),Co(e,Lg(e),n),r&&(n=wr(n,kI|RI|LI,DI));for(var o=t.length;o--;)rm(n,t[o]);return n});function mu(e,t,n,r){if(!zt(e))return e;t=wi(t,e);for(var o=-1,i=t.length,a=i-1,s=e;s!=null&&++o<i;){var l=So(t[o]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=a){var d=s[l];c=r?r(d,l,s):void 0,c===void 0&&(c=zt(d)?d:Ho(t[o+1])?[]:{})}cu(s,l,c),s=s[l]}return e}function GE(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=ga(e,a);n(s,a)&&mu(i,wi(a,e),s)}return i}function XE(e,t){if(e==null)return{};var n=Gt(Lg(e),function(r){return[r]});return t=nt(t),GE(e,n,function(r,o){return t(r,o[0])})}function BI(e,t){return XE(e,gu(nt(t)))}function II(e){return xx(2,e)}function jI(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function UE(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=rr(e),a=t!==void 0,s=t===null,l=t===t,c=rr(t);if(!s&&!c&&!i&&e>t||i&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function VI(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var l=UE(o[r],i[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}function YE(e,t,n){t.length?t=Gt(t,function(i){return Je(i)?function(a){return ga(a,i.length===1?i[0]:i)}:i}):t=[Rn];var r=-1;t=Gt(t,ar(nt));var o=DE(e,function(i,a,s){var l=Gt(t,function(c){return c(i)});return{criteria:l,index:++r,value:i}});return jI(o,function(i,a){return VI(i,a,n)})}function zI(e,t,n,r){return e==null?[]:(Je(t)||(t=t==null?[]:[t]),n=r?void 0:n,Je(n)||(n=n==null?[]:[n]),YE(e,t,n))}function om(e){return Yo(function(t){return t=Gt(t,ar(nt)),ct(function(n){var r=this;return e(t,function(o){return ir(o,r,n)})})})}var FI=om(Gt),HI=ct,WI=Math.min,GI=HI(function(e,t){t=t.length==1&&Je(t[0])?Gt(t[0],ar(nt)):Gt(gn(t,1),ar(nt));var n=t.length;return ct(function(r){for(var o=-1,i=WI(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return ir(e,this,r)})}),XI=om(NE),UI=om(Bg),YI=9007199254740991,KI=Math.floor;function Bp(e,t){var n="";if(!e||t<1||t>YI)return n;do t%2&&(n+=e),t=KI(t/2),t&&(e+=e);while(t);return n}var qI=Fg("length"),KE="\\ud800-\\udfff",ZI="\\u0300-\\u036f",JI="\\ufe20-\\ufe2f",QI="\\u20d0-\\u20ff",e7=ZI+JI+QI,t7="\\ufe0e\\ufe0f",n7="["+KE+"]",Ip="["+e7+"]",jp="\\ud83c[\\udffb-\\udfff]",r7="(?:"+Ip+"|"+jp+")",qE="[^"+KE+"]",ZE="(?:\\ud83c[\\udde6-\\uddff]){2}",JE="[\\ud800-\\udbff][\\udc00-\\udfff]",o7="\\u200d",QE=r7+"?",eC="["+t7+"]?",i7="(?:"+o7+"(?:"+[qE,ZE,JE].join("|")+")"+eC+QE+")*",a7=eC+QE+i7,s7="(?:"+[qE+Ip+"?",Ip,ZE,JE,n7].join("|")+")",P0=RegExp(jp+"(?="+jp+")|"+s7+a7,"g");function l7(e){for(var t=P0.lastIndex=0;P0.test(e);)++t;return t}function Ds(e){return Ms(e)?l7(e):qI(e)}var u7=Math.ceil;function Xc(e,t){t=t===void 0?" ":or(t);var n=t.length;if(n<2)return n?Bp(t,e):t;var r=Bp(t,u7(e/Ds(t)));return Ms(t)?Ei(Qr(r),0,e).join(""):r.slice(0,e)}var c7=Math.ceil,d7=Math.floor;function f7(e,t,n){e=At(e),t=it(t);var r=t?Ds(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Xc(d7(o),n)+e+Xc(c7(o),n)}function h7(e,t,n){e=At(e),t=it(t);var r=t?Ds(e):0;return t&&r<t?e+Xc(t-r,n):e}function p7(e,t,n){e=At(e),t=it(t);var r=t?Ds(e):0;return t&&r<t?Xc(t-r,n)+e:e}var v7=/^\s+/,g7=rn.parseInt;function m7(e,t,n){return n||t==null?t=0:t&&(t=+t),g7(At(e).replace(v7,""),t||0)}var y7=32,yf=ct(function(e,t){var n=hi(t,Ss(yf));return Wo(e,y7,void 0,t,n)});yf.placeholder={};var _7=64,im=ct(function(e,t){var n=hi(t,Ss(im));return Wo(e,_7,void 0,t,n)});im.placeholder={};var b7=cf(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function w7(e,t){return GE(e,t,function(n,r){return zg(e,r)})}var Gi=Yo(function(e,t){return e==null?{}:w7(e,t)});function x7(e){for(var t,n=this;n instanceof Jd;){var r=ix(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function E7(e){return function(t){return e==null?void 0:ga(e,t)}}function C7(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}var S7=Array.prototype,D0=S7.splice;function am(e,t,n,r){var o=r?C7:Cs,i=-1,a=t.length,s=e;for(e===t&&(t=zn(t)),n&&(s=Gt(e,ar(n)));++i<a;)for(var l=0,c=t[i],d=n?n(c):c;(l=o(s,d,l,r))>-1;)s!==e&&D0.call(s,l,1),D0.call(e,l,1);return e}function tC(e,t){return e&&e.length&&t&&t.length?am(e,t):e}var N7=ct(tC);function O7(e,t,n){return e&&e.length&&t&&t.length?am(e,t,nt(n)):e}function A7(e,t,n){return e&&e.length&&t&&t.length?am(e,t,void 0,n):e}var M7=Array.prototype,T7=M7.splice;function nC(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;Ho(o)?T7.call(e,o,1):rm(e,o)}}return e}var P7=Yo(function(e,t){var n=e==null?0:e.length,r=Ng(e,t);return nC(e,Gt(t,function(o){return Ho(o,n)?+o:o}).sort(UE)),r}),D7=Math.floor,k7=Math.random;function sm(e,t){return e+D7(k7()*(t-e+1))}var R7=parseFloat,L7=Math.min,$7=Math.random;function B7(e,t,n){if(n&&typeof n!="boolean"&&On(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=Io(e),t===void 0?(t=e,e=0):t=Io(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=$7();return L7(e+o*(t-e+R7("1e-"+((o+"").length-1))),t)}return sm(e,t)}var I7=Math.ceil,j7=Math.max;function V7(e,t,n,r){for(var o=-1,i=j7(I7((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}function rC(e){return function(t,n,r){return r&&typeof r!="number"&&On(t,n,r)&&(n=r=void 0),t=Io(t),n===void 0?(n=t,t=0):n=Io(n),r=r===void 0?t<n?1:-1:Io(r),V7(t,n,r,e)}}var z7=rC(),F7=rC(!0),H7=256,W7=Yo(function(e,t){return Wo(e,H7,void 0,void 0,void 0,t)});function oC(e,t,n,r,o){return o(e,function(i,a,s){n=r?(r=!1,i):t(n,i,a,s)}),n}function iC(e,t,n){var r=Je(e)?Tg:oC,o=arguments.length<3;return r(e,nt(t),n,o,Si)}function G7(e,t,n,r){var o=e==null?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function X7(e,t,n){var r=Je(e)?G7:oC,o=arguments.length<3;return r(e,nt(t),n,o,wE)}function U7(e,t){var n=Je(e)?Ci:AE;return n(e,gu(nt(t)))}function Y7(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],i=e.length;for(t=nt(t);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return nC(e,o),n}function K7(e,t,n){return(n?On(e,t,n):t===void 0)?t=1:t=it(t),Bp(At(e),t)}function q7(){var e=arguments,t=At(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Z7="Expected a function";function J7(e,t){if(typeof e!="function")throw new TypeError(Z7);return t=t===void 0?t:it(t),ct(e,t)}function Q7(e,t,n){t=wi(t,e);var r=-1,o=t.length;for(o||(o=1,e=void 0);++r<o;){var i=e==null?void 0:e[So(t[r])];i===void 0&&(r=o,i=n),e=Fo(i)?i.call(e):i}return e}var ej=Array.prototype,tj=ej.reverse;function Vp(e){return e==null?e:tj.call(e)}var nj=Dg("round");function aC(e){var t=e.length;return t?e[sm(0,t-1)]:void 0}function rj(e){return aC(Ps(e))}function oj(e){var t=Je(e)?aC:rj;return t(e)}function _f(e,t){var n=-1,r=e.length,o=r-1;for(t=t===void 0?r:t;++n<t;){var i=sm(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}function ij(e,t){return _f(zn(e),ma(t,0,e.length))}function aj(e,t){var n=Ps(e);return _f(n,ma(t,0,n.length))}function sj(e,t,n){(n?On(e,t,n):t===void 0)?t=1:t=it(t);var r=Je(e)?ij:aj;return r(e,t)}function sC(e,t,n){return e==null?e:mu(e,t,n)}function lj(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:mu(e,t,n,r)}function uj(e){return _f(zn(e))}function cj(e){return _f(Ps(e))}function dj(e){var t=Je(e)?uj:cj;return t(e)}var fj="[object Map]",hj="[object Set]";function pj(e){if(e==null)return 0;if(Wn(e))return gf(e)?Ds(e):e.length;var t=bn(e);return t==fj||t==hj?e.size:Cg(e).length}function vj(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&On(e,t,n)?(t=0,n=r):(t=t==null?0:it(t),n=n===void 0?r:it(n)),Or(e,t,n)):[]}var gj=Ts(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function mj(e,t){var n;return Si(e,function(r,o,i){return n=t(r,o,i),!n}),!!n}function yj(e,t,n){var r=Je(e)?Bg:mj;return n&&On(e,t,n)&&(t=void 0),r(e,nt(t))}var lC=ct(function(e,t){if(e==null)return[];var n=t.length;return n>1&&On(e,t[0],t[1])?t=[]:n>2&&On(t[0],t[1],t[2])&&(t=[t[0]]),YE(e,gn(t,1),[])}),_j=4294967295,bj=_j-1,wj=Math.floor,xj=Math.min;function lm(e,t,n,r){var o=0,i=e==null?0:e.length;if(i===0)return 0;t=n(t);for(var a=t!==t,s=t===null,l=rr(t),c=t===void 0;o<i;){var d=wj((o+i)/2),f=n(e[d]),h=f!==void 0,p=f===null,v=f===f,g=rr(f);if(a)var m=r||v;else c?m=v&&(r||h):s?m=v&&h&&(r||!p):l?m=v&&h&&!p&&(r||!g):p||g?m=!1:m=r?f<=t:f<t;m?o=d+1:i=d}return xj(i,bj)}var Ej=4294967295,Cj=Ej>>>1;function bf(e,t,n){var r=0,o=e==null?r:e.length;if(typeof t=="number"&&t===t&&o<=Cj){for(;r<o;){var i=r+o>>>1,a=e[i];a!==null&&!rr(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return lm(e,t,Rn,n)}function Sj(e,t){return bf(e,t)}function Nj(e,t,n){return lm(e,t,nt(n))}function Oj(e,t){var n=e==null?0:e.length;if(n){var r=bf(e,t);if(r<n&&no(e[r],t))return r}return-1}function Aj(e,t){return bf(e,t,!0)}function Mj(e,t,n){return lm(e,t,nt(n),!0)}function Tj(e,t){var n=e==null?0:e.length;if(n){var r=bf(e,t,!0)-1;if(no(e[r],t))return r}return-1}function uC(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!no(s,l)){var l=s;i[o++]=a===0?0:a}}return i}function Pj(e){return e&&e.length?uC(e):[]}function Dj(e,t){return e&&e.length?uC(e,nt(t)):[]}var kj=4294967295;function Rj(e,t,n){return n&&typeof n!="number"&&On(e,t,n)&&(t=n=void 0),n=n===void 0?kj:n>>>0,n?(e=At(e),e&&(typeof t=="string"||t!=null&&!em(t))&&(t=or(t),!t&&Ms(e))?Ei(Qr(e),0,n):e.split(t,n)):[]}var Lj="Expected a function",$j=Math.max;function Bj(e,t){if(typeof e!="function")throw new TypeError(Lj);return t=t==null?0:$j(it(t),0),ct(function(n){var r=n[t],o=Ei(n,0,t);return r&&xi(o,r),ir(e,this,o)})}var Ij=Ts(function(e,t,n){return e+(n?" ":"")+Mg(t)});function jj(e,t,n){return e=At(e),n=n==null?0:ma(it(n),0,e.length),t=or(t),e.slice(n,n+t.length)==t}function Vj(){return{}}function zj(){return""}function Fj(){return!0}var Hj=Zd(function(e,t){return e-t},0);function Wj(e){return e&&e.length?nm(e,Rn):0}function Gj(e,t){return e&&e.length?nm(e,nt(t)):0}function Xj(e){var t=e==null?0:e.length;return t?Or(e,1,t):[]}function Uj(e,t,n){return e&&e.length?(t=n||t===void 0?1:it(t),Or(e,0,t<0?0:t)):[]}function Yj(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:it(t),t=r-t,Or(e,t<0?0:t,r)):[]}function Kj(e,t){return e&&e.length?hf(e,nt(t),!1,!0):[]}function qj(e,t){return e&&e.length?hf(e,nt(t)):[]}function Zj(e,t){return t(e),e}var cC=Object.prototype,Jj=cC.hasOwnProperty;function k0(e,t,n,r){return e===void 0||no(e,cC[n])&&!Jj.call(r,n)?t:e}var Qj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function eV(e){return"\\"+Qj[e]}var dC=/<%=([\s\S]+?)%>/g,tV=/<%-([\s\S]+?)%>/g,nV=/<%([\s\S]+?)%>/g,zp={escape:tV,evaluate:nV,interpolate:dC,variable:"",imports:{_:{escape:CE}}},rV="Invalid `variable` option passed into `_.template`",oV=/\b__p \+= '';/g,iV=/\b(__p \+=) '' \+/g,aV=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sV=/[()=,{}\[\]\/\s]/,lV=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ju=/($^)/,uV=/['\n\r\u2028\u2029\\]/g,cV=Object.prototype,R0=cV.hasOwnProperty;function dV(e,t,n){var r=zp.imports._.templateSettings||zp;n&&On(e,t,n)&&(t=void 0),e=At(e),t=Fc({},t,r,k0);var o=Fc({},t.imports,r.imports,k0),i=tn(o),a=qg(o,i),s,l,c=0,d=t.interpolate||ju,f="__p += '",h=RegExp((t.escape||ju).source+"|"+d.source+"|"+(d===dC?lV:ju).source+"|"+(t.evaluate||ju).source+"|$","g"),p=R0.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(h,function(m,y,_,C,x,S){return _||(_=C),f+=e.slice(c,S).replace(uV,eV),y&&(s=!0,f+=`' +
__e(`+y+`) +
'`),x&&(l=!0,f+=`';
`+x+`;
__p += '`),_&&(f+=`' +
((__t = (`+_+`)) == null ? '' : __t) +
'`),c=S+m.length,m}),f+=`';
`;var v=R0.call(t,"variable")&&t.variable;if(!v)f=`with (obj) {
`+f+`
}
`;else if(sV.test(v))throw new Error(rV);f=(l?f.replace(oV,""):f).replace(iV,"$1").replace(aV,"$1;"),f="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var g=wx(function(){return Function(i,p+"return "+f).apply(void 0,a)});if(g.source=f,Og(g))throw g;return g}var fV="Expected a function";function fC(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(fV);return zt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),df(e,t,{leading:r,maxWait:t,trailing:o})}function yu(e,t){return t(e)}var hV=9007199254740991,$h=4294967295,pV=Math.min;function vV(e,t){if(e=it(e),e<1||e>hV)return[];var n=$h,r=pV(e,$h);t=Oo(t),e-=$h;for(var o=xg(r,t);++n<e;)t(n);return o}function gV(){return this}function hC(e,t){var n=e;return n instanceof vt&&(n=n.value()),Tg(t,function(r,o){return o.func.apply(o.thisArg,xi([r],o.args))},n)}function Bh(){return hC(this.__wrapped__,this.__actions__)}function mV(e){return At(e).toLowerCase()}function yV(e){return Je(e)?Gt(e,So):rr(e)?[e]:zn(yx(At(e)))}var L0=9007199254740991;function _V(e){return e?ma(it(e),-L0,L0):e===0?e:0}function bV(e){return At(e).toUpperCase()}function wV(e,t,n){var r=Je(e),o=r||pi(e)||Os(e);if(t=nt(t),n==null){var i=e&&e.constructor;o?n=r?new i:[]:zt(e)?n=Fo(i)?Es(sf(e)):{}:n={}}return(o?Mr:No)(e,function(a,s,l){return t(n,a,s,l)}),n}function pC(e,t){for(var n=e.length;n--&&Cs(t,e[n],0)>-1;);return n}function vC(e,t){for(var n=-1,r=e.length;++n<r&&Cs(t,e[n],0)>-1;);return n}function xV(e,t,n){if(e=At(e),e&&(n||t===void 0))return ex(e);if(!e||!(t=or(t)))return e;var r=Qr(e),o=Qr(t),i=vC(r,o),a=pC(r,o)+1;return Ei(r,i,a).join("")}function EV(e,t,n){if(e=At(e),e&&(n||t===void 0))return e.slice(0,Qw(e)+1);if(!e||!(t=or(t)))return e;var r=Qr(e),o=pC(r,Qr(t))+1;return Ei(r,0,o).join("")}var CV=/^\s+/;function SV(e,t,n){if(e=At(e),e&&(n||t===void 0))return e.replace(CV,"");if(!e||!(t=or(t)))return e;var r=Qr(e),o=vC(r,Qr(t));return Ei(r,o).join("")}var NV=30,OV="...",AV=/\w*$/;function MV(e,t){var n=NV,r=OV;if(zt(t)){var o="separator"in t?t.separator:o;n="length"in t?it(t.length):n,r="omission"in t?or(t.omission):r}e=At(e);var i=e.length;if(Ms(e)){var a=Qr(e);i=a.length}if(n>=i)return e;var s=n-Ds(r);if(s<1)return r;var l=a?Ei(a,0,s).join(""):e.slice(0,s);if(o===void 0)return l+r;if(a&&(s+=l.length-s),em(o)){if(e.slice(s).search(o)){var c,d=l;for(o.global||(o=RegExp(o.source,At(AV.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var f=c.index;l=l.slice(0,f===void 0?s:f)}}else if(e.indexOf(or(o),s)!=s){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+r}function TV(e){return dx(e,1)}var PV={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},DV=Pg(PV),gC=/&(?:amp|lt|gt|quot|#39);/g,kV=RegExp(gC.source);function RV(e){return e=At(e),e&&kV.test(e)?e.replace(gC,DV):e}var LV=1/0,$V=Ua&&1/uf(new Ua([,-0]))[1]==LV?function(e){return new Ua(e)}:Ga,BV=200;function gi(e,t,n){var r=-1,o=ef,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=Xg;else if(i>=BV){var c=t?null:$V(e);if(c)return uf(c);a=!1,o=Xl,l=new oa}else l=t?[]:s;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else o(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var IV=ct(function(e){return gi(gn(e,1,Kt,!0))}),jV=ct(function(e){var t=Hn(e);return Kt(t)&&(t=void 0),gi(gn(e,1,Kt,!0),nt(t))}),VV=ct(function(e){var t=Hn(e);return t=typeof t=="function"?t:void 0,gi(gn(e,1,Kt,!0),void 0,t)});function zV(e){return e&&e.length?gi(e):[]}function FV(e,t){return e&&e.length?gi(e,nt(t)):[]}function HV(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?gi(e,void 0,t):[]}var WV=0;function GV(e){var t=++WV;return At(e)+t}function XV(e,t){return e==null?!0:rm(e,t)}var UV=Math.max;function um(e){if(!(e&&e.length))return[];var t=0;return e=Ci(e,function(n){if(Kt(n))return t=UV(n.length,t),!0}),xg(t,function(n){return Gt(e,Fg(n))})}function mC(e,t){if(!(e&&e.length))return[];var n=um(e);return t==null?n:Gt(n,function(r){return ir(t,void 0,r)})}function yC(e,t,n,r){return mu(e,t,n(ga(e,t)),r)}function YV(e,t,n){return e==null?e:yC(e,t,Oo(n))}function KV(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:yC(e,t,Oo(n),r)}var qV=Ts(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()});function ZV(e){return e==null?[]:qg(e,Gn(e))}var JV=ct(function(e,t){return Kt(e)?pu(e,t):[]});function QV(e,t){return yf(Oo(t),e)}var e9=Yo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(i){return Ng(i,e)};return t>1||this.__actions__.length||!(r instanceof vt)||!Ho(n)?this.thru(o):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:yu,args:[o],thisArg:void 0}),new Sr(r,this.__chain__).thru(function(i){return t&&!i.length&&i.push(void 0),i}))});function t9(){return Xx(this)}function n9(){var e=this.__wrapped__;if(e instanceof vt){var t=e;return this.__actions__.length&&(t=new vt(this)),t=t.reverse(),t.__actions__.push({func:yu,args:[Vp],thisArg:void 0}),new Sr(t,this.__chain__)}return this.thru(Vp)}function cm(e,t,n){var r=e.length;if(r<2)return r?gi(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var a=e[o],s=-1;++s<r;)s!=o&&(i[o]=pu(i[o]||a,e[s],t,n));return gi(gn(i,1),t,n)}var r9=ct(function(e){return cm(Ci(e,Kt))}),o9=ct(function(e){var t=Hn(e);return Kt(t)&&(t=void 0),cm(Ci(e,Kt),nt(t))}),i9=ct(function(e){var t=Hn(e);return t=typeof t=="function"?t:void 0,cm(Ci(e,Kt),void 0,t)}),a9=ct(um);function _C(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}function s9(e,t){return _C(e||[],t||[],cu)}function l9(e,t){return _C(e||[],t||[],mu)}var u9=ct(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=typeof n=="function"?(e.pop(),n):void 0,mC(e,n)});const De={chunk:rL,compact:B$,concat:I$,difference:H8,differenceBy:W8,differenceWith:G8,drop:U8,dropRight:Y8,dropRightWhile:K8,dropWhile:q8,fill:fB,findIndex:Yg,findLastIndex:PE,first:N0,flatten:_x,flattenDeep:CB,flattenDepth:SB,fromPairs:VB,head:N0,indexOf:RE,initial:i6,intersection:s6,intersectionBy:l6,intersectionWith:u6,join:Q6,last:Hn,lastIndexOf:iI,nth:TI,pull:N7,pullAll:tC,pullAllBy:O7,pullAllWith:A7,pullAt:P7,remove:Y7,reverse:Vp,slice:vj,sortedIndex:Sj,sortedIndexBy:Nj,sortedIndexOf:Oj,sortedLastIndex:Aj,sortedLastIndexBy:Mj,sortedLastIndexOf:Tj,sortedUniq:Pj,sortedUniqBy:Dj,tail:Xj,take:Uj,takeRight:Yj,takeRightWhile:Kj,takeWhile:qj,union:IV,unionBy:jV,unionWith:VV,uniq:zV,uniqBy:FV,uniqWith:HV,unzip:um,unzipWith:mC,without:JV,xor:r9,xorBy:o9,xorWith:i9,zip:a9,zipObject:s9,zipObjectDeep:l9,zipWith:u9},Dt={countBy:O8,each:qe,eachRight:C0,every:uB,filter:ll,find:vi,findLast:mB,flatMap:_B,flatMapDeep:wB,flatMapDepth:xB,forEach:qe,forEachRight:C0,groupBy:GB,includes:r6,invokeMap:y6,keyBy:tI,map:An,orderBy:zI,partition:b7,reduce:iC,reduceRight:X7,reject:U7,sample:oj,sampleSize:sj,shuffle:dj,size:pj,some:yj,sortBy:lC},c9={now:bc},Ut={after:V3,ary:dx,before:xx,bind:lf,bindKey:Ag,curry:Wg,curryRight:Gg,debounce:df,defer:V8,delay:z8,flip:OB,memoize:af,negate:gu,once:II,overArgs:GI,partial:yf,partialRight:im,rearg:W7,rest:J7,spread:Bj,throttle:fC,unary:TV,wrap:QV},He={castArray:Z5,clone:A$,cloneDeep:Ye,cloneDeepWith:k$,cloneWith:L$,conformsTo:x8,eq:no,gt:XB,gte:UB,isArguments:na,isArray:Je,isArrayBuffer:w6,isArrayLike:Wn,isArrayLikeObject:Kt,isBoolean:Wc,isBuffer:pi,isDate:S6,isElement:N6,isEmpty:Qg,isEqual:Gc,isEqualWith:P6,isError:Og,isFinite:k6,isFunction:Fo,isInteger:IE,isLength:nf,isMap:eE,isMatch:R6,isMatchWith:L6,isNaN:B6,isNative:V6,isNil:qi,isNull:z6,isNumber:jE,isObject:zt,isObjectLike:Xt,isPlainObject:fu,isRegExp:em,isSafeInteger:W6,isSet:tE,isString:gf,isSymbol:rr,isTypedArray:Os,isUndefined:ia,isWeakMap:X6,isWeakSet:Y6,lt:lI,lte:uI,toArray:HE,toFinite:Io,toInteger:it,toLength:OE,toNumber:br,toPlainObject:gE,toSafeInteger:_V,toString:At},Ln={add:P3,ceil:eL,divide:X8,floor:AB,max:vI,maxBy:gI,mean:yI,meanBy:_I,min:xI,minBy:EI,multiply:CI,round:nj,subtract:Hj,sum:Wj,sumBy:Gj},dm={clamp:oL,inRange:e6,random:B7},Qe={assign:wt,assignIn:t0,assignInWith:Fc,assignWith:K4,at:MR,create:A8,defaults:$8,defaultsDeep:I8,entries:bo,entriesIn:S0,extend:t0,extendWith:Fc,findKey:pB,findLastKey:yB,forIn:$B,forInRight:BB,forOwn:IB,forOwnRight:jB,functions:zB,functionsIn:FB,get:As,has:os,hasIn:zg,invert:h6,invertBy:g6,invoke:m6,keys:tn,keysIn:Gn,mapKeys:VE,mapValues:cI,merge:is,mergeWith:yE,omit:$I,omitBy:BI,pick:Gi,pickBy:XE,result:Q7,set:sC,setWith:lj,toPairs:bo,toPairsIn:S0,transform:wV,unset:XV,update:YV,updateWith:KV,values:Ps,valuesIn:ZV},Ao={at:e9,chain:Xx,commit:$$,lodash:N,next:MI,plant:x7,reverse:n9,tap:Zj,thru:yu,toIterator:gV,toJSON:Bh,value:Bh,valueOf:Bh,wrapperChain:t9},St={camelCase:q5,capitalize:Tx,deburr:Px,endsWith:J8,escape:CE,escapeRegExp:sB,kebabCase:eI,lowerCase:aI,lowerFirst:sI,pad:f7,padEnd:h7,padStart:p7,parseInt:m7,repeat:K7,replace:q7,snakeCase:gj,split:Rj,startCase:Ij,startsWith:jj,template:dV,templateSettings:zp,toLower:mV,toUpper:bV,trim:xV,trimEnd:EV,trimStart:SV,truncate:MV,unescape:RV,upperCase:qV,upperFirst:Mg,words:Gx},Mt={attempt:wx,bindAll:VR,cond:y8,conforms:w8,constant:bg,defaultTo:R8,flow:RB,flowRight:LB,identity:Rn,iteratee:q6,matches:fI,matchesProperty:pI,method:bI,methodOf:wI,mixin:FE,noop:Ga,nthArg:PI,over:FI,overEvery:XI,overSome:UI,property:dE,propertyOf:E7,range:z7,rangeRight:F7,stubArray:kg,stubFalse:Eg,stubObject:Vj,stubString:zj,stubTrue:Fj,times:vV,toPath:yV,uniqueId:GV};function d9(){var e=new vt(this.__wrapped__);return e.__actions__=zn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=zn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=zn(this.__views__),e}function f9(){if(this.__filtered__){var e=new vt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var h9=Math.max,p9=Math.min;function v9(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=p9(t,e+a);break;case"takeRight":e=h9(e,t-a);break}}return{start:e,end:t}}var g9=1,m9=2,y9=Math.min;function _9(){var e=this.__wrapped__.value(),t=this.__dir__,n=Je(e),r=t<0,o=n?e.length:0,i=v9(0,o,this.__views__),a=i.start,s=i.end,l=s-a,c=r?s:a-1,d=this.__iteratees__,f=d.length,h=0,p=y9(l,this.__takeCount__);if(!n||!r&&o==l&&p==l)return hC(e,this.__actions__);var v=[];e:for(;l--&&h<p;){c+=t;for(var g=-1,m=e[c];++g<f;){var y=d[g],_=y.iteratee,C=y.type,x=_(m);if(C==m9)m=x;else if(!x){if(C==g9)continue e;break e}}v[h++]=m}return v}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var b9="4.17.21",w9=2,x9=1,E9=3,bC=4294967295,C9=Array.prototype,S9=Object.prototype,wC=S9.hasOwnProperty,$0=En?En.iterator:void 0,N9=Math.max,B0=Math.min,fm=function(e){return function(t,n,r){if(r==null){var o=zt(n),i=o&&tn(n),a=i&&i.length&&pf(n,i);(a?a.length:o)||(r=n,n=t,t=this)}return e(t,n,r)}}(FE);N.after=Ut.after;N.ary=Ut.ary;N.assign=Qe.assign;N.assignIn=Qe.assignIn;N.assignInWith=Qe.assignInWith;N.assignWith=Qe.assignWith;N.at=Qe.at;N.before=Ut.before;N.bind=Ut.bind;N.bindAll=Mt.bindAll;N.bindKey=Ut.bindKey;N.castArray=He.castArray;N.chain=Ao.chain;N.chunk=De.chunk;N.compact=De.compact;N.concat=De.concat;N.cond=Mt.cond;N.conforms=Mt.conforms;N.constant=Mt.constant;N.countBy=Dt.countBy;N.create=Qe.create;N.curry=Ut.curry;N.curryRight=Ut.curryRight;N.debounce=Ut.debounce;N.defaults=Qe.defaults;N.defaultsDeep=Qe.defaultsDeep;N.defer=Ut.defer;N.delay=Ut.delay;N.difference=De.difference;N.differenceBy=De.differenceBy;N.differenceWith=De.differenceWith;N.drop=De.drop;N.dropRight=De.dropRight;N.dropRightWhile=De.dropRightWhile;N.dropWhile=De.dropWhile;N.fill=De.fill;N.filter=Dt.filter;N.flatMap=Dt.flatMap;N.flatMapDeep=Dt.flatMapDeep;N.flatMapDepth=Dt.flatMapDepth;N.flatten=De.flatten;N.flattenDeep=De.flattenDeep;N.flattenDepth=De.flattenDepth;N.flip=Ut.flip;N.flow=Mt.flow;N.flowRight=Mt.flowRight;N.fromPairs=De.fromPairs;N.functions=Qe.functions;N.functionsIn=Qe.functionsIn;N.groupBy=Dt.groupBy;N.initial=De.initial;N.intersection=De.intersection;N.intersectionBy=De.intersectionBy;N.intersectionWith=De.intersectionWith;N.invert=Qe.invert;N.invertBy=Qe.invertBy;N.invokeMap=Dt.invokeMap;N.iteratee=Mt.iteratee;N.keyBy=Dt.keyBy;N.keys=tn;N.keysIn=Qe.keysIn;N.map=Dt.map;N.mapKeys=Qe.mapKeys;N.mapValues=Qe.mapValues;N.matches=Mt.matches;N.matchesProperty=Mt.matchesProperty;N.memoize=Ut.memoize;N.merge=Qe.merge;N.mergeWith=Qe.mergeWith;N.method=Mt.method;N.methodOf=Mt.methodOf;N.mixin=fm;N.negate=gu;N.nthArg=Mt.nthArg;N.omit=Qe.omit;N.omitBy=Qe.omitBy;N.once=Ut.once;N.orderBy=Dt.orderBy;N.over=Mt.over;N.overArgs=Ut.overArgs;N.overEvery=Mt.overEvery;N.overSome=Mt.overSome;N.partial=Ut.partial;N.partialRight=Ut.partialRight;N.partition=Dt.partition;N.pick=Qe.pick;N.pickBy=Qe.pickBy;N.property=Mt.property;N.propertyOf=Mt.propertyOf;N.pull=De.pull;N.pullAll=De.pullAll;N.pullAllBy=De.pullAllBy;N.pullAllWith=De.pullAllWith;N.pullAt=De.pullAt;N.range=Mt.range;N.rangeRight=Mt.rangeRight;N.rearg=Ut.rearg;N.reject=Dt.reject;N.remove=De.remove;N.rest=Ut.rest;N.reverse=De.reverse;N.sampleSize=Dt.sampleSize;N.set=Qe.set;N.setWith=Qe.setWith;N.shuffle=Dt.shuffle;N.slice=De.slice;N.sortBy=Dt.sortBy;N.sortedUniq=De.sortedUniq;N.sortedUniqBy=De.sortedUniqBy;N.split=St.split;N.spread=Ut.spread;N.tail=De.tail;N.take=De.take;N.takeRight=De.takeRight;N.takeRightWhile=De.takeRightWhile;N.takeWhile=De.takeWhile;N.tap=Ao.tap;N.throttle=Ut.throttle;N.thru=yu;N.toArray=He.toArray;N.toPairs=Qe.toPairs;N.toPairsIn=Qe.toPairsIn;N.toPath=Mt.toPath;N.toPlainObject=He.toPlainObject;N.transform=Qe.transform;N.unary=Ut.unary;N.union=De.union;N.unionBy=De.unionBy;N.unionWith=De.unionWith;N.uniq=De.uniq;N.uniqBy=De.uniqBy;N.uniqWith=De.uniqWith;N.unset=Qe.unset;N.unzip=De.unzip;N.unzipWith=De.unzipWith;N.update=Qe.update;N.updateWith=Qe.updateWith;N.values=Qe.values;N.valuesIn=Qe.valuesIn;N.without=De.without;N.words=St.words;N.wrap=Ut.wrap;N.xor=De.xor;N.xorBy=De.xorBy;N.xorWith=De.xorWith;N.zip=De.zip;N.zipObject=De.zipObject;N.zipObjectDeep=De.zipObjectDeep;N.zipWith=De.zipWith;N.entries=Qe.toPairs;N.entriesIn=Qe.toPairsIn;N.extend=Qe.assignIn;N.extendWith=Qe.assignInWith;fm(N,N);N.add=Ln.add;N.attempt=Mt.attempt;N.camelCase=St.camelCase;N.capitalize=St.capitalize;N.ceil=Ln.ceil;N.clamp=dm.clamp;N.clone=He.clone;N.cloneDeep=He.cloneDeep;N.cloneDeepWith=He.cloneDeepWith;N.cloneWith=He.cloneWith;N.conformsTo=He.conformsTo;N.deburr=St.deburr;N.defaultTo=Mt.defaultTo;N.divide=Ln.divide;N.endsWith=St.endsWith;N.eq=He.eq;N.escape=St.escape;N.escapeRegExp=St.escapeRegExp;N.every=Dt.every;N.find=Dt.find;N.findIndex=De.findIndex;N.findKey=Qe.findKey;N.findLast=Dt.findLast;N.findLastIndex=De.findLastIndex;N.findLastKey=Qe.findLastKey;N.floor=Ln.floor;N.forEach=Dt.forEach;N.forEachRight=Dt.forEachRight;N.forIn=Qe.forIn;N.forInRight=Qe.forInRight;N.forOwn=Qe.forOwn;N.forOwnRight=Qe.forOwnRight;N.get=Qe.get;N.gt=He.gt;N.gte=He.gte;N.has=Qe.has;N.hasIn=Qe.hasIn;N.head=De.head;N.identity=Rn;N.includes=Dt.includes;N.indexOf=De.indexOf;N.inRange=dm.inRange;N.invoke=Qe.invoke;N.isArguments=He.isArguments;N.isArray=Je;N.isArrayBuffer=He.isArrayBuffer;N.isArrayLike=He.isArrayLike;N.isArrayLikeObject=He.isArrayLikeObject;N.isBoolean=He.isBoolean;N.isBuffer=He.isBuffer;N.isDate=He.isDate;N.isElement=He.isElement;N.isEmpty=He.isEmpty;N.isEqual=He.isEqual;N.isEqualWith=He.isEqualWith;N.isError=He.isError;N.isFinite=He.isFinite;N.isFunction=He.isFunction;N.isInteger=He.isInteger;N.isLength=He.isLength;N.isMap=He.isMap;N.isMatch=He.isMatch;N.isMatchWith=He.isMatchWith;N.isNaN=He.isNaN;N.isNative=He.isNative;N.isNil=He.isNil;N.isNull=He.isNull;N.isNumber=He.isNumber;N.isObject=zt;N.isObjectLike=He.isObjectLike;N.isPlainObject=He.isPlainObject;N.isRegExp=He.isRegExp;N.isSafeInteger=He.isSafeInteger;N.isSet=He.isSet;N.isString=He.isString;N.isSymbol=He.isSymbol;N.isTypedArray=He.isTypedArray;N.isUndefined=He.isUndefined;N.isWeakMap=He.isWeakMap;N.isWeakSet=He.isWeakSet;N.join=De.join;N.kebabCase=St.kebabCase;N.last=Hn;N.lastIndexOf=De.lastIndexOf;N.lowerCase=St.lowerCase;N.lowerFirst=St.lowerFirst;N.lt=He.lt;N.lte=He.lte;N.max=Ln.max;N.maxBy=Ln.maxBy;N.mean=Ln.mean;N.meanBy=Ln.meanBy;N.min=Ln.min;N.minBy=Ln.minBy;N.stubArray=Mt.stubArray;N.stubFalse=Mt.stubFalse;N.stubObject=Mt.stubObject;N.stubString=Mt.stubString;N.stubTrue=Mt.stubTrue;N.multiply=Ln.multiply;N.nth=De.nth;N.noop=Mt.noop;N.now=c9.now;N.pad=St.pad;N.padEnd=St.padEnd;N.padStart=St.padStart;N.parseInt=St.parseInt;N.random=dm.random;N.reduce=Dt.reduce;N.reduceRight=Dt.reduceRight;N.repeat=St.repeat;N.replace=St.replace;N.result=Qe.result;N.round=Ln.round;N.sample=Dt.sample;N.size=Dt.size;N.snakeCase=St.snakeCase;N.some=Dt.some;N.sortedIndex=De.sortedIndex;N.sortedIndexBy=De.sortedIndexBy;N.sortedIndexOf=De.sortedIndexOf;N.sortedLastIndex=De.sortedLastIndex;N.sortedLastIndexBy=De.sortedLastIndexBy;N.sortedLastIndexOf=De.sortedLastIndexOf;N.startCase=St.startCase;N.startsWith=St.startsWith;N.subtract=Ln.subtract;N.sum=Ln.sum;N.sumBy=Ln.sumBy;N.template=St.template;N.times=Mt.times;N.toFinite=He.toFinite;N.toInteger=it;N.toLength=He.toLength;N.toLower=St.toLower;N.toNumber=He.toNumber;N.toSafeInteger=He.toSafeInteger;N.toString=He.toString;N.toUpper=St.toUpper;N.trim=St.trim;N.trimEnd=St.trimEnd;N.trimStart=St.trimStart;N.truncate=St.truncate;N.unescape=St.unescape;N.uniqueId=Mt.uniqueId;N.upperCase=St.upperCase;N.upperFirst=St.upperFirst;N.each=Dt.forEach;N.eachRight=Dt.forEachRight;N.first=De.head;fm(N,function(){var e={};return No(N,function(t,n){wC.call(N.prototype,n)||(e[n]=t)}),e}(),{chain:!1});N.VERSION=b9;(N.templateSettings=St.templateSettings).imports._=N;Mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){N[e].placeholder=N});Mr(["drop","take"],function(e,t){vt.prototype[e]=function(n){n=n===void 0?1:N9(it(n),0);var r=this.__filtered__&&!t?new vt(this):this.clone();return r.__filtered__?r.__takeCount__=B0(n,r.__takeCount__):r.__views__.push({size:B0(n,bC),type:e+(r.__dir__<0?"Right":"")}),r},vt.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}});Mr(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==x9||n==E9;vt.prototype[e]=function(o){var i=this.clone();return i.__iteratees__.push({iteratee:nt(o),type:n}),i.__filtered__=i.__filtered__||r,i}});Mr(["head","last"],function(e,t){var n="take"+(t?"Right":"");vt.prototype[e]=function(){return this[n](1).value()[0]}});Mr(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");vt.prototype[e]=function(){return this.__filtered__?new vt(this):this[n](1)}});vt.prototype.compact=function(){return this.filter(Rn)};vt.prototype.find=function(e){return this.filter(e).head()};vt.prototype.findLast=function(e){return this.reverse().find(e)};vt.prototype.invokeMap=ct(function(e,t){return typeof e=="function"?new vt(this):this.map(function(n){return vu(n,e,t)})});vt.prototype.reject=function(e){return this.filter(gu(nt(e)))};vt.prototype.slice=function(e,t){e=it(e);var n=this;return n.__filtered__&&(e>0||t<0)?new vt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==void 0&&(t=it(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)};vt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};vt.prototype.toArray=function(){return this.take(bC)};No(vt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=N[r?"take"+(t=="last"?"Right":""):t],i=r||/^find/.test(t);o&&(N.prototype[t]=function(){var a=this.__wrapped__,s=r?[1]:arguments,l=a instanceof vt,c=s[0],d=l||Je(a),f=function(y){var _=o.apply(N,xi([y],s));return r&&h?_[0]:_};d&&n&&typeof c=="function"&&c.length!=1&&(l=d=!1);var h=this.__chain__,p=!!this.__actions__.length,v=i&&!h,g=l&&!p;if(!i&&d){a=g?a:new vt(this);var m=e.apply(a,s);return m.__actions__.push({func:yu,args:[f],thisArg:void 0}),new Sr(m,h)}return v&&g?e.apply(this,s):(m=this.thru(f),v?r?m.value()[0]:m.value():m)})});Mr(["pop","push","shift","sort","splice","unshift"],function(e){var t=C9[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);N.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Je(i)?i:[],o)}return this[n](function(a){return t.apply(Je(a)?a:[],o)})}});No(vt.prototype,function(e,t){var n=N[t];if(n){var r=n.name+"";wC.call(Xa,r)||(Xa[r]=[]),Xa[r].push({name:t,func:n})}});Xa[tf(void 0,w9).name]=[{name:"wrapper",func:void 0}];vt.prototype.clone=d9;vt.prototype.reverse=f9;vt.prototype.value=_9;N.prototype.at=Ao.at;N.prototype.chain=Ao.wrapperChain;N.prototype.commit=Ao.commit;N.prototype.next=Ao.next;N.prototype.plant=Ao.plant;N.prototype.reverse=Ao.reverse;N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=Ao.value;N.prototype.first=N.prototype.head;$0&&(N.prototype[$0]=Ao.toIterator);var O9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Ul;(function(e){function t(n){var r=O9(n,[]),o=n.container;if(!o)throw new Error("Ensure the container of LogicFlow is specified and valid.");return wt({},e.defaults,r)}e.get=t})(Ul||(Ul={}));(function(e){e.defaults={background:!1,grid:!1,textEdit:!0,snapline:!0,outline:!1,disabledTools:[]}})(Ul||(Ul={}));var I0={node:!1,edge:!1},A9={node:!0,edge:!0},M9=function(e){return!e||typeof e=="boolean"?Ye(e===!0?A9:I0):is(Ye(I0),e)},T9=function(){return As(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null};function wn(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}}var Vu=200,P9=9999,D9=10,gt;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(gt||(gt={}));var Wt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Wt||(Wt={}));var ot;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.CUSTOM_HTML_NODE="custom-html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(ot||(ot={}));var Pe;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_ADD="node:add",e.NODE_DELETE="node:delete",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_GROUP_COPY="node:group-copy-add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.NODE_ROTATE="node:rotate",e.NODE_RESIZE="node:resize",e.NODE_FOCUS="node:focus",e.NODE_BLUR="node:blur",e.NODE_PROPERTIES_CHANGE="node:properties-change",e.NODE_PROPERTIES_DELETE="node:properties-delete",e.EDGE_ADD="edge:add",e.EDGE_DELETE="edge:delete",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_FOCUS="edge:focus",e.EDGE_BLUR="edge:blur",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.TEXT_MOUSEDOWN="text:mousedown",e.TEXT_DRAGSTART="text:dragstart",e.TEXT_DRAG="text:drag",e.TEXT_DROP="text:drop",e.TEXT_CLICK="text:click",e.TEXT_DBCLICK="text:dbclick",e.TEXT_BLUR="text:blur",e.TEXT_MOUSEMOVE="text:mousemove",e.TEXT_MOUSEUP="text:mouseup",e.TEXT_FOCUS="text:focus",e.TEXT_ADD="text:add",e.TEXT_UPDATE="text:update",e.TEXT_CLEAR="text:clear",e.LABEL_MOUSEDOWN="label:mousedown",e.LABEL_DRAGSTART="label:dragstart",e.LABEL_DRAG="label:drag",e.LABEL_DROP="label:drop",e.LABEL_CLICK="label:click",e.LABEL_DBCLICK="label:dbclick",e.LABEL_BLUR="label:blur",e.LABEL_MOUSEMOVE="label:mousemove",e.LABEL_MOUSEUP="label:mouseup",e.LABEL_FOCUS="label:focus",e.LABEL_ADD="label:add",e.LABEL_UPDATE="label:update",e.LABEL_CLEAR="label:clear",e.LABEL_DELETE="label:delete",e.LABEL_SHOULD_ADD="label:should-add",e.LABEL_BATCH_ADD="label:batch-add",e.LABEL_SHOULD_UPDATE="label:should-update",e.LABEL_SHOULD_DELETE="label:should-delete",e.LABEL_BATCH_DELETE="label:batch-delete",e.LABEL_NOT_ALLOWED_ADD="label:not-allowed-add",e.HISTORY_CHANGE="history:change",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered",e.GRAPH_UPDATED="graph:updated"})(Pe||(Pe={}));var Vr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(Vr||(Vr={}));var Rt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Rt||(Rt={}));var xr;(function(e){e.TEXT="text",e.LABEL="label"})(xr||(xr={}));var k9=0,Tr=function(){function e(t){var n=t.onDragStart,r=n===void 0?Ga:n,o=t.onDragging,i=o===void 0?Ga:o,a=t.onDragEnd,s=a===void 0?Ga:a,l=t.eventType,c=l===void 0?"":l,d=t.eventCenter,f=t.step,h=f===void 0?1:f,p=t.isStopPropagation,v=p===void 0?!0:p,g=t.model,m=t.data,y=this;this.isDragging=!1,this.isStartDragging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.handleMouseDown=function(_){var C,x,S=window==null?void 0:window.document;if(_.button===k9){y.isStopPropagation&&_.stopPropagation(),y.isStartDragging=!0,y.startX=_.clientX,y.startY=_.clientY,S.addEventListener("mousemove",y.handleMouseMove,!1),S.addEventListener("mouseup",y.handleMouseUp,!1);var b=(C=y.model)===null||C===void 0?void 0:C.getData();(x=y.eventCenter)===null||x===void 0||x.emit(Pe["".concat(y.eventType,"_MOUSEDOWN")],{e:_,data:y.data||b}),y.startTime=new Date().getTime()}},this.handleMouseMove=function(_){var C,x;if(y.isStopPropagation&&_.stopPropagation(),!!y.isStartDragging&&(y.sumDeltaX+=_.clientX-y.startX,y.sumDeltaY+=_.clientY-y.startY,y.startX=_.clientX,y.startY=_.clientY,y.step<=1||Math.abs(y.sumDeltaX)>y.step||Math.abs(y.sumDeltaY)>y.step)){var S=y.sumDeltaX%y.step,b=y.sumDeltaY%y.step,w=y.sumDeltaX-S,T=y.sumDeltaY-b;y.sumDeltaX=S,y.sumDeltaY=b;var k=(C=y.model)===null||C===void 0?void 0:C.getData();y.isDragging||((x=y.eventCenter)===null||x===void 0||x.emit(Pe["".concat(y.eventType,"_DRAGSTART")],{e:_,data:y.data||k}),y.onDragStart({event:_})),y.isDragging=!0,Promise.resolve().then(function(){var I,X;y.onDragging({deltaX:w,deltaY:T,event:_}),(I=y.eventCenter)===null||I===void 0||I.emit(Pe["".concat(y.eventType,"_MOUSEMOVE")],{deltaX:w,deltaY:T,e:_,data:y.data||k}),(X=y.eventCenter)===null||X===void 0||X.emit(Pe["".concat(y.eventType,"_DRAG")],{e:_,data:y.data||k})})}},this.handleMouseUp=function(_){var C=window.document;y.isStartDragging=!1,y.isStopPropagation&&_.stopPropagation(),Promise.resolve().then(function(){var x,S,b;C.removeEventListener("mousemove",y.handleMouseMove,!1),C.removeEventListener("mouseup",y.handleMouseUp,!1);var w=(x=y.model)===null||x===void 0?void 0:x.getData();(S=y.eventCenter)===null||S===void 0||S.emit(Pe["".concat(y.eventType,"_MOUSEUP")],{e:_,data:y.data||w}),y.isDragging&&(y.isDragging=!1,y.onDragEnd({event:_}),(b=y.eventCenter)===null||b===void 0||b.emit(Pe["".concat(y.eventType,"_DROP")],{e:_,data:y.data||w}))})},this.cancelDrag=function(){var _=window==null?void 0:window.document;_.removeEventListener("mousemove",y.handleMouseMove,!1),_.removeEventListener("mouseup",y.handleMouseUp,!1),y.onDragEnd({event:void 0}),y.isDragging=!1},this.destroy=function(){y.isStartDragging&&y.cancelDrag()},this.onDragStart=r,this.onDragging=i,this.onDragEnd=s,this.step=h,this.isStopPropagation=v,this.eventType=c,this.eventCenter=d,this.model=g,this.data=m}return e.prototype.setStep=function(t){this.step=t},e.prototype.setModel=function(t){this.model=t},e}(),R9=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{x:t-r/2,y:n-o/2,x1:t+r/2,y1:n+o/2}},L9=function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}},$9=function(e){var t=e.points,n=aa(t),r=ql(n,8),o=r.x,i=r.y,a=r.width,s=r.height;return{x:o-a/2,y:i-s/2,x1:o+a/2,y1:i+s/2}},B9=function(e){var t=e.path,n=hm(t),r=ql(n,8),o=r.x,i=r.y,a=r.width,s=r.height;return{x:o-a/2,y:i-s/2,x1:o+a/2,y1:i+s/2}},I9=function(e){if(e.modelType===ot.LINE_EDGE)return L9(e);if(e.modelType===ot.POLYLINE_EDGE)return $9(e);if(e.modelType===ot.BEZIER_EDGE)return B9(e)},j9=function(e,t,n,r){var o=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(o===0)return!1;var i=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/o,a=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0?{x:i,y:a}:!1},Yl=function(e,t,n){var r=e.x,o=e.y,i=t.x,a=t.y,s=n.x,l=n.y,c=(l-a)/(s-i),d=a-c*i;return(r>=i&&r<=s||r<=i&&r>=s)&&(o>=a&&o<=l||o<=a&&o>=l)&&Math.abs(o-c*r-d)<Number.EPSILON},Kl=function(e){var t=e.start,n=e.end,r=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-t.y)/(n.x-t.x)),l=Math.atan(r/o),c=Math.sqrt(o*o+r*r);return i==="start"?n.x>=t.x?(a.leftX=t.x+c*Math.sin(s+l),a.leftY=t.y-c*Math.cos(s+l),a.rightX=t.x-c*Math.sin(s-l),a.rightY=t.y+c*Math.cos(s-l)):(a.leftX=t.x-c*Math.sin(s+l),a.leftY=t.y+c*Math.cos(s+l),a.rightX=t.x+c*Math.sin(s-l),a.rightY=t.y-c*Math.cos(s-l)):i==="end"&&(n.x>=t.x?(a.leftX=n.x+c*Math.sin(s-l),a.leftY=n.y-c*Math.cos(s-l),a.rightX=n.x-c*Math.sin(s+l),a.rightY=n.y+c*Math.cos(s+l)):(a.leftX=n.x-c*Math.sin(s-l),a.leftY=n.y+c*Math.cos(s-l),a.rightX=n.x+c*Math.sin(s+l),a.rightY=n.y-c*Math.cos(s+l))),a},Ia=function(){return Ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ia.apply(this,arguments)},gr=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},oi=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},V9=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},Fp=function(e){var t=[],n={};return e.forEach(function(r){var o="".concat(r.x,"-").concat(r.y);r.id=o,n[o]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},Uc=function(e,t){return e.width===0&&e.height===0?e:{x:e.x,y:e.y,centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},z9=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?Rt.HORIZONTAL:Rt.VERTICAL},Yc=function(e,t,n){var r=z9(n,t);return r===Rt.HORIZONTAL?{x:n.x>e.centerX?e.maxX:e.minX,y:n.y}:{x:n.x,y:n.y>e.centerY?e.maxY:e.minY}},j0=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{x:(n+o)/2,y:(r+i)/2,centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},ql=function(e,t){e===void 0&&(e=[]);var n=[],r=[];e.forEach(function(d){n.push(d.x),r.push(d.y)});var o=Math.min.apply(Math,oi([],gr(n),!1)),i=Math.max.apply(Math,oi([],gr(n),!1)),a=Math.min.apply(Math,oi([],gr(r),!1)),s=Math.max.apply(Math,oi([],gr(r),!1)),l=i-o,c=s-a;return t&&(l+=t,c+=t),{centerX:(o+i)/2,centerY:(a+s)/2,maxX:i,maxY:s,minX:o,minY:a,x:(o+i)/2,y:(a+s)/2,height:c,width:l}},Kc=function(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:o},{x:t,y:o}]},zu=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},F9=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},H9=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},W9=function(e,t){return oi(oi([],gr(F9(e,t.x)),!1),gr(H9(e,t.y)),!1)},Hp=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},G9=function(e,t){var n=-2,r=0;return t.forEach(function(o){o&&(e.x===o.x&&(r+=n),e.y===o.y&&(r+=n))}),r},V0=function(e,t,n,r,o){return Hp(e,t)+Hp(e,n)+G9(e,[t,n,r,o])},xC=function(e,t,n,r,o){o||(o=0),e.unshift(t[r]),n[r]&&n[r]!==r&&o<=100&&xC(e,t,n,n[r],o+1)},X9=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},ul=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=r.x-n.x,s=r.y-n.y,l=(-i*(e.x-n.x)+o*(e.y-n.y))/(-a*i+o*s),c=(a*(e.y-n.y)-s*(e.x-n.x))/(-a*i+o*s);return l>=0&&l<=1&&c>=0&&c<=1},z0=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=gr(Kc(n),4),o=r[0],i=r[1],a=r[2],s=r[3];return ul(e,t,o,i)||ul(e,t,o,s)||ul(e,t,i,a)||ul(e,t,a,s)},U9=function(e,t,n,r){var o=[];return e.forEach(function(i){i!==t&&(i.x===t.x||i.y===t.y)&&!z0(i,t,n)&&!z0(i,t,r)&&o.push(i)}),Fp(o)},Y9=function(e,t,n,r,o,i,a){var s=[],l=[t],c={},d={},f={};t.id&&(d[t.id]=0,f[t.id]=V0(t,n,t));var h={};e.forEach(function(g){g.id&&(h[g.id]=g)});for(var p=function(){var g,m=1/0;if(l.forEach(function(_){_.id&&f[_.id]<m&&(m=f[_.id],g=_)}),g===n&&n.id){var y=[];return xC(y,h,c,n.id),{value:y}}if(!g)return{value:[t,n]};X9(l,g),s.push(g),U9(e,g,r,o).forEach(function(_){if(s.indexOf(_)===-1&&(l.indexOf(_)===-1&&l.push(_),g!=null&&g.id&&(_!=null&&_.id))){var C=f[g.id]+Hp(g,_);if(d[_.id]&&C>=d[_.id])return;c[_.id]=g.id,d[_.id]=C,f[_.id]=d[_.id]+V0(_,n,t,i,a)}})};l.length;){var v=p();if(typeof v=="object")return v.value}return[t,n]},F0=function(e){return Vn(e)},EC=function(e){for(var t=1;t<e.length-1;){var n=e[t-1],r=e[t],o=e[t+1];n.x===r.x&&r.x===o.x||n.y===r.y&&r.y===o.y?e.splice(t,1):t++}return e},H0=function(e,t,n,r,o){var i=F0(n),a=F0(r),s=Uc(i,o),l=Uc(a,o),c=Yc(s,i,e),d=Yc(l,a,t);if(V9(s,l)){var f=q9(e,t,c,d);return oi(oi([e,c],gr(f),!1),[d,t],!1)}var h=ql([c,d]),p=j0(s,h),v=j0(l,h),g=[];g=g.concat(Kc(p)),g=g.concat(Kc(v));var m={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[h,p,v].forEach(function(_){g=g.concat(W9(_,m).filter(function(C){return zu(C,s)&&zu(C,l)}))}),[{x:c.x,y:d.y},{x:d.x,y:c.y}].forEach(function(_){zu(_,s)&&zu(_,l)&&g.push(_)}),g.unshift(c),g.push(d),g=Fp(g);var y=Y9(g,c,d,i,a,e,t);return y.unshift(e),y.push(t),y.length>2&&(y=EC(y)),Fp(y)},K9=function(e){if(e.length===1){var t=gr(e,1),n=t[0];return[n,n]}else{for(var r=e[0],o=e[1],i=zr(r.x,r.y,o.x,o.y),a=1;a<e.length-1;a++){var s=e[a],l=e[a+1],c=zr(s.x,s.y,l.x,l.y);c>i&&(i=c,r=s,o=l)}return[r,o]}},W0=function(e,t,n){var r=ii(e,n),o=ii(t,n);return r&&o},G0=function(e,t,n){var r=ii(e,n),o=ii(t,n),i=r&&o,a=r||o;return!i&&a},X0=function(e,t,n){for(var r=void 0,o=Vn(n),i=Kc(o),a=0;a<i.length;a++){var s=ul(e,t,i[a],i[(a+1)%i.length]);s&&(r=[i[a],i[(a+1)%i.length]])}if(r)return j9(e,t,r[0],r[1])},qc=function(e,t){var n=void 0;return e.x===t.x?n=Rt.VERTICAL:e.y===t.y&&(n=Rt.HORIZONTAL),n},aa=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var o=gr(r.split(","),2),i=o[0],a=o[1];n.push({x:Number(i),y:Number(a)})}),n},q9=function(e,t,n,r){var o=[],i=qc(e,n),a=qc(t,r);if(i===a)e.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var s={x:n.x,y:r.y},l=Yl(s,e,n),c=Yl(s,t,r);if(l||c)s={x:r.x,y:n.y};else{var d=U0(s,e,n),f=U0(s,t,r);d&&f&&(s={x:r.x,y:n.y})}o.push(s)}return o},U0=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},CC=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:r>=1&&r<=126||r>=65376&&r<=65439?t+=1:t+=2}return t},Z9=function(e){var t=e.start,n=e.end,r;if(t.x===n.x&&t.y===n.y)r="";else{var o={start:t,end:n,offset:10,verticalLength:5},i=Kl(Ia(Ia({},o),{type:"start"})),a=Kl(Ia(Ia({},o),{type:"end"}));r="M".concat(i.leftX," ").concat(i.leftY,`
    L`).concat(i.rightX," ").concat(i.rightY,`
    L`).concat(a.rightX," ").concat(a.rightY,`
    L`).concat(a.leftX," ").concat(a.leftY," z")}return{d:r,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Y0=function(e){var t=e.start,n=e.end,r=e.sourceNode,o=e.targetNode,i=e.offset,a=Vn(r),s=Vn(o),l=Uc(a,i),c=Uc(s,i),d=Yc(l,a,t),f=Yc(c,s,n);return{sNext:d,ePre:f}},hm=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(","),n=Fu(t[0]),r=Fu(t[1]),o=Fu(t[2]),i=Fu(t[3]);return[n,r,o,i]},Fu=function(e){var t=gr(e.replace(/(^\s*)/g,"").split(" "),2),n=t[0],r=t[1];return{x:+n,y:+r}},K0=function(e,t){var n=gr(e,4),r=n[0],o=n[1],i=n[2],a=n[3],s=jz(r,o,i,a,t);return[s,e[3]]},SC=function(e,t){for(var n=e.x,r=e.y,o=aa(t),i=Number.MAX_SAFE_INTEGER,a,s=[],l=0;l<o.length;l++)s.push({start:o[l],end:o[(l+1)%o.length]});if(s.forEach(function(h){var p=h.start,v=h.end;if(p.x===v.x){var g={x:p.x,y:r},m=Yl(g,p,v);if(m){var y=Math.abs(p.x-n);y<i&&(i=y,a=g)}}else if(p.y===v.y){var g={x:n,y:p.y},m=Yl(g,p,v);if(m){var y=Math.abs(p.y-r);y<i&&(i=y,a=g)}}}),!a){var c=s[0],d=c.start,f=c.end;a={x:d.x+(f.x-d.x)/2,y:d.y+(f.y-d.y)/2}}return a},J9=function(e){return Gi(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},q0=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};function Q9(e,t){return typeof t!="function"?function(n,r,o){return Object.assign({type:e.edgeType},o)}:function(n,r,o){var i=t(n,r,o);return i?typeof i=="string"?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:e.edgeType}}}var ez=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,o=0;return qe(t,function(i){var a=CC(i);o=a>o?a:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Aa=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Hu=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function as(e,t){return t*Math.round(e/t)||e}function tz(e,t,n){if(!e)return[];var r=Math.min.apply(Math,Hu([],Aa(e.map(function(g){return g[0]})),!1)),o=Math.max.apply(Math,Hu([],Aa(e.map(function(g){return g[0]})),!1)),i=Math.min.apply(Math,Hu([],Aa(e.map(function(g){return g[1]})),!1)),a=Math.max.apply(Math,Hu([],Aa(e.map(function(g){return g[1]})),!1)),s=-r,l=-i,c=e.map(function(g){var m=Aa(g,2),y=m[0],_=m[1];return[y+s,_+l]}),d=o-r,f=a-i,h=t?t/d:1,p=n?n/f:1,v=Math.min(h,p);return c.map(function(g){var m=Aa(g,2),y=m[0],_=m[1];return[y*v,_*v]})}var Ih=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},jh=function(e,t,n){var r=Ih(e,2),o=r[0],i=r[1],a=Ih(t,2),s=a[0],l=a[1],c=Ih(n,2),d=c[0],f=c[1];return o>s&&o<d&&i>l&&i<f},NC=function(e,t){var n=t.multipleSelectKey,r=!1;switch(n){case"meta":r=e.metaKey;break;case"alt":r=e.altKey;break;case"shift":r=e.shiftKey;break;case"ctrl":r=e.ctrlKey;break;default:r=!1;break}return r},pm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function Z0(e,t){return e instanceof fn&&t instanceof fn}var OC=function(e){pm(t,e);function t(n,r,o){var i=e.call(this,3)||this;return i[0]=n,i[1]=r,i[2]=o,i.x=n,i.y=r,i.z=o,Object.setPrototypeOf(i,t.prototype),i}return t.prototype.add=function(n){if(Z0(this,n))return new fn(this.x+n.x,this.y+n.y);var r=this.z+n.z;return new Wp((this.x+n.x)/r,(this.y+n.y)/r)},t.prototype.subtract=function(n){if(Z0(this,n))return new fn(this.x-n.x,this.y-n.y);var r=this.z-n.z;return r===0?new fn(this.x-n.x,this.y-n.y):new Wp((this.x-n.x)/r,(this.y-n.y)/r)},t}(Array),fn=function(e){pm(t,e);function t(n,r,o){var i=e.call(this,n,r,o??0)||this;return Object.setPrototypeOf(i,t.prototype),i}return t.prototype.toString=function(){return"Vector"},t.prototype.dot=function(n){var r=this;return n.reduce(function(o,i,a){return o+i*r[a]})},t.prototype.cross=function(n){return new t(this.y*n.z-this.z*n.y,this.z*n.x-this.x*n.z,this.x*n.y-this.y*n.x)},t.prototype.getLength=function(){return Math.hypot(this.x,this.y)},t.prototype.normalize=function(){var n=this.getLength();return new t(this.x/n,this.y/n)},t.prototype.crossZ=function(n){return this.x*n.y-this.y*n.x},t.prototype.angle=function(n){var r=this.crossZ(n),o=Math.acos(this.normalize().dot(n.normalize()));return r>=0?o:-o},t}(OC),Wp=function(e){pm(t,e);function t(n,r){var o=e.call(this,n,r,1)||this;return Object.setPrototypeOf(o,t.prototype),o}return t.prototype.toString=function(){return"Point"},t}(OC),wf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ma=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Vh=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},xf=function(e){wf(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.call(this,n.length)||this;return o.fill(new Array(3)),n.forEach(function(i,a){o[a]=i}),o.columns=n[0].length,o.rows=n.length,Object.setPrototypeOf(o,t.prototype),o}return t.prototype.getRow=function(n){return this[n]},t.prototype.getColumn=function(n){return Vh([],Ma(this.map(function(r){return r[n]})),!1)},t.prototype.transpose=function(){for(var n=[],r=0;r<this.columns;r++)n.push(this.getColumn(r));return new(t.bind.apply(t,Vh([void 0],Ma(n),!1)))},t.prototype.cross=function(n){var r=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===n.rows)for(var o=0;o<this.rows;o++)for(var i=this.getRow(o),a=function(l){var c=n.getColumn(l);r[o][l]=i.reduce(function(d,f,h){return d+f*c[h]},0)},s=0;s<n.columns;s++)a(s);return new(t.bind.apply(t,Vh([void 0],Ma(r),!1)))},t.prototype.to2D=function(){return this.map(function(n){return[n[0],n[1]]})},t.prototype.toPoints=function(){return this.map(function(n){return new Wp(n[0],n[1])})},t.prototype.toString=function(){var n=Ma(this[0],2),r=n[0],o=n[1],i=Ma(this[1],2),a=i[0],s=i[1],l=Ma(this[2],2),c=l[0],d=l[1];return"matrix(".concat(r," ").concat(o," ").concat(a," ").concat(s," ").concat(c," ").concat(d,")")},t.prototype.translate=function(n,r){return this.cross(new Ef(n,r))},t.prototype.rotate=function(n){return this.cross(new nz(n))},t.prototype.scale=function(n,r){return this.cross(new rz(n,r))},t}(Array),nz=function(e){wf(t,e);function t(n){var r=e.call(this,new fn(+Math.cos(n).toFixed(2),+Math.sin(n).toFixed(2),0),new fn(-Math.sin(n).toFixed(2),+Math.cos(n).toFixed(2),0),new fn(0,0,1))||this;return Object.setPrototypeOf(r,t.prototype),r}return t.prototype.inverse=function(){return this.transpose()},t}(xf),rz=function(e){wf(t,e);function t(n,r){var o=e.call(this,new fn(n,0,0),new fn(0,r,0),new fn(0,0,1))||this;return o.sx=n,o.sy=r,Object.setPrototypeOf(o,t.prototype),o}return t.prototype.inverse=function(){return new t(1/this.sx,1/this.sy)},t}(xf),Ef=function(e){wf(t,e);function t(n,r){var o=e.call(this,new fn(1,0,0),new fn(0,1,0),new fn(n,r,1))||this;return o.tx=n,o.ty=r,Object.setPrototypeOf(o,t.prototype),o}return t.prototype.inverse=function(){return new t(-this.tx,-this.ty)},t}(xf);AD({isolateGlobalState:!0});var Zc=function(){return Zc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Zc.apply(this,arguments)},Gp=function(e){var t=e.anchors;return t},Jc=function(e,t){for(var n=t.nodes,r,o=n.length-1;o>=0;o--){var i=n[o],a=az(e,i);if(a){var s=i.getTargetAnchor(e);if(s){var l={node:i,anchorIndex:s.index,anchor:s.anchor};(!r||oz(i,r.node,t))&&(r=l)}}}return r},oz=function(e,t,n){return e.zIndex>t.zIndex?!0:n.nodesMap[e.id].index>n.nodesMap[t.id].index},iz=function(e,t){for(var n=Gp(t),r,o=Number.MAX_SAFE_INTEGER,i=0;i<n.length;i++){var a=zr(e.x,e.y,n[i].x,n[i].y);a<o&&(o=a,r={index:i,anchor:Zc(Zc({},n[i]),{x:n[i].x,y:n[i].y,id:n[i].id})})}return r},zr=function(e,t,n,r){return Math.hypot(e-n,t-r)},ii=function(e,t){var n=!1,r=0,o=Vn(t);return e.x>=o.minX-r&&e.x<=o.maxX+r&&e.y>=o.minY-r&&e.y<=o.maxY+r&&(n=!0),n},az=function(e,t){var n=!1,r=5,o=Vn(t);return e.x>=o.minX-r&&e.x<=o.maxX+r&&e.y>=o.minY-r&&e.y<=o.maxY+r&&(n=!0),n},Vn=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n}},sz=function(e){var t=e,n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]},J0=function(e,t,n){var r=sz(n),o,i=Number.MAX_SAFE_INTEGER;return r.forEach(function(a){var s=zr(e.x,e.y,a.x,a.y);s<i&&(i=s,o=a)}),Xp(e,t,o)},Xp=function(e,t,n){var r,o=n.x,i=n.y,a=n.r;if(t===Rt.HORIZONTAL){var s=o-Math.sqrt(a*a-(e.y-i)*(e.y-i)),l=o+Math.sqrt(a*a-(e.y-i)*(e.y-i)),c=Math.abs(s-e.x)<Math.abs(l-e.x)?s:l;r={x:c,y:e.y}}else if(t===Rt.VERTICAL){var d=i-Math.sqrt(a*a-(e.x-o)*(e.x-o)),f=i+Math.sqrt(a*a-(e.x-o)*(e.x-o)),h=Math.abs(d-e.y)<Math.abs(f-e.y)?d:f;r={x:e.x,y:h}}return r},Q0=function(e,t){var n=t,r=!1,o=n.x,i=n.y,a=n.width,s=n.height,l=n.radius,c={minX:o-a/2+l,maxX:o+a/2-l,minY:i-s/2+l,maxY:i+s/2-l};return e.y===i+s/2||e.y===i-s/2?r=e.x>c.minX&&e.x<c.maxX:(e.x===o+a/2||e.x===o-a/2)&&(r=e.y>c.minY&&e.y<c.maxY),r},eb=function(e,t,n){var r,o=n,i=o.x,a=o.y,s=o.rx,l=o.ry;if(t===Rt.HORIZONTAL){var c=i-Math.sqrt(s*s-(e.y-a)*(e.y-a)*s*s/(l*l)),d=i+Math.sqrt(s*s-(e.y-a)*(e.y-a)*s*s/(l*l)),f=Math.abs(c-e.x)<Math.abs(d-e.x)?c:d;r={x:f,y:e.y}}else if(t===Rt.VERTICAL){var h=a-Math.sqrt(l*l-(e.x-i)*(e.x-i)*l*l/(s*s)),p=a+Math.sqrt(l*l-(e.x-i)*(e.x-i)*l*l/(s*s)),v=Math.abs(h-e.y)<Math.abs(p-e.y)?h:p;r={x:e.x,y:v}}return r},Wu=function(e,t,n){for(var r=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,i,a=[],s=0;s<r.length;s++)a.push({start:r[s],end:r[(s+1)%r.length]});return a.forEach(function(l){var c=l.start,d=l.end,f=c,h=d;c.x>d.x&&(f=d,h=c);var p={x:e.x,y:e.y};if(f.x===h.x&&t===Rt.HORIZONTAL&&(p={x:f.x,y:e.y}),f.y===h.y&&t===Rt.VERTICAL&&(p={x:e.x,y:f.y}),f.x!==h.x&&f.y!==h.y){var v=(h.y-f.y)/(h.x-f.x),g=(f.x*h.y-h.x*f.y)/(f.x-h.x);t===Rt.HORIZONTAL?p={x:(e.y-g)/v,y:e.y}:t===Rt.VERTICAL&&(p={x:e.x,y:v*e.x+g})}var m=Yl(p,c,d);if(m){var y=zr(p.x,p.y,e.x,e.y);y<o&&(o=y,i=p)}}),i},lz=function(e){var t=Gi(e,["id","type","x","y","text","label","properties","virtual","rotate","resizable","rotatable"]);return t},tb=function(e,t,n,r){var o=e.x,i=e.y;return t.x>e.x?o=e.x+n/2:t.x<e.x&&(o=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:o,y:i}},AC=function(e){var t=e.rows,n=e.style,r=e.rowsLength,o=e.className,i=document.createElement("div");i.className=o,i.style.fontSize="".concat(n.fontSize),i.style.width="".concat(n.width),i.style.lineHeight="".concat(n.lineHeight),i.style.padding="".concat(n.padding),n.fontFamily&&(i.style.fontFamily="".concat(n.fontFamily)),r>1?t.forEach(function(s){var l=document.createElement("div");l.textContent=s,i.appendChild(l)}):i.textContent=t[0],document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},nb=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,o=0;return t&&t.forEach(function(i){var a=CC(i);o=a>o?a:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},ss=function(e){return typeof e!="object"?{isAllPass:!!e,msg:e?"":"不允许连接"}:e};let Gu;const uz=new Uint8Array(16);function cz(){if(!Gu&&(Gu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Gu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gu(uz)}const sn=[];for(let e=0;e<256;++e)sn.push((e+256).toString(16).slice(1));function dz(e,t=0){return sn[e[t+0]]+sn[e[t+1]]+sn[e[t+2]]+sn[e[t+3]]+"-"+sn[e[t+4]]+sn[e[t+5]]+"-"+sn[e[t+6]]+sn[e[t+7]]+"-"+sn[e[t+8]]+sn[e[t+9]]+"-"+sn[e[t+10]]+sn[e[t+11]]+sn[e[t+12]]+sn[e[t+13]]+sn[e[t+14]]+sn[e[t+15]]}const fz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rb={randomUUID:fz};function hz(e,t,n){if(rb.randomUUID&&!t&&!e)return rb.randomUUID();e=e||{};const r=e.random||(e.rng||cz)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dz(r)}var ui=function(){return hz()},yl=new Map,MC=function(e){var t=ui();function n(){e();var o=yl.get(t);if(o){var i=window.requestAnimationFrame(n);yl.set(t,i)}}var r=window.requestAnimationFrame(n);return yl.set(t,r),t},Qc=function(e){var t=yl.get(e);t&&(window.cancelAnimationFrame(t),yl.delete(e))},Zl=function(){return Zl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Zl.apply(this,arguments)},pz=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function TC(e){var t=e.x,n=t===void 0?0:t,r=e.y,o=r===void 0?0:r,i=e.value,a=e.fontSize,s=a===void 0?12:a,l=e.fill,c=l===void 0?"currentColor":l,d=e.overflowMode,f=d===void 0?"default":d,h=e.textWidth,p=h===void 0?void 0:h,v=e.model,g={x:n,y:o,fill:c,fontSize:s,textAnchor:"middle",dominantBaseline:"central"};if(qe(bo(e),function(S){var b=pz(S,2),w=b[0],T=b[1];typeof T!="object"&&(g[w]=T)}),i){var m=String(i).split(/[\r\n]/g),y=m.length;if(f!=="default"){var _=v.BaseType,C=v.modelType;if(_===Wt.NODE&&C!==ot.TEXT_NODE||_===Wt.EDGE&&p)return vz(e)}if(y>1){var x=m.map(function(S,b){var w=s+2,T=(b-(y-1)/2)*w;return K("tspan",{className:"lf-text-tspan",x:n,y:o+T,children:S})});return K("text",Zl({},g,{children:x}))}return K("text",Zl({},g,{children:i}))}return null}function vz(e){var t=e.x,n=e.y,r=e.value,o=e.model,i=e.textWidth,a=e.fontSize,s=a===void 0?12:a,l=e.lineHeight,c=e.fontFamily,d=c===void 0?"":c,f=e.wrapPadding,h=f===void 0?"0, 0":f,p=e.overflowMode,v=o.width,g=o.height,m=o.textHeight,y=i||v,_=String(r).split(/[\r\n]/g),C=_.length,x=AC({rows:_,style:{fontSize:"".concat(s,"px"),width:"".concat(y,"px"),fontFamily:d,lineHeight:l,padding:h},rowsLength:C,className:"lf-get-text-height"}),S=g>x?g:x;m&&(S=m);var b=p==="ellipsis";return b&&(S=s+2),K("g",{children:K("foreignObject",{width:y,height:S,x:t-y/2,y:n-S/2,style:{overflow:"visible",textAlign:"left"},children:K("div",{className:"lf-node-text-auto-wrap",style:{minHeight:S,width:y,padding:h},children:K("div",{className:b?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:b?_.join(""):"",style:Zl({},e),children:_.map(function(w){return K("div",{className:"lf-node-text--auto-wrap-inner",children:w})})})})})})}var Up=function(){return Up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Up.apply(this,arguments)},gz=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function ls(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return qe(bo(e),function(n){var r=gz(n,2),o=r[0],i=r[1];(o==="style"||typeof i!="object")&&(t[o]=i)}),K("line",Up({},t))}var Yp=function(){return Yp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yp.apply(this,arguments)},mz=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function mr(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.className,a=e.strokeWidth,s=e.radius,l=s===void 0?0:s,c=t-r/2,d=n-o/2,f={};return f["stroke-width"]=a,qe(bo(e),function(h){var p=mz(h,2),v=p[0],g=p[1];typeof g!="object"&&(f[v]=g)}),i?f.className="lf-basic-shape ".concat(i):f.className="lf-basic-shape",l&&(f.rx=l,f.ry=l),f.x=c,f.y=d,K("rect",Yp({},f))}var Kp=function(){return Kp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Kp.apply(this,arguments)},yz=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function Jl(e){var t={d:""};return qe(bo(e),function(n){var r=yz(n,2),o=r[0],i=r[1];(o==="style"||typeof i!="object")&&(t[o]=i)}),K("path",Kp({},t))}var qp=function(){return qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},qp.apply(this,arguments)},_z=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function us(e){var t=e.x,n=t===void 0?0:t,r=e.y,o=r===void 0?0:r,i=e.r,a=i===void 0?4:i,s=e.className,l={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return qe(bo(e),function(c){var d=_z(c,2),f=d[0],h=d[1];typeof h!="object"&&(l[f]=h)}),s?l.className="lf-basic-shape ".concat(s):l.className="lf-basic-shape",K("circle",qp({},l))}var Zp=function(){return Zp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Zp.apply(this,arguments)},bz=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function wz(e){var t=e.x,n=t===void 0?0:t,r=e.y,o=r===void 0?0:r,i=e.rx,a=i===void 0?4:i,s=e.ry,l=s===void 0?4:s,c=e.className,d={cx:n,cy:o,rx:a,ry:l,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return qe(bo(e),function(f){var h=bz(f,2),p=h[0],v=h[1];typeof v!="object"&&(d[p]=v)}),c?d.className="lf-basic-shape ".concat(c):d.className="lf-basic-shape",K("ellipse",Zp({},d))}var Jp=function(){return Jp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jp.apply(this,arguments)},xz=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function vm(e){var t=e.points,n=t===void 0?[]:t,r=e.className,o={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return qe(bo(e),function(i){var a=xz(i,2),s=a[0],l=a[1];typeof l!="object"&&(o[s]=l)}),r?o.classNmae="lf-basic-shape ".concat(r):o.className="lf-basic-shape",o.points=n.map(function(i){return i.join(",")}).join(" "),K("polygon",Jp({},o))}var Qp=function(){return Qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qp.apply(this,arguments)},Ez=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function Cz(e){var t=e.className,n={points:"",fill:"none"};return qe(bo(e),function(r){var o=Ez(r,2),i=o[0],a=o[1];(i==="style"||typeof a!="object")&&(n[i]=a)}),t&&(n.className="".concat(t)),K("polyline",Qp({},n))}var PC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql=function(){return Ql=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ql.apply(this,arguments)},Sz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Nz=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Ot;(function(e){e[e.LEFT_TOP=0]="LEFT_TOP",e[e.RIGHT_TOP=1]="RIGHT_TOP",e[e.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",e[e.LEFT_BOTTOM=3]="LEFT_BOTTOM"})(Ot||(Ot={}));var Oz=function(e){PC(t,e);function t(n){var r=e.call(this)||this;r.updateEdgePointByAnchors=function(){var s=r.nodeModel,l=s.id,c=s.anchors,d=r.graphModel.getNodeEdges(l);qe(d,function(f){if(f.sourceNodeId===l){var h=vi(c,function(p){return p.id===f.sourceAnchorId});h&&f.updateStartPoint({x:h.x,y:h.y})}else if(f.targetNodeId===l){var h=vi(c,function(v){return v.id===f.targetAnchorId});h&&f.updateEndPoint({x:h.x,y:h.y})}})},r.triggerResizeEvent=function(s,l,c,d,f,h){r.graphModel.eventCenter.emit(Pe.NODE_RESIZE,{preData:s,data:l,deltaX:c,deltaY:d,index:f,model:h})},r.recalcResizeInfo=function(s,l,c,d,f){c===void 0&&(c=1),d===void 0&&(d=!1),f===void 0&&(f=!1);var h=Ye(l),p=h.deltaX,v=h.deltaY,g=h.width,m=h.height,y=h.PCTResizeInfo;if(y){var _=4,C=0,x=0;switch(s){case Ot.LEFT_TOP:x=(p*-1-v)/_;break;case Ot.RIGHT_TOP:x=(p-v)/_;break;case Ot.RIGHT_BOTTOM:x=(p+v)/_;break;case Ot.LEFT_BOTTOM:x=(p*-1+v)/_;break}x!==0&&(C=Math.round(x/y.ResizeBasis.basisHeight*1e5)/1e3),y.ResizePCT.widthPCT=Math.max(Math.min(y.ResizePCT.widthPCT+C,y.ScaleLimit.maxScaleLimit),y.ScaleLimit.minScaleLimit),y.ResizePCT.heightPCT=Math.max(Math.min(y.ResizePCT.heightPCT+C,y.ScaleLimit.maxScaleLimit),y.ScaleLimit.minScaleLimit);var S=Math.round(y.ResizePCT.widthPCT*y.ResizeBasis.basisWidth/100),b=Math.round(y.ResizePCT.heightPCT*y.ResizeBasis.basisHeight/100);switch(s){case Ot.LEFT_TOP:p=g-S,v=m-b;break;case Ot.RIGHT_TOP:p=S-g,v=m-b;break;case Ot.RIGHT_BOTTOM:p=S-g,v=b-m;break;case Ot.LEFT_BOTTOM:p=g-S,v=b-m;break}return h}switch(s){case Ot.LEFT_TOP:h.width=d?g:g-p*c,h.height=f?m:m-v*c;break;case Ot.RIGHT_TOP:h.width=d?g:g+p*c,h.height=f?m:m-v*c;break;case Ot.RIGHT_BOTTOM:h.width=d?g:g+p*c,h.height=f?m:m+v*c;break;case Ot.LEFT_BOTTOM:h.width=d?g:g-p*c,h.height=f?m:m+v*c;break}return h},r.resizeNode=function(s){var l=s.deltaX,c=s.deltaY,d=r.index,f=r.props,h=f.model,p=f.graphModel,v=f.x,g=f.y;DC({x:v,y:g,deltaX:l,deltaY:c,index:d,nodeModel:h,graphModel:p,cancelCallback:function(){r.dragHandler.cancelDrag()}})},r.onDragging=function(s){var l=s.deltaX,c=s.deltaY,d=r.graphModel.transformModel,f=Nz(d.fixDeltaXY(l,c),2),h=f[0],p=f[1];r.resizeNode({deltaX:h,deltaY:p})},r.onDragEnd=function(){var s=r.nodeModel.x,l=r.nodeModel.y;r.nodeModel.moveTo(s,l),r.updateEdgePointByAnchors()};var o=n.index,i=n.model,a=n.graphModel;return r.index=o,r.nodeModel=i,r.graphModel=a,r.dragHandler=new Tr({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:a.gridSize}),r}return t.prototype.componentWillUnmount=function(){this.dragHandler.destroy()},t.prototype.render=function(){var n=this.props,r=n.x,o=n.y,i=n.direction,a=n.model,s=a.getResizeControlStyle(),l=s.width,c=s.height,d=Sz(s,["width","height"]);return K("g",{className:"lf-resize-control lf-resize-control-".concat(i),children:[K(mr,Ql({className:"lf-resize-control-content",x:r,y:o,width:l??7,height:c??7},d)),K(mr,{className:"lf-resize-control-content",x:r,y:o,width:25,height:25,fill:"transparent",stroke:"transparent",onMouseDown:this.dragHandler.handleMouseDown})]})},t}(ut),Az=function(e){PC(t,e);function t(){return e.call(this)||this}return t.prototype.getResizeControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=Vn(r),a=i.minX,s=i.minY,l=i.maxX,c=i.maxY,d=[{index:Ot.LEFT_TOP,direction:"nw",x:a,y:s},{index:Ot.RIGHT_TOP,direction:"ne",x:l,y:s},{index:Ot.RIGHT_BOTTOM,direction:"se",x:l,y:c},{index:Ot.LEFT_BOTTOM,direction:"sw",x:a,y:c}];return An(d,function(f){return K(Oz,Ql({},f,{model:r,graphModel:o}))})},t.prototype.getResizeOutline=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getResizeOutlineStyle();return K(mr,Ql({},s,{x:r,y:o,width:i,height:a}))},t.prototype.render=function(){return K("g",{className:"lf-resize-control-group",children:[this.getResizeOutline(),this.getResizeControl()]})},t}(ut);function Mz(e,t){var n=e.x,r=e.y,o=t.x,i=t.y,a={x:n+(o-n)/2,y:r+(i-r)/2};return a}function cl(e,t,n){var r=Tz(n),o=e.x-t.x,i=e.y-t.y,a=o*Math.cos(r)-i*Math.sin(r)+t.x,s=o*Math.sin(r)+i*Math.cos(r)+t.y;return{x:a,y:s}}function Tz(e){return e*Math.PI/180}function Pz(e){return e/Math.PI*180}function Dz(e,t,n,r,o,i,a,s,l){s===void 0&&(s=!1),l===void 0&&(l=!1);var c=t.deltaX,d=t.deltaY,f=t.width,h=t.height,p=Pz(n),v={x:r,y:o},g={x:i,y:a},m=cl(v,g,p),y={x:m.x+c,y:m.y+d},_=$z(m,y,g,p,s,l,f,h),C=_.width,x=_.height,S=_.center;return t.width=C*e,t.height=x*e,t.deltaX=(S.x-g.x)*2,t.deltaY=(S.y-g.y)*2,t}var kz=function(e,t,n,r,o,i,a,s,l,c){n===void 0&&(n=1),r===void 0&&(r=!1),o===void 0&&(o=!1),i===void 0&&(i=0);var d=Ye(t),f=d.deltaX,h=d.deltaY,p=d.width,v=d.height,g=d.PCTResizeInfo;if(g){var m=4,y=0,_=0;switch(e){case Ot.LEFT_TOP:_=(f*-1-h)/m;break;case Ot.RIGHT_TOP:_=(f-h)/m;break;case Ot.RIGHT_BOTTOM:_=(f+h)/m;break;case Ot.LEFT_BOTTOM:_=(f*-1+h)/m;break}_!==0&&(y=Math.round(_/g.ResizeBasis.basisHeight*1e5)/1e3),g.ResizePCT.widthPCT=Math.max(Math.min(g.ResizePCT.widthPCT+y,g.ScaleLimit.maxScaleLimit),g.ScaleLimit.minScaleLimit),g.ResizePCT.heightPCT=Math.max(Math.min(g.ResizePCT.heightPCT+y,g.ScaleLimit.maxScaleLimit),g.ScaleLimit.minScaleLimit);var C=Math.round(g.ResizePCT.widthPCT*g.ResizeBasis.basisWidth/100),x=Math.round(g.ResizePCT.heightPCT*g.ResizeBasis.basisHeight/100);switch(e){case Ot.LEFT_TOP:f=p-C,h=v-x;break;case Ot.RIGHT_TOP:f=C-p,h=v-x;break;case Ot.RIGHT_BOTTOM:f=C-p,h=x-v;break;case Ot.LEFT_BOTTOM:f=p-C,h=x-v;break}return d}if(i%(2*Math.PI)!==0&&a!==void 0&&s!==void 0)return Dz(n,d,i,a,s,l,c,r,o);switch(e){case Ot.LEFT_TOP:d.width=r?p:p-f*n,d.height=o?v:v-h*n;break;case Ot.RIGHT_TOP:d.width=r?p:p+f*n,d.height=o?v:v-h*n;break;case Ot.RIGHT_BOTTOM:d.width=r?p:p+f*n,d.height=o?v:v+h*n;break;case Ot.LEFT_BOTTOM:d.width=r?p:p-f*n,d.height=o?v:v+h*n;break}return d},Rz=function(e,t){var n=e.id,r=e.anchors,o=t.getNodeEdges(n);qe(o,function(i){if(i.sourceNodeId===n){var a=vi(r,function(s){return s.id===i.sourceAnchorId});a&&i.updateStartPoint({x:a.x,y:a.y})}else if(i.targetNodeId===n){var a=vi(r,function(l){return l.id===i.targetAnchorId});a&&i.updateEndPoint({x:a.x,y:a.y})}})},Lz=function(e,t,n,r,o,i,a){a.eventCenter.emit(Pe.NODE_RESIZE,{preData:e,data:t,deltaX:n,deltaY:r,index:o,model:i})},DC=function(e){var t=e.x,n=e.y,r=e.deltaX,o=e.deltaY,i=e.index,a=e.nodeModel,s=e.graphModel,l=e.cancelCallback,c=a.r,d=a.rx,f=a.ry,h=a.width,p=a.height,v=a.PCTResizeInfo,g=a.minWidth,m=a.minHeight,y=a.maxWidth,_=a.maxHeight,C=a.rotate,x=a.x,S=a.y,b=g===y,w=m===_,T={width:c||d||h,height:c||f||p,deltaX:r,deltaY:o,PCTResizeInfo:v},k=c||d&&f?1/2:1,I=t,X=n,te=kz(i,T,k,b,w,C,I,X,x,S);if(te.width<g||te.width>y||te.height<m||te.height>_){l==null||l();return}(C%(2*Math.PI)==0||v||I===void 0||X===void 0)&&(te.deltaX=b?0:te.deltaX,te.deltaY=w?0:te.deltaY);var E=a.getData(),P=a.resize(te);E.x===P.x&&E.y===P.y||(Rz(a,s),Lz(E,P,r,o,i,a,s))};function $z(e,t,n,r,o,i,a,s){o===void 0&&(o=!1),i===void 0&&(i=!1);var l={x:n.x-(e.x-n.x),y:n.y-(e.y-n.y)},c=Mz(l,t),d=cl(t,c,-r),f=cl(l,c,-r);if(o){var h=Math.abs(d.x-f.x),p=h-a;c.x>d.x?c.x=c.x+p/2:c.x=c.x-p/2}if(i){var v=Math.abs(d.y-f.y),g=v-s;c.y>d.y?c.y=c.y+g/2:c.y=c.y-g/2}if(o||i){var m=cl(f,c,r),y=m.x-l.x,_=m.y-l.y;c.x=c.x-y,c.y=c.y-_,f=cl(l,c,-r),d={x:c.x-(f.x-c.x),y:c.y-(f.y-c.y)}}var C=Math.abs(d.x-f.x),x=Math.abs(d.y-f.y);return o&&(C=a),i&&(x=s),{width:C,height:x,center:c}}var Bz=100,Iz={x:1,y:0,z:0};function jz(e,t,n,r,o){for(var i=function(p){if(p<0||p>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:e.x*Math.pow(1-p,3)+3*t.x*p*Math.pow(1-p,2)+3*n.x*Math.pow(p,2)*(1-p)+r.x*Math.pow(p,3),y:e.y*Math.pow(1-p,3)+3*t.y*p*Math.pow(1-p,2)+3*n.y*Math.pow(p,2)*(1-p)+r.y*Math.pow(p,3)}},a=0,s=2,l=r.x,c=r.y,d=r;a<o&&s<50;){d=i(1-s/Bz);var f=d.x,h=d.y;a=zr(l,c,f,h),s++}return d}function Vz(e,t){return e.x*t.y-e.y*t.x}function zz(e,t){var n=[e.x,e.y,e.z],r=[t.x,t.y,t.z];return r.reduce(function(o,i,a){return o+i*n[a]})}function Fz(e,t){var n=Vz(e,t),r=Math.acos(zz(ob(e),ob(t)));return n>=0?r:-r}function ob(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t,z:0}}function Hz(e){return Fz(Iz,e)}function Wz(e){return e*(180/Math.PI)}var Gz={baseNode:{fill:"#fff",stroke:"#000",strokeWidth:2},baseEdge:{stroke:"#000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000",fill:"#fff",r:4,hover:{r:10,fill:"#949494",fillOpacity:.5,stroke:"#949494"}},anchorLine:{stroke:"#000",strokeWidth:2,strokeDasharray:"3,2"},nodeText:{color:"#000",overflowMode:"default",fontSize:12,lineHeight:1.2},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#fff"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",fillOpacity:1,stroke:"#949494"}},arrow:{offset:10,verticalLength:5},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#fff",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10,10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5},resizeControl:{width:7,height:7,fill:"#fff",stroke:"#000"},resizeOutline:{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},kC=function(e){var t=Ye(Gz);return e&&(t=is(t,e)),t},Xz=kC,Uz=1e3,Yz=999,gm=function(){return++Uz},Kz=function(){return--Yz},Yt=function(){return Yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yt.apply(this,arguments)},je=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Cf=function(){function e(t,n){var r;this.BaseType=Wt.EDGE,this.id="",this.type="",this.sourceNodeId="",this.targetNodeId="",this.textMode=xr.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this.points="",this.pointsList=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.isAnimation=!1,this.isShowAdjustPoint=!1,this.zIndex=0,this.state=gt.DEFAULT,this.modelType=ot.EDGE,this.customTextPosition=!1,this.style={},this.arrowConfig={markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")},this.graphModel=n,this.properties=(r=t.properties)!==null&&r!==void 0?r:{},this.initEdgeData(t),this.setAttributes()}return e.prototype.initEdgeData=function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,r=n&&n(t.type),o=this.createId();t.id=o||r||ui()}this.arrowConfig.markerEnd="url(#marker-end-".concat(t.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(t.id,")");var i=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=i,wt(this,J9(t));var a=this.graphModel.overlapMode;a===Vr.INCREASE&&(this.zIndex=t.zIndex||gm()),this.setAnchors(),this.initPoints(),this.formatText(t)},e.prototype.setAttributes=function(){},e.prototype.createId=function(){return null},e.prototype.getEdgeStyle=function(){return Yt(Yt({},this.graphModel.theme.baseEdge),this.style)},e.prototype.getAdjustPointStyle=function(){return Yt({},this.graphModel.theme.edgeAdjust)},e.prototype.getTextStyle=function(){var t=this.graphModel.theme.edgeText;return Ye(t)},e.prototype.getEdgeAnimationStyle=function(){var t=this.graphModel.theme.edgeAnimation;return Ye(t)},e.prototype.getArrowStyle=function(){var t=this.getEdgeStyle(),n=this.getEdgeAnimationStyle(),r=this.graphModel.theme.arrow,o=this.isAnimation?n.stroke:t.stroke;return Yt(Yt(Yt({},t),{fill:o,stroke:o}),r)},e.prototype.getOutlineStyle=function(){var t=this.graphModel,n=t.theme.outline;return Ye(n)},e.prototype.getTextPosition=function(){return{x:0,y:0}},Object.defineProperty(e.prototype,"sourceNode",{get:function(){var t,n;return(n=(t=this.graphModel)===null||t===void 0?void 0:t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetNode",{get:function(){var t,n;return(n=(t=this.graphModel)===null||t===void 0?void 0:t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textPosition",{get:function(){return this.getTextPosition()},enumerable:!1,configurable:!0}),e.prototype.getBeginAnchor=function(t,n,r){var o,i,a=Gp(t);if(r){if(o=vi(a,function(s){return s.id===r}),o)return o;console.warn("未在节点上找到指定的起点锚点".concat(r,"，已使用默认锚点作为起点"))}return a.forEach(function(s){var l=q0(s,n);(i===void 0||l<i)&&(i=l,o=s)}),o},e.prototype.getEndAnchor=function(t,n){var r=this,o,i,a=Gp(t);if(n){if(o=vi(a,function(s){return s.id===n}),o)return o;console.warn("未在节点上找到指定的终点锚点".concat(n,"，已使用默认锚点作为终点"))}return a.forEach(function(s){if(r.startPoint){var l=q0(s,r.startPoint);(i===void 0||l<i)&&(i=l,o=s)}}),o},e.prototype.getProperties=function(){return $r(this.properties)},e.prototype.getData=function(){var t=this.properties;di(t)&&(t=$r(t));var n={id:this.id,type:this.type,properties:t,sourceNodeId:this.sourceNodeId,targetNodeId:this.targetNodeId,startPoint:wt({},this.startPoint),endPoint:wt({},this.endPoint)};this.graphModel.overlapMode===Vr.INCREASE&&(n.zIndex=this.zIndex);var r=this.text,o=r.x,i=r.y,a=r.value;return a&&(n.text={x:o,y:i,value:a}),n},e.prototype.getHistoryData=function(){return this.getData()},e.prototype.setProperty=function(t,n){pg(this.properties,t,wn(n)),this.setAttributes()},e.prototype.deleteProperty=function(t){delete this.properties[t],this.setAttributes()},e.prototype.setProperties=function(t){this.properties=Yt(Yt({},$r(this.properties)),wn(t)),this.setAttributes()},e.prototype.changeEdgeId=function(t){var n=this.arrowConfig,r=n.markerEnd,o=n.markerStart;o&&o==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),r&&r==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t},e.prototype.setStyle=function(t,n){var r;this.style=Yt(Yt({},this.style),(r={},r[t]=wn(n),r))},e.prototype.setStyles=function(t){this.style=Yt(Yt({},this.style),wn(t))},e.prototype.updateStyles=function(t){this.style=Yt({},wn(t))},e.prototype.setTextMode=function(t){this.textMode=t},e.prototype.formatText=function(t){var n,r,o,i=this.textPosition,a=i.x,s=i.y,l=t.text,c={value:"",x:a,y:s,draggable:!1,editable:!0};l&&(typeof l=="string"?c=Yt(Yt({},c),{value:l}):(c=Yt(Yt({},c),{x:(n=l.x)!==null&&n!==void 0?n:a,y:(r=l.y)!==null&&r!==void 0?r:s,value:(o=l.value)!==null&&o!==void 0?o:""}),ia(l.draggable)||(c.draggable=l.draggable),ia(l.editable)||(c.editable=l.editable))),this.text=c},e.prototype.resetTextPosition=function(){var t=this.textPosition,n=t.x,r=t.y;this.text.x=n,this.text.y=r},e.prototype.moveText=function(t,n){var r=this.text,o=r.x,i=r.y,a=r.value,s=r.draggable,l=r.editable;this.text={value:a,editable:l,draggable:s,x:o+t,y:i+n}},e.prototype.setText=function(t){t&&wt(this.text,t)},e.prototype.updateText=function(t){this.text=Yt(Yt({},$r(this.text)),{value:t})},e.prototype.setAnchors=function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!t)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var t=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!t)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:t.x,y:t.y}),this.targetAnchorId||(this.targetAnchorId=t.id)}},e.prototype.setSelected=function(t){t===void 0&&(t=!0),this.isSelected=t},e.prototype.setHovered=function(t){t===void 0&&(t=!0),this.isHovered=t},e.prototype.setHitable=function(t){t===void 0&&(t=!0),this.isHitable=t},e.prototype.setHittable=function(t){t===void 0&&(t=!0),this.isHittable=t},e.prototype.openEdgeAnimation=function(){this.isAnimation=!0},e.prototype.closeEdgeAnimation=function(){this.isAnimation=!1},e.prototype.setElementState=function(t,n){this.state=t,this.additionStateData=n},e.prototype.updateStartPoint=function(t){this.startPoint=t},e.prototype.moveStartPoint=function(t,n){this.startPoint&&(this.startPoint.x+=t,this.startPoint.y+=n)},e.prototype.updateEndPoint=function(t){this.endPoint=t},e.prototype.moveEndPoint=function(t,n){this.endPoint&&(this.endPoint.x+=t,this.endPoint.y+=n)},e.prototype.setZIndex=function(t){t===void 0&&(t=0),this.zIndex=t},e.prototype.initPoints=function(){},e.prototype.updateAttributes=function(t){wt(this,t)},e.prototype.getAdjustStart=function(){return this.startPoint},e.prototype.getAdjustEnd=function(){return this.endPoint},e.prototype.updateAfterAdjustStartAndEnd=function(t){var n=t.startPoint,r=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:r.x,y:r.y})},e.BaseType=Wt.EDGE,je([ee],e.prototype,"type",void 0),je([ee],e.prototype,"sourceNodeId",void 0),je([ee],e.prototype,"targetNodeId",void 0),je([ee],e.prototype,"startPoint",void 0),je([ee],e.prototype,"endPoint",void 0),je([ee],e.prototype,"textMode",void 0),je([ee],e.prototype,"text",void 0),je([ee],e.prototype,"properties",void 0),je([ee],e.prototype,"points",void 0),je([ee],e.prototype,"pointsList",void 0),je([ee],e.prototype,"isSelected",void 0),je([ee],e.prototype,"isHovered",void 0),je([ee],e.prototype,"isHitable",void 0),je([ee],e.prototype,"isHittable",void 0),je([ee],e.prototype,"draggable",void 0),je([ee],e.prototype,"visible",void 0),je([ee],e.prototype,"isAnimation",void 0),je([ee],e.prototype,"isShowAdjustPoint",void 0),je([ee],e.prototype,"zIndex",void 0),je([ee],e.prototype,"state",void 0),je([ee],e.prototype,"style",void 0),je([ee],e.prototype,"arrowConfig",void 0),je([Pt],e.prototype,"sourceNode",null),je([Pt],e.prototype,"targetNode",null),je([Pt],e.prototype,"textPosition",null),je([Z],e.prototype,"setProperty",null),je([Z],e.prototype,"deleteProperty",null),je([Z],e.prototype,"setProperties",null),je([Z],e.prototype,"changeEdgeId",null),je([Z],e.prototype,"setStyle",null),je([Z],e.prototype,"setStyles",null),je([Z],e.prototype,"updateStyles",null),je([Z],e.prototype,"setTextMode",null),je([Z],e.prototype,"formatText",null),je([Z],e.prototype,"resetTextPosition",null),je([Z],e.prototype,"moveText",null),je([Z],e.prototype,"setText",null),je([Z],e.prototype,"updateText",null),je([Z],e.prototype,"setAnchors",null),je([Z],e.prototype,"setSelected",null),je([Z],e.prototype,"setHovered",null),je([Z],e.prototype,"setHitable",null),je([Z],e.prototype,"setHittable",null),je([Z],e.prototype,"openEdgeAnimation",null),je([Z],e.prototype,"closeEdgeAnimation",null),je([Z],e.prototype,"setElementState",null),je([Z],e.prototype,"updateStartPoint",null),je([Z],e.prototype,"moveStartPoint",null),je([Z],e.prototype,"updateEndPoint",null),je([Z],e.prototype,"moveEndPoint",null),je([Z],e.prototype,"setZIndex",null),je([Z],e.prototype,"initPoints",null),je([Z],e.prototype,"updateAttributes",null),je([Z],e.prototype,"getAdjustStart",null),je([Z],e.prototype,"getAdjustEnd",null),je([Z],e.prototype,"updateAfterAdjustStartAndEnd",null),e}(),qz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ji=function(){return ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ji.apply(this,arguments)},Dr=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},zh=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},ev=function(e){qz(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.modelType=ot.BEZIER_EDGE,o.path="",o.initEdgeData(n),o.setAttributes(),o}return t.prototype.initEdgeData=function(n){this.offset=100,e.prototype.initEdgeData.call(this,n)},t.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.bezier,r=e.prototype.getEdgeStyle.call(this),o=this.properties.style,i=o===void 0?{}:o;return ji(ji(ji({},r),Ye(n)),Ye(i))},t.prototype.getTextPosition=function(){if(this.pointsList&&this.pointsList.length>0){var n=0,r=0;return this.pointsList.forEach(function(o){var i=o.x,a=o.y;n+=i,r+=a}),{x:n/this.pointsList.length,y:r/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},t.prototype.getData=function(){var n=e.prototype.getData.call(this),r=this.pointsList.map(function(o){var i=o.x,a=o.y;return{x:i,y:a}});return ji(ji({},n),{pointsList:r})},t.prototype.getControls=function(){var n=this.startPoint,r=this.endPoint,o=Y0({start:n,end:r,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return o},t.prototype.getPath=function(n){var r=zh(n,4),o=r[0],i=r[1],a=r[2],s=r[3];return"M ".concat(o.x," ").concat(o.y,`
    C `).concat(i.x," ").concat(i.y,`,
    `).concat(a.x," ").concat(a.y,`,
    `).concat(s.x," ").concat(s.y)},t.prototype.initPoints=function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()},t.prototype.updatePoints=function(){var n=this.getControls(),r=n.sNext,o=n.ePre;this.updatePath(r,o)},t.prototype.updatePath=function(n,r){n=Ye(n),r=Ye(r);var o={x:this.startPoint.x,y:this.startPoint.y},i={x:this.endPoint.x,y:this.endPoint.y};if(!n||!r){var a=this.getControls();n=a.sNext,r=a.ePre}this.pointsList=[o,n,r,i],this.path=this.getPath(this.pointsList)},t.prototype.updateStartPoint=function(n){this.startPoint=Object.assign({},n),this.updatePoints()},t.prototype.updateEndPoint=function(n){this.endPoint=Object.assign({},n),this.updatePoints()},t.prototype.moveStartPoint=function(n,r){this.startPoint.x+=n,this.startPoint.y+=r;var o=zh(this.pointsList,3),i=o[1],a=o[2];i.x+=n,i.y+=r,this.updatePath(i,a)},t.prototype.moveEndPoint=function(n,r){this.endPoint.x+=n,this.endPoint.y+=r;var o=zh(this.pointsList,3),i=o[1],a=o[2];a.x+=n,a.y+=r,this.updatePath(i,a)},t.prototype.updateAdjustAnchor=function(n,r){var o;r==="sNext"?this.pointsList[1]=n:r==="ePre"&&(this.pointsList[2]=n),this.path=this.getPath(this.pointsList),!((o=this.text)===null||o===void 0)&&o.value&&this.setText(wt({},this.text,this.textPosition))},t.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},t.prototype.getAdjustEnd=function(){var n=this.pointsList;return n[n.length-1]||this.endPoint},t.prototype.updateAfterAdjustStartAndEnd=function(n){var r=n.startPoint,o=n.endPoint,i=n.sourceNode,a=n.targetNode,s=Y0({start:r,end:o,sourceNode:i,targetNode:a,offset:this.offset}),l=s.sNext,c=s.ePre;this.pointsList=[r,l,c,o],this.initPoints()},Dr([ee],t.prototype,"path",void 0),Dr([Z],t.prototype,"initPoints",null),Dr([Z],t.prototype,"updatePoints",null),Dr([Z],t.prototype,"updateStartPoint",null),Dr([Z],t.prototype,"updateEndPoint",null),Dr([Z],t.prototype,"moveStartPoint",null),Dr([Z],t.prototype,"moveEndPoint",null),Dr([Z],t.prototype,"updateAdjustAnchor",null),Dr([Z],t.prototype,"getAdjustStart",null),Dr([Z],t.prototype,"getAdjustEnd",null),Dr([Z],t.prototype,"updateAfterAdjustStartAndEnd",null),t}(Cf),Zz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_l=function(){return _l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_l.apply(this,arguments)},ib=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Jz=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},tv=function(e){Zz(t,e);function t(){var n=e.apply(this,Jz([],ib(arguments),!1))||this;return n.modelType=ot.LINE_EDGE,n}return t.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.line,r=e.prototype.getEdgeStyle.call(this),o=this.properties.style,i=o===void 0?{}:o;return _l(_l(_l({},r),Ye(n)),Ye(i))},t.prototype.initEdgeData=function(n){e.prototype.initEdgeData.call(this,n),this.points=this.getPath([this.startPoint,this.endPoint])},t.prototype.getPath=function(n){var r=ib(n,2),o=r[0],i=r[1];return"".concat(o.x,",").concat(o.y," ").concat(i.x,",").concat(i.y)},t.prototype.getTextPosition=function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},t}(Cf),Qz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bl=function(){return bl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bl.apply(this,arguments)},yn=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ab=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},eF=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},cs=function(e){Qz(t,e);function t(){var n=e.apply(this,eF([],ab(arguments),!1))||this;return n.modelType=ot.POLYLINE_EDGE,n.draggingPointList=[],n}return t.prototype.initEdgeData=function(n){this.offset=30,e.prototype.initEdgeData.call(this,n)},t.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.polyline,r=e.prototype.getEdgeStyle.call(this),o=this.properties.style,i=o===void 0?{}:o;return bl(bl(bl({},r),Ye(n)),Ye(i))},t.prototype.getTextPosition=function(){var n,r=(n=this.text)===null||n===void 0?void 0:n.value;if(this.dbClickPosition&&!r){var o=this.dbClickPosition,i=o.x,a=o.y;return{x:i,y:a}}var s=aa(this.points),l=ab(K9(s),2),c=l[0],d=l[1];return{x:(c.x+d.x)/2,y:(c.y+d.y)/2}},t.prototype.getAfterAnchor=function(n,r,o){var i,a;return o.forEach(function(s){var l;n===Rt.HORIZONTAL?l=Math.abs(r.y-s.y):n===Rt.VERTICAL&&(l=Math.abs(r.x-s.x)),(!a||a>l)&&(a=l,i=s)}),i},t.prototype.getCrossPoint=function(n,r,o){var i;return n===Rt.HORIZONTAL?i={x:o.x,y:r.y}:n===Rt.VERTICAL&&(i={x:r.x,y:o.y}),i},t.prototype.removeCrossPoints=function(n,r,o){var i=o.map(function(y){return y});if(n===1){var a=i[n],s=i[r],l=i[n-1],c=W0(l,a,this.sourceNode);if(c){var d=G0(a,s,this.sourceNode);if(d){var f=X0(a,s,this.sourceNode);f&&(i[n]=f,i.splice(n-1,1),n--,r--)}}else{var h=this.sourceNode.anchors;h.forEach(function(y){if(y.x===l.x&&y.x===a.x||y.y===l.y&&y.y===a.y){var _=zr(y.x,y.y,a.x,a.y),C=zr(l.x,l.y,a.x,a.y);_<C&&(i[n-1]=y)}})}}if(r===o.length-2){var p=i[n],v=i[r],g=i[r+1],m=W0(v,g,this.targetNode);if(m){var d=G0(p,v,this.targetNode);if(d){var f=X0(p,v,this.targetNode);f&&(i[r]=f,i.splice(r+1,1))}}else{var h=this.targetNode.anchors;h.forEach(function(_){if(_.x===g.x&&_.x===v.x||_.y===g.y&&_.y===v.y){var C=zr(_.x,_.y,v.x,v.y),x=zr(g.x,g.y,v.x,v.y);C<x&&(i[r+1]=_)}})}}return i},t.prototype.getDraggingPoints=function(n,r,o,i,a){var s=a.map(function(d){return d}),l=this.getAfterAnchor(n,o,i),c=this.getCrossPoint(n,o,l);return r==="start"?(s.unshift(c),s.unshift(l)):(s.push(c),s.push(l)),s},t.prototype.updateCrossPoints=function(n){var r=n.map(function(_){return _}),o=n[0],i=n[1],a=n[r.length-2],s=n[r.length-1],l=this,c=l.sourceNode,d=l.targetNode,f=c.modelType,h=d.modelType,p=qc(o,i),v=r[0];switch(f){case ot.RECT_NODE:if(c.radius!==0){var g=Q0(o,c);g||(v=J0(o,p,c))}break;case ot.CIRCLE_NODE:v=Xp(o,p,c);break;case ot.ELLIPSE_NODE:v=eb(o,p,c);break;case ot.DIAMOND_NODE:v=Wu(o,p,c);break;case ot.POLYGON_NODE:v=Wu(o,p,c);break}v&&(r[0]=v);var m=qc(a,s),y=r[r.length-1];switch(h){case ot.RECT_NODE:if(d.radius!==0){var g=Q0(s,d);g||(y=J0(s,m,d))}break;case ot.CIRCLE_NODE:y=Xp(s,m,d);break;case ot.ELLIPSE_NODE:y=eb(s,m,d);break;case ot.DIAMOND_NODE:y=Wu(s,m,d);break;case ot.POLYGON_NODE:y=Wu(s,m,d);break}return y&&(r[r.length-1]=y),r},t.prototype.getData=function(){var n=e.prototype.getData.call(this),r=this.pointsList.map(function(o){var i=o.x,a=o.y;return{x:i,y:a}});return Object.assign({},n,{pointsList:r})},t.prototype.getPath=function(n){return n.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},t.prototype.initPoints=function(){this.pointsList.length>0?this.points=this.getPath(this.pointsList):this.updatePoints()},t.prototype.updatePoints=function(){var n=H0({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=n,this.points=n.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},t.prototype.updateStartPoint=function(n){this.startPoint=Object.assign({},n),this.updatePoints()},t.prototype.moveStartPoint=function(n,r){this.startPoint.x+=n,this.startPoint.y+=r,this.updatePoints()},t.prototype.updateEndPoint=function(n){this.endPoint=Object.assign({},n),this.updatePoints()},t.prototype.moveEndPoint=function(n,r){this.endPoint.x+=n,this.endPoint.y+=r,this.updatePoints()},t.prototype.updatePointsList=function(n,r){this.pointsList.forEach(function(a){a.x+=n,a.y+=r});var o=this.pointsList[0];this.startPoint=Object.assign({},o);var i=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},i),this.initPoints()},t.prototype.dragAppendStart=function(){this.draggingPointList=this.pointsList.map(function(n){return n})},t.prototype.dragAppendSimple=function(n,r){var o;this.isDragging=!0;var i=n.start,a=n.end,s=n.startIndex,l=n.endIndex,c=n.direction,d=this.pointsList,f=d;return c===Rt.HORIZONTAL?(d[s]={x:i.x,y:i.y+r.y},d[l]={x:a.x,y:a.y+r.y},f=this.pointsList.map(function(h){return h})):c===Rt.VERTICAL&&(d[s]={x:i.x+r.x,y:i.y},d[l]={x:a.x+r.x,y:a.y},f=this.pointsList.map(function(h){return h})),this.updatePointsAfterDrag(f),this.draggingPointList=f,!((o=this.text)===null||o===void 0)&&o.value&&this.setText(wt({},this.text,this.textPosition)),{start:wt({},d[s]),end:wt({},d[l]),startIndex:s,endIndex:l,direction:c}},t.prototype.dragAppend=function(n,r){var o;this.isDragging=!0;var i=n.start,a=n.end,s=n.startIndex,l=n.endIndex,c=n.direction,d=this.pointsList;if(c===Rt.HORIZONTAL){d[s]={x:i.x,y:i.y+r.y},d[l]={x:a.x,y:a.y+r.y};var f=this.pointsList.map(function(m){return m});if(s!==0&&l!==this.pointsList.length-1&&(f=this.removeCrossPoints(s,l,f)),s===0){var h={x:i.x,y:i.y+r.y},p=ii(h,this.sourceNode);if(!p){var v=this.sourceNode.anchors;f=this.getDraggingPoints(c,"start",h,v,f)}}if(l===this.pointsList.length-1){var g={x:a.x,y:a.y+r.y},p=ii(g,this.targetNode);if(!p){var v=this.targetNode.anchors;f=this.getDraggingPoints(c,"end",g,v,f)}}this.updatePointsAfterDrag(f),this.draggingPointList=f}else if(c===Rt.VERTICAL){d[s]={x:i.x+r.x,y:i.y},d[l]={x:a.x+r.x,y:a.y};var f=this.pointsList.map(function(y){return y});if(s!==0&&l!==this.pointsList.length-1&&(f=this.removeCrossPoints(s,l,f)),s===0){var h={x:i.x+r.x,y:i.y},p=ii(h,this.sourceNode);if(!p){var v=this.sourceNode.anchors;f=this.getDraggingPoints(c,"start",h,v,f)}}if(l===this.pointsList.length-1){var g={x:a.x+r.x,y:a.y},p=ii(g,this.targetNode);if(!p){var v=this.targetNode.anchors;f=this.getDraggingPoints(c,"end",g,v,f)}}this.updatePointsAfterDrag(f),this.draggingPointList=f}return!((o=this.text)===null||o===void 0)&&o.value&&this.setText(wt({},this.text,this.textPosition)),{start:wt({},d[s]),end:wt({},d[l]),startIndex:s,endIndex:l,direction:c}},t.prototype.dragAppendEnd=function(){if(this.draggingPointList){var n=EC(aa(this.points));this.pointsList=n.map(function(i){return i}),this.draggingPointList=[];var r=n[0];this.startPoint=wt({},r);var o=n[n.length-1];this.endPoint=wt({},o)}this.isDragging=!1},t.prototype.updatePointsAfterDrag=function(n){var r=this.updateCrossPoints(n);this.points=r.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" ")},t.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},t.prototype.getAdjustEnd=function(){var n=this.pointsList;return n[n.length-1]||this.endPoint},t.prototype.updateAfterAdjustStartAndEnd=function(n){var r=n.startPoint,o=n.endPoint,i=n.sourceNode,a=n.targetNode;this.pointsList=H0({x:r.x,y:r.y},{x:o.x,y:o.y},i,a,this.offset||0),this.initPoints()},yn([ee],t.prototype,"dbClickPosition",void 0),yn([Z],t.prototype,"initPoints",null),yn([Z],t.prototype,"updatePoints",null),yn([Z],t.prototype,"updateStartPoint",null),yn([Z],t.prototype,"moveStartPoint",null),yn([Z],t.prototype,"updateEndPoint",null),yn([Z],t.prototype,"moveEndPoint",null),yn([Z],t.prototype,"updatePointsList",null),yn([Z],t.prototype,"dragAppendStart",null),yn([Z],t.prototype,"dragAppendSimple",null),yn([Z],t.prototype,"dragAppend",null),yn([Z],t.prototype,"dragAppendEnd",null),yn([Z],t.prototype,"updatePointsAfterDrag",null),yn([Z],t.prototype,"getAdjustStart",null),yn([Z],t.prototype,"getAdjustEnd",null),yn([Z],t.prototype,"updateAfterAdjustStartAndEnd",null),t}(Cf),Jt=function(){return Jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jt.apply(this,arguments)},Xe=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},sb=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tF=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Ni=function(){function e(t,n){var r;this.BaseType=Wt.NODE,this.id="",this.type="",this.x=0,this.y=0,this.textMode=xr.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this._width=100,this._height=80,this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.anchorsOffset=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isShowAnchor=!1,this.isDragging=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.rotatable=!0,this.resizable=!0,this.zIndex=1,this.state=gt.DEFAULT,this.autoToFront=!0,this.style={},this._rotate=0,this.modelType=ot.NODE,this.additionStateData={},this.targetRules=[],this.sourceRules=[],this.moveRules=[],this.resizeRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,this.graphModel=n,this.properties=(r=t.properties)!==null&&r!==void 0?r:{},this.initNodeData(t),this.setAttributes()}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t;var n=this,r=n.x,o=r===void 0?0:r,i=n.y,a=i===void 0?0:i;this.transform=new Ef(-o,-a).rotate(t).translate(o,a).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"incoming",{get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outgoing",{get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}},enumerable:!1,configurable:!0}),e.prototype.initNodeData=function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,r=n&&n(t.type),o=this.createId();t.id=o||r||ui()}this.formatText(t),wt(this,lz(t));var i=this.graphModel.overlapMode;i===Vr.INCREASE&&(this.zIndex=t.zIndex||gm())},e.prototype.setAttributes=function(){},e.prototype.createId=function(){return null},e.prototype.setTextMode=function(t){this.textMode=t},e.prototype.formatText=function(t){var n,r,o,i=t.x,a=t.y,s=t.text,l={value:"",x:i,y:a,draggable:!1,editable:!0};s&&(typeof s=="string"?l.value=s:(l=Jt(Jt({},l),{x:(n=s.x)!==null&&n!==void 0?n:i,y:(r=s.y)!==null&&r!==void 0?r:a,value:(o=s.value)!==null&&o!==void 0?o:""}),ia(s.draggable)||(l.draggable=s.draggable),ia(s.editable)||(l.editable=s.editable))),t.text=l},e.prototype.resize=function(t){var n=t.width,r=t.height,o=t.deltaX,i=t.deltaY,a=this.isAllowResizeNode(o,i,n,r);return a?(this.move(o/2,i/2),this.width=n,this.height=r,this.setProperties({width:n,height:r}),this.getData()):this.getData()},e.prototype.proportionalResize=function(){},e.prototype.getData=function(){var t=this.text,n=t.x,r=t.y,o=t.value,i=this.properties;di(i)&&(i=$r(i)),qi(i.width)&&(i.width=this.width),qi(i.height)&&(i.height=this.height);var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.rotate&&(a.rotate=this.rotate),this.graphModel.overlapMode===Vr.INCREASE&&(a.zIndex=this.zIndex),o&&(a.text={x:n,y:r,value:o}),a},e.prototype.getHistoryData=function(){return this.getData()},e.prototype.getProperties=function(){return $r(this.properties)},e.prototype.getOuterGAttributes=function(){return{className:""}},e.prototype.getNodeStyle=function(){return Jt(Jt({},this.graphModel.theme.baseNode),this.style)},e.prototype.getTextStyle=function(){var t=this.graphModel.theme.nodeText,n=this.properties.textStyle,r=n===void 0?{}:n;return Jt(Jt({},Ye(t)),Ye(r))},e.prototype.getRotateControlStyle=function(){var t=this.graphModel.theme.rotateControl;return Ye(t)},e.prototype.getResizeControlStyle=function(){var t=this.graphModel.theme.resizeControl;return Ye(t)},e.prototype.getResizeOutlineStyle=function(){var t=this.graphModel.theme.resizeOutline;return Ye(t)},e.prototype.getAnchorStyle=function(t){var n=this.graphModel.theme.anchor;return Ye(n)},e.prototype.getAnchorLineStyle=function(t){var n=this.graphModel.theme.anchorLine;return Ye(n)},e.prototype.getOutlineStyle=function(){var t=this.graphModel.theme.outline;return Ye(t)},e.prototype.isAllowConnectedAsSource=function(t,n,r,o){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var a=!0,s="",l=0;l<i.length;l++){var c=i[l];if(!c.validate.call(this,this,t,n,r,o)){a=!1,s=c.message;break}}return{isAllPass:a,msg:s}},e.prototype.getConnectedSourceRules=function(){return this.sourceRules},e.prototype.isAllowConnectedAsTarget=function(t,n,r,o){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var a=!0,s="",l=0;l<i.length;l++){var c=i[l];if(!c.validate.call(this,t,this,n,r,o)){a=!1,s=c.message;break}}return{isAllPass:a,msg:s}},e.prototype.isAllowMoveNode=function(t,n){var r,o,i=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules);try{for(var l=sb(s),c=l.next();!c.done;c=l.next()){var d=c.value,f=d(this,t,n);if(!f)return!1;if(typeof f=="object"){var h=f;if(!h.x&&!h.y)return!1;i=i&&h.x,a=a&&h.y}}}catch(p){r={error:p}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return{x:i,y:a}},e.prototype.getConnectedTargetRules=function(){return this.targetRules},e.prototype.getAnchorsByOffset=function(){var t=this,n=t.anchorsOffset,r=t.id,o=t.x,i=t.y;return n&&n.length>0?n.map(function(a,s){return a.length?(a=a,{id:"".concat(r,"_").concat(s),x:o+a[0],y:i+a[1]}):(a=a,Jt(Jt({},a),{x:o+a.x,y:i+a.y,id:a.id||"".concat(r,"_").concat(s)}))}):this.getDefaultAnchor()},e.prototype.getDefaultAnchor=function(){return[]},e.prototype.getTargetAnchor=function(t){return iz(t,this)},e.prototype.getBounds=function(){return{minX:this.x-this.width/2,minY:this.y-this.height/2,maxX:this.x+this.width/2,maxY:this.y+this.height/2}},Object.defineProperty(e.prototype,"anchors",{get:function(){var t=this.getAnchorsByOffset(),n=this,r=n.x,o=n.y,i=n.rotate;return t.forEach(function(a){var s=a.x,l=a.y,c=tF(new xf([s,l,1]).translate(-r,-o).rotate(i).translate(r,o)[0],2),d=c[0],f=c[1];a.x=d,a.y=f}),t},enumerable:!1,configurable:!0}),e.prototype.getAnchorInfo=function(t){if(!qi(t))for(var n=0;n<this.anchors.length;n++){var r=this.anchors[n];if(r.id===t)return r}},e.prototype.addNodeMoveRules=function(t){this.moveRules.includes(t)||this.moveRules.push(t)},e.prototype.isAllowMoveByXORY=function(t,n,r){var o,i;if(r)o=!0,i=!0;else{var a=this.isAllowMoveNode(t,n);typeof a=="boolean"?(o=a,i=a):(o=a.x,i=a.y)}return{isAllowMoveX:o,isAllowMoveY:i}},e.prototype.move=function(t,n,r){r===void 0&&(r=!1);var o=this.isAllowMoveByXORY(t,n,r),i=o.isAllowMoveX,a=o.isAllowMoveY;return i&&(this.x=this.x+t,this.text&&this.moveText(t,0)),a&&(this.y=this.y+n,this.text&&this.moveText(0,n)),(i||a)&&(this.rotate=this._rotate),i||a},e.prototype.getMoveDistance=function(t,n,r){r===void 0&&(r=!1);var o=this.isAllowMoveByXORY(t,n,r),i=o.isAllowMoveX,a=o.isAllowMoveY,s=0,l=0;return i&&t&&(this.x=this.x+t,this.text&&this.moveText(t,0),s=t),a&&n&&(this.y=this.y+n,this.text&&this.moveText(0,n),l=n),[s,l]},e.prototype.moveTo=function(t,n,r){r===void 0&&(r=!1);var o=t-this.x,i=n-this.y;return!r&&!this.isAllowMoveNode(o,i)?!1:(this.text&&this.moveText(o,i),this.x=t,this.y=n,!0)},e.prototype.moveText=function(t,n){var r=this.text,o=r.x,i=r.y,a=r.value,s=r.draggable,l=r.editable;this.text={value:a,editable:l,draggable:s,x:o+t,y:i+n}},e.prototype.updateText=function(t){this.text=Jt(Jt({},$r(this.text)),{value:t})},e.prototype.addNodeResizeRules=function(t){this.resizeRules.includes(t)||this.resizeRules.push(t)},e.prototype.isAllowResizeNode=function(t,n,r,o){var i,a,s=this.resizeRules.concat(this.graphModel.nodeResizeRules);try{for(var l=sb(s),c=l.next();!c.done;c=l.next()){var d=c.value,f=d(this,t,n,r,o);if(!f)return!1}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return!0},e.prototype.setSelected=function(t){t===void 0&&(t=!0),this.isSelected=t},e.prototype.setHovered=function(t){t===void 0&&(t=!0),this.isHovered=t,this.setIsShowAnchor(t)},e.prototype.setIsShowAnchor=function(t){t===void 0&&(t=!0),this.isShowAnchor=t},e.prototype.setRotatable=function(t){t===void 0&&(t=!0),this.rotatable=t},e.prototype.setResizable=function(t){t===void 0&&(t=!0),this.resizable=t},e.prototype.setHitable=function(t){t===void 0&&(t=!0),this.isHitable=t},e.prototype.setHittable=function(t){t===void 0&&(t=!0),this.isHittable=t},e.prototype.setElementState=function(t,n){this.state=t,this.additionStateData=n},e.prototype.updateProperties=function(t,n){var r=$r(this.properties);this.properties=t,this.setAttributes(),this.graphModel.eventCenter.emit(Pe.NODE_PROPERTIES_CHANGE,{id:this.id,keys:n,preProperties:r,properties:t})},e.prototype.setProperty=function(t,n){var r=$r(this.properties),o=Ye(r);sC(o,t,wn(n)),this.updateProperties(o,[t])},e.prototype.setProperties=function(t){var n=$r(this.properties),r=Jt(Jt({},n),wn(t)),o=[];VE(t,function(i,a){(os(n,a)&&n[a]!==i||!os(n,a))&&o.push(a)}),this.updateProperties(r,o)},e.prototype.deleteProperty=function(t){delete this.properties[t],this.setAttributes()},e.prototype.setStyle=function(t,n){var r;this.style=Jt(Jt({},this.style),(r={},r[t]=wn(n),r))},e.prototype.setStyles=function(t){this.style=Jt(Jt({},this.style),wn(t))},e.prototype.updateStyles=function(t){this.style=Jt({},wn(t))},e.prototype.setZIndex=function(t){t===void 0&&(t=1),this.zIndex=t},e.prototype.updateAttributes=function(t){wt(this,t)},e.BaseType=Wt.NODE,Xe([ee],e.prototype,"type",void 0),Xe([ee],e.prototype,"x",void 0),Xe([ee],e.prototype,"y",void 0),Xe([ee],e.prototype,"textMode",void 0),Xe([ee],e.prototype,"text",void 0),Xe([ee],e.prototype,"properties",void 0),Xe([ee],e.prototype,"_width",void 0),Xe([ee],e.prototype,"_height",void 0),Xe([ee],e.prototype,"anchorsOffset",void 0),Xe([ee],e.prototype,"isSelected",void 0),Xe([ee],e.prototype,"isHovered",void 0),Xe([ee],e.prototype,"isShowAnchor",void 0),Xe([ee],e.prototype,"isDragging",void 0),Xe([ee],e.prototype,"isHitable",void 0),Xe([ee],e.prototype,"isHittable",void 0),Xe([ee],e.prototype,"draggable",void 0),Xe([ee],e.prototype,"visible",void 0),Xe([ee],e.prototype,"rotatable",void 0),Xe([ee],e.prototype,"resizable",void 0),Xe([ee],e.prototype,"zIndex",void 0),Xe([ee],e.prototype,"state",void 0),Xe([ee],e.prototype,"autoToFront",void 0),Xe([ee],e.prototype,"style",void 0),Xe([ee],e.prototype,"transform",void 0),Xe([ee],e.prototype,"_rotate",void 0),Xe([Pt],e.prototype,"incoming",null),Xe([Pt],e.prototype,"outgoing",null),Xe([Z],e.prototype,"setTextMode",null),Xe([Z],e.prototype,"addNodeMoveRules",null),Xe([Z],e.prototype,"move",null),Xe([Z],e.prototype,"getMoveDistance",null),Xe([Z],e.prototype,"moveTo",null),Xe([Z],e.prototype,"moveText",null),Xe([Z],e.prototype,"updateText",null),Xe([Z],e.prototype,"addNodeResizeRules",null),Xe([Z],e.prototype,"setSelected",null),Xe([Z],e.prototype,"setHovered",null),Xe([Z],e.prototype,"setIsShowAnchor",null),Xe([Z],e.prototype,"setRotatable",null),Xe([Z],e.prototype,"setResizable",null),Xe([Z],e.prototype,"setHitable",null),Xe([Z],e.prototype,"setHittable",null),Xe([Z],e.prototype,"setElementState",null),Xe([Z],e.prototype,"setProperty",null),Xe([Z],e.prototype,"setProperties",null),Xe([Z],e.prototype,"deleteProperty",null),Xe([Z],e.prototype,"setStyle",null),Xe([Z],e.prototype,"setStyles",null),Xe([Z],e.prototype,"updateStyles",null),Xe([Z],e.prototype,"setZIndex",null),Xe([Z],e.prototype,"updateAttributes",null),e}(),nF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wl=function(){return wl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},wl.apply(this,arguments)},Fh=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ed=function(e){nF(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.modelType=ot.CIRCLE_NODE,o.r=50,o.initNodeData(n),o.setAttributes(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),t.prototype.setAttributes=function(){e.prototype.setAttributes.call(this);var n=this.properties.r;n&&(this.r=n)},t.prototype.getNodeStyle=function(){var n=e.prototype.getNodeStyle.call(this),r=this.graphModel.theme.circle,o=this.properties.style,i=o===void 0?{}:o;return wl(wl(wl({},n),Ye(r)),Ye(i))},t.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.r;return[{x:r,y:o-i,id:"".concat(this.id,"_0")},{x:r+i,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+i,id:"".concat(this.id,"_2")},{x:r-i,y:o,id:"".concat(this.id,"_3")}]},t.prototype.resize=function(n){var r=n.width,o=n.deltaX,i=n.deltaY;return this.move(o/2,i/2),this.r=r,this.setProperties({r}),this.getData()},Fh([ee],t.prototype,"r",void 0),Fh([Pt],t.prototype,"width",null),Fh([Pt],t.prototype,"height",null),t}(Ni),rF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xl=function(){return xl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xl.apply(this,arguments)},Ta=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Xu=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},nv=function(e){rF(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.modelType=ot.DIAMOND_NODE,o.rx=30,o.ry=50,o.initNodeData(n),o.setAttributes(),o}return t.prototype.setAttributes=function(){e.prototype.setAttributes.call(this);var n=this.properties,r=n.rx,o=n.ry;r&&(this.rx=r),o&&(this.ry=o)},t.prototype.getNodeStyle=function(){var n=e.prototype.getNodeStyle.call(this),r=this.graphModel.theme.diamond,o=this.properties.style,i=o===void 0?{}:o;return xl(xl(xl({},n),Ye(r)),Ye(i))},Object.defineProperty(t.prototype,"points",{get:function(){var n=this,r=n.x,o=n.y,i=n.rx,a=n.ry;return[[r,o-a],[r+i,o],[r,o+a],[r-i,o]]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointsPosition",{get:function(){return An(this.points,function(n){var r=Xu(n,2),o=r[0],i=r[1];return{x:o,y:i}})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return qe(this.points,function(o){var i=Xu(o,1),a=i[0];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return qe(this.points,function(o){var i=Xu(o,2),a=i[1];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),t.prototype.getDefaultAnchor=function(){var n=this;return An(this.points,function(r,o){var i=Xu(r,2),a=i[0],s=i[1];return{x:a,y:s,id:"".concat(n.id,"_").concat(o)}})},t.prototype.resize=function(n){var r=n.width,o=n.height,i=n.deltaX,a=n.deltaY;return this.move(i/2,a/2),this.rx=r,this.ry=o,this.setProperties({rx:r,ry:o}),this.getData()},Ta([ee],t.prototype,"rx",void 0),Ta([ee],t.prototype,"ry",void 0),Ta([Pt],t.prototype,"points",null),Ta([Pt],t.prototype,"pointsPosition",null),Ta([Pt],t.prototype,"width",null),Ta([Pt],t.prototype,"height",null),t}(Ni),oF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),El=function(){return El=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},El.apply(this,arguments)},Uu=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},rv=function(e){oF(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.modelType=ot.ELLIPSE_NODE,o.rx=30,o.ry=45,o.initNodeData(n),o.setAttributes(),o}return t.prototype.setAttributes=function(){e.prototype.setAttributes.call(this);var n=this.properties,r=n.rx,o=n.ry;r&&(this.rx=r),o&&(this.ry=o)},t.prototype.getNodeStyle=function(){var n=e.prototype.getNodeStyle.call(this),r=this.graphModel.theme.ellipse,o=this.properties.style,i=o===void 0?{}:o;return El(El(El({},n),Ye(r)),Ye(i))},Object.defineProperty(t.prototype,"width",{get:function(){return this.rx*2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.ry*2},enumerable:!1,configurable:!0}),t.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.rx,a=n.ry;return[{x:r,y:o-a,id:"".concat(this.id,"_0")},{x:r+i,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+a,id:"".concat(this.id,"_2")},{x:r-i,y:o,id:"".concat(this.id,"_3")}]},t.prototype.resize=function(n){var r=n.width,o=n.height,i=n.deltaX,a=n.deltaY;return this.move(i/2,a/2),this.rx=r,this.ry=o,this.setProperties({rx:r,ry:o}),this.getData()},Uu([ee],t.prototype,"rx",void 0),Uu([ee],t.prototype,"ry",void 0),Uu([Pt],t.prototype,"width",null),Uu([Pt],t.prototype,"height",null),t}(Ni),iF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cl=function(){return Cl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cl.apply(this,arguments)},Yu=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ku=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},td=function(e){iF(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.modelType=ot.POLYGON_NODE,o.points=[[50,0],[100,50],[50,100],[0,50]],o.initNodeData(n),o.setAttributes(),o}return t.prototype.setAttributes=function(){e.prototype.setAttributes.call(this);var n=this.properties,r=n.points,o=n.width,i=n.height,a=r||this.points;this.points=tz(a,o,i)},t.prototype.getNodeStyle=function(){var n=e.prototype.getNodeStyle.call(this),r=this.graphModel.theme.polygon,o=this.properties.style,i=o===void 0?{}:o;return Cl(Cl(Cl({},n),Ye(r)),Ye(i))},Object.defineProperty(t.prototype,"pointsPosition",{get:function(){var n=this,r=n.x,o=n.y,i=n.width,a=n.height;return this.points.map(function(s){return{x:s[0]+r-i/2,y:s[1]+o-a/2}})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(o){var i=Ku(o,1),a=i[0];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(o){var i=Ku(o,2),a=i[1];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),t.prototype.getDefaultAnchor=function(){var n=this,r=this,o=r.x,i=r.y,a=r.width,s=r.height,l=r.points;return l.map(function(c,d){var f=Ku(c,2),h=f[0],p=f[1];return{x:o+h-a/2,y:i+p-s/2,id:"".concat(n.id,"_").concat(d)}})},t.prototype.resize=function(n){var r=this,o=n.width,i=n.height,a=n.deltaX,s=n.deltaY;this.move(a/2,s/2);var l=An(this.points,function(c){var d=Ku(c,2),f=d[0],h=d[1];return[f*o/r.width,h*i/r.height]});return this.points=l,this.properties.points=l,this.getData()},Yu([ee],t.prototype,"points",void 0),Yu([Pt],t.prototype,"pointsPosition",null),Yu([Pt],t.prototype,"width",null),Yu([Pt],t.prototype,"height",null),t}(Ni),aF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sl=function(){return Sl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Sl.apply(this,arguments)},sF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},ds=function(e){aF(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.modelType=ot.RECT_NODE,o.radius=0,o.initNodeData(n),o.setAttributes(),o}return t.prototype.setAttributes=function(){e.prototype.setAttributes.call(this);var n=this.properties,r=n.width,o=n.height,i=n.radius;qi(r)||(this.width=r),qi(o)||(this.height=o),qi(i)||(this.radius=i)},t.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.width,a=n.height;return[{x:r,y:o-a/2,id:"".concat(this.id,"_0")},{x:r+i/2,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+a/2,id:"".concat(this.id,"_2")},{x:r-i/2,y:o,id:"".concat(this.id,"_3")}]},t.prototype.getNodeStyle=function(){var n=e.prototype.getNodeStyle.call(this),r=this.graphModel.theme.rect,o=this.properties.style,i=o===void 0?{}:o;return Sl(Sl(Sl({},n),Ye(r)),Ye(i))},sF([ee],t.prototype,"radius",void 0),t}(Ni),lF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nl=function(){return Nl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Nl.apply(this,arguments)},lb=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},uF=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},cF=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},ov=function(e){lF(t,e);function t(){var n=e.apply(this,cF([],uF(arguments),!1))||this;return n.modelType=ot.TEXT_NODE,n}return t.prototype.getTextStyle=function(){var n=e.prototype.getTextStyle.call(this),r=this.graphModel.theme.text,o=this.properties.textStyle;return Nl(Nl(Nl({},n),Ye(r)),Ye(o))},Object.defineProperty(t.prototype,"width",{get:function(){var n=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,o=nb({rows:n,fontSize:r,rowsLength:n.length}).width;return o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var n=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,o=nb({rows:n,fontSize:r,rowsLength:n.length}).height;return o},enumerable:!1,configurable:!0}),lb([Pt],t.prototype,"width",null),lb([Pt],t.prototype,"height",null),t}(Ni),dF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iv=function(e){dF(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.modelType=ot.HTML_NODE,o.setAttributes(),o}return t.prototype.setAttributes=function(){e.prototype.setAttributes.call(this);var n=this.properties,r=n.width,o=n.height;r&&(this.width=r),o&&(this.height=o)},t.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.width,a=n.height;return[{x:r,y:o-a/2,id:"".concat(this.id,"_0")},{x:r+i/2,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+a/2,id:"".concat(this.id,"_2")},{x:r-i/2,y:o,id:"".concat(this.id,"_3")}]},t}(Ni),bt=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},fF={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotate:!1,allowResize:!1,nodeSelectedOutline:!0,textEdit:!1,nodeTextEdit:!1,edgeTextEdit:!1,textDraggable:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},qu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustEdgeStart","adjustEdgeEnd","adjustNodePosition","hideAnchors","allowRotate","allowResize","autoExpand","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","textEdit","nodeTextEdit","edgeTextEdit","textDraggable","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","textMode","nodeTextMode","edgeTextMode","nodeTextMultiple","edgeTextMultiple","nodeTextVertical","edgeTextVertical"],hF=function(){function e(t){this.isSilentMode=!1,this.stopZoomGraph=!1,this.stopMoveGraph=!1,this.stopScrollGraph=!1,this.textMode=xr.TEXT,this.textEdit=!0,this.textDraggable=!1,this.nodeTextEdit=!0,this.nodeTextDraggable=!1,this.nodeTextMultiple=!1,this.nodeTextVertical=!1,this.nodeTextMode=xr.TEXT,this.edgeTextMode=xr.TEXT,this.edgeTextEdit=!0,this.edgeTextDraggable=!1,this.edgeTextMultiple=!1,this.edgeTextVertical=!1,this.hideAnchors=!1,this.allowRotate=!1,this.allowResize=!1,this.hoverOutline=!0,this.nodeSelectedOutline=!0,this.adjustNodePosition=!0,this.autoExpand=!1,this.adjustEdge=!0,this.adjustEdgeMiddle=!1,this.adjustEdgeStartAndEnd=!1,this.adjustEdgeStart=!1,this.adjustEdgeEnd=!1,this.edgeSelectedOutline=!0,this.multipleSelectKey="",wt(this,this.computeConfig(t))}return e.prototype.updateEditConfig=function(t){var n=this.computeConfig(t);wt(this,n)},e.prototype.computeConfig=function(t){var n=t.isSilentMode,r=t.textDraggable,o=t.textMode,i=t.textEdit,a=t.adjustEdgeStartAndEnd,s={};if(n===!1&&wt(s,this.stagedConfig),n===!0&&n!==this.isSilentMode){var l=Gi(fF,qu);this.stagedConfig=Gi(this,qu),wt(s,l)}ia(i)||wt(s,{nodeTextEdit:i,edgeTextEdit:i}),ia(r)||wt(s,{nodeTextDraggable:r,edgeTextDraggable:r}),o&&wt(s,{nodeTextMode:o,edgeTextMode:o}),Wc(a)&&wt(s,{adjustEdgeStart:a,adjustEdgeEnd:a});var c=Gi(t,qu);return wt(s,c)},e.prototype.updateTextMode=function(t){this.textMode=t,this.edgeTextMode=t,this.nodeTextMode=t},e.prototype.getConfig=function(){return Gi(this,qu)},bt([ee],e.prototype,"isSilentMode",void 0),bt([ee],e.prototype,"stopZoomGraph",void 0),bt([ee],e.prototype,"stopMoveGraph",void 0),bt([ee],e.prototype,"stopScrollGraph",void 0),bt([ee],e.prototype,"textMode",void 0),bt([ee],e.prototype,"textEdit",void 0),bt([ee],e.prototype,"textDraggable",void 0),bt([ee],e.prototype,"nodeTextEdit",void 0),bt([ee],e.prototype,"nodeTextDraggable",void 0),bt([ee],e.prototype,"nodeTextMultiple",void 0),bt([ee],e.prototype,"nodeTextVertical",void 0),bt([ee],e.prototype,"nodeTextMode",void 0),bt([ee],e.prototype,"edgeTextMode",void 0),bt([ee],e.prototype,"edgeTextEdit",void 0),bt([ee],e.prototype,"edgeTextDraggable",void 0),bt([ee],e.prototype,"edgeTextMultiple",void 0),bt([ee],e.prototype,"edgeTextVertical",void 0),bt([ee],e.prototype,"hideAnchors",void 0),bt([ee],e.prototype,"allowRotate",void 0),bt([ee],e.prototype,"allowResize",void 0),bt([ee],e.prototype,"hoverOutline",void 0),bt([ee],e.prototype,"nodeSelectedOutline",void 0),bt([ee],e.prototype,"adjustNodePosition",void 0),bt([ee],e.prototype,"autoExpand",void 0),bt([ee],e.prototype,"adjustEdge",void 0),bt([ee],e.prototype,"adjustEdgeMiddle",void 0),bt([ee],e.prototype,"adjustEdgeStartAndEnd",void 0),bt([ee],e.prototype,"adjustEdgeStart",void 0),bt([ee],e.prototype,"adjustEdgeEnd",void 0),bt([ee],e.prototype,"edgeSelectedOutline",void 0),bt([Z],e.prototype,"updateEditConfig",null),bt([Z],e.prototype,"updateTextMode",null),e}(),pF="*",vF=function(){function e(){this._events={}}return e.prototype.on=function(t,n,r){var o=this;t==null||t.split(",").forEach(function(i){i=i.trim(),o._events[i]||(o._events[i]=[]),o._events[i].push({callback:n,once:!!r})})},e.prototype.once=function(t,n){var r=this;t==null||t.split(",").forEach(function(o){o=o.trim(),r.on(o,n,!0)})},e.prototype.emit=function(t,n){var r=this;t==null||t.split(",").forEach(function(o){var i=r._events[o]||[],a=r._events[pF]||[],s=function(l){for(var c=l.length,d=0;d<c;d++)if(l[d]){var f=l[d],h=f.callback,p=f.once;p&&(l.splice(d,1),l.length===0&&delete r._events[o],c--,d--),h.apply(r,[n])}};s(i),s(a)})},e.prototype.off=function(t,n){var r=this;t||(this._events={}),t.split(",").forEach(function(o){if(!n)delete r._events[o];else{for(var i=r._events[o]||[],a=i.length,s=0;s<a;s++)i[s].callback===n&&(i.splice(s,1),a--,s--);i.length===0&&delete r._events[o]}})},e.prototype.getEvents=function(){return this._events},e}(),gF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),av=function(){return av=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},av.apply(this,arguments)},mF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},yF=function(e){gF(t,e);function t(n){var r=e.call(this)||this;r.stepScrollX=0,r.stepScrollY=0,r.onDragging=function(s){var l=s.deltaX,c=s.deltaY;r.setState({isDragging:!0});var d=r.props.graphModel,f=d.transformModel,h=d.editConfigModel;h.stopMoveGraph!==!0&&f.translate(l,c)},r.onDragEnd=function(){r.setState({isDragging:!1})},r.zoomHandler=function(s){var l=r.props,c=l.graphModel,d=c.editConfigModel,f=c.transformModel,h=c.gridSize,p=l.graphModel,v=s.deltaX,g=s.deltaY;if(!d.stopScrollGraph&&!s.ctrlKey&&!s.metaKey){if(s.preventDefault(),r.stepScrollX+=v,r.stepScrollY+=g,Math.abs(r.stepScrollX)>=h){var m=r.stepScrollX%h,y=r.stepScrollX-m;f.translate(-y*f.SCALE_X,0),r.stepScrollX=m}if(Math.abs(r.stepScrollY)>=h){var _=r.stepScrollY%h,C=r.stepScrollY-_;f.translate(0,-C*f.SCALE_Y),r.stepScrollY=_}return}if(!d.stopZoomGraph){s.preventDefault();var x=p.getPointByClient({x:s.clientX,y:s.clientY}),S=x.canvasOverlayPosition,b=S.x,w=S.y;f.zoom(s.deltaY<0,[b,w])}},r.clickHandler=function(s){var l=s.target;if(l.getAttribute("name")==="canvas-overlay"){var c=r.props.graphModel,d=c.selectElements;d.size>0&&c.clearSelectElements(),c.eventCenter.emit(Pe.BLANK_CLICK,{e:s})}},r.handleContextMenu=function(s){var l=s.target;if(l.getAttribute("name")==="canvas-overlay"){s.preventDefault();var c=r.props.graphModel,d=c.getPointByClient({x:s.clientX,y:s.clientY});c.eventCenter.emit(Pe.BLANK_CONTEXTMENU,{e:s,position:d})}},r.mouseDownHandler=function(s){var l=r.props.graphModel,c=l.eventCenter,d=l.editConfigModel,f=l.transformModel.SCALE_X,h=l.gridSize,p=s.target,v=!d.adjustEdge&&!d.adjustNodePosition;(p.getAttribute("name")==="canvas-overlay"||v)&&(d.stopMoveGraph!==!0?(r.stepDrag.setStep(h*f),r.stepDrag.handleMouseDown(s)):c.emit(Pe.BLANK_MOUSEDOWN,{e:s}),r.clickHandler(s))};var o=n.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new Tr({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:i,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:void 0}),r.state={isDragging:!1},r}return t.prototype.render=function(){var n=this.props.graphModel.transformModel,r=n.getTransformStyle().transform,o=this.props,i=o.children,a=o.dnd,s=this.state.isDragging;return K("svg",av({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:s?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},a.eventMap(),{children:K("g",{transform:r,children:i})}))},t=mF([Mn],t),t}(ut),RC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eu=function(){return eu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},eu.apply(this,arguments)},_F=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},bF=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},ub=function(e){RC(t,e);function t(){var n=e.call(this)||this;return n.onDragging=function(r){var o=r.event,i=n.props,a=i.graphModel,s=i.bezierModel,l=i.type,c=a.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,d=c.x,f=c.y;s.updateAdjustAnchor({x:d,y:f},l),a.eventCenter.emit(Pe.EDGE_ADJUST,{data:s.getData()})},n.onDragEnd=function(){var r=n.props.bezierModel;r.isDragging=!1},n.dragHandler=new Tr({onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return t.prototype.render=function(){var n=this,r=this.props.position,o=r.x,i=r.y,a=this.props.bezierModel,s=a.getEdgeStyle().adjustAnchor;return K(us,eu({className:"lf-bezier-adjust-anchor",x:o,y:i},s,{onMouseDown:function(l){n.dragHandler.handleMouseDown(l)}}))},t}(ut),wF=function(e){RC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getBezierAdjust=function(n,r){var o=n.path,i=n.id,a=hm(o),s=bF(a,4),l=s[0],c=s[1],d=s[2],f=s[3],h=n.getEdgeStyle().adjustLine,p=[];return p.push(K(ls,eu({x1:l.x,y1:l.y,x2:c.x,y2:c.y},h))),p.push(K(ub,{position:c,bezierModel:n,graphModel:r,type:"sNext"},"".concat(i,"_ePre"))),p.push(K(ls,eu({x1:f.x,y1:f.y,x2:d.x,y2:d.y},h))),p.push(K(ub,{position:d,bezierModel:n,graphModel:r,type:"ePre"},"".concat(i,"_sNext"))),p},t.prototype.selectedBezierEdge=function(){for(var n=this.props.graphModel,r=n.edges,o=[],i=0;i<r.length;i++){var a=r[i];a.isSelected&&a.modelType===ot.BEZIER_EDGE&&a.draggable&&o.push(this.getBezierAdjust(a,n))}return o},t.prototype.render=function(){return K("g",{className:"lf-bezier-adjust",children:this.selectedBezierEdge()})},t=_F([Mn],t),t}(ut),xF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),EF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},CF=function(e){xF(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var n=this.props.background;return K("div",{className:"lf-background",children:K("div",{style:zt(n)?n:{},className:"lf-background-area"})})},t=EF([Mn],t),t}(ut),SF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),NF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},nd=function(e){SF(t,e);function t(n){var r=e.call(this,n)||this;return r.id=ui(),r.gridOptions=r.props.graphModel.grid,r}return t.prototype.renderDot=function(){var n=this.gridOptions,r=n.config,o=n.size,i=o===void 0?1:o,a=n.visible,s=r??{},l=s.color,c=s.thickness,d=c===void 0?2:c,f=Math.min(Math.max(2,d),i/4),h=a?1:0;return K("g",{fill:l,opacity:h,children:[K("circle",{cx:0,cy:0,r:f/2}),K("circle",{cx:0,cy:i,r:f/2}),K("circle",{cx:i,cy:0,r:f/2}),K("circle",{cx:i,cy:i,r:f/2})]})},t.prototype.renderMesh=function(){var n=this.gridOptions,r=n.config,o=n.size,i=o===void 0?1:o,a=n.visible,s=r??{},l=s.color,c=s.thickness,d=c===void 0?1:c,f=Math.min(Math.max(1,d),i/2),h="M 0 0 H ".concat(i," V ").concat(i," H 0 Z"),p=a?1:0;return K("path",{d:h,stroke:l,strokeWidth:f/2,opacity:p,fill:"transparent"})},t.prototype.render=function(){var n=this.props.graphModel.transformModel,r=this.gridOptions,o=r.type,i=r.size,a=i===void 0?1:i,s=n.SCALE_X,l=n.SKEW_Y,c=n.SKEW_X,d=n.SCALE_Y,f=n.TRANSLATE_X,h=n.TRANSLATE_Y,p=[s,l,c,d,f,h].join(","),v="matrix(".concat(p,")");return K("div",{className:"lf-grid",children:K("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",children:[K("defs",{children:K("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:v,x:"0",y:"0",width:a,height:a,children:[o==="dot"&&this.renderDot(),o==="mesh"&&this.renderMesh()]})}),K("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})]})})},t=NF([Mn],t),t}(ut);(function(e){e.defaultProps={size:D9,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};function t(n){var r=Ye(e.defaultProps);return typeof n=="number"?wt(r,{size:n}):typeof n=="boolean"?wt(r,{visible:n}):wt(r,n)}e.getGridOptions=t})(nd||(nd={}));var OF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),AF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},MF=function(e){OF(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var n=this.props.graphModel.transformModel,r=n.getTransformStyle().transform,o=this.props.children;return K("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay",children:K("g",{transform:r,children:o})})},t=AF([Mn],t),t}(ut),TF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qo=function(){return Qo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qo.apply(this,arguments)},PF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},DF=function(e){TF(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getNodesOutline=function(){var n=this.props.graphModel,r=n.nodes,o=n.editConfigModel,i=o.hoverOutline,a=o.nodeSelectedOutline,s=[];return r.forEach(function(l){if(l.isHovered||l.isSelected){var c=l.isHovered,d=l.isSelected,f=l.x,h=l.y,p=l.width,v=l.height;if(a&&d||i&&c){var g=l.getOutlineStyle(),m={};if(Object.keys(g).forEach(function(_){_!=="hover"&&(m[_]=g[_])}),c){var y=g.hover;m=Qo(Qo({},m),y)}s.push(K(mr,Qo({transform:l.transform,className:"lf-outline-node",x:f,y:h,width:p+10,height:v+10},m)))}}}),s},t.prototype.getEdgeOutline=function(){for(var n=this.props.graphModel,r=n.edges,o=n.editConfigModel,i=o.edgeSelectedOutline,a=o.hoverOutline,s=[],l=0;l<r.length;l++){var c=r[l];(i&&c.isSelected||a&&c.isHovered)&&(c.modelType===ot.LINE_EDGE?s.push(this.getLineOutline(c)):c.modelType===ot.POLYLINE_EDGE?s.push(this.getPolylineOutline(c)):c.modelType===ot.BEZIER_EDGE&&s.push(this.getBezierOutline(c)))}return s},t.prototype.getLineOutline=function(n){var r=n.startPoint,o=n.endPoint,i=(r.x+o.x)/2,a=(r.y+o.y)/2,s=Math.abs(r.x-o.x)+10,l=Math.abs(r.y-o.y)+10,c=n.getOutlineStyle();return K(mr,Qo({className:"lf-outline-edge",x:i,y:a,width:s,height:l},c))},t.prototype.getPolylineOutline=function(n){var r=n.points,o=aa(r),i=ql(o,8),a=i.x,s=i.y,l=i.width,c=i.height,d=n.getOutlineStyle();return K(mr,Qo({className:"lf-outline",x:a,y:s,width:l,height:c},d))},t.prototype.getBezierOutline=function(n){var r=n.path,o=hm(r),i=ql(o,8),a=i.x,s=i.y,l=i.width,c=i.height,d=n.getOutlineStyle();return K(mr,Qo({className:"lf-outline",x:a,y:s,width:l,height:c},d))},t.prototype.render=function(){return K("g",{className:"lf-outline",children:[this.getNodesOutline(),this.getEdgeOutline()]})},t=PF([Mn],t),t}(ut),kF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ei=function(){return ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ei.apply(this,arguments)},RF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},LF=function(e){kF(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(){var n=this.props.snaplineModel,r=n??{},o=r.position,i=r.isShowHorizontal,a=r.isShowVertical,s=n==null?void 0:n.getStyle(),l=o??{},c=l.x,d=c===void 0?0:c,f=l.y,h=f===void 0?0:f,p=ei(ei({x1:-1e5,y1:h,x2:1e5,y2:h},s),{stroke:i?s==null?void 0:s.stroke:"none"}),v=ei(ei({x1:d,y1:-1e5,x2:d,y2:1e5},s),{stroke:a?s==null?void 0:s.stroke:"none"});return K("g",{className:"lf-snapline",children:[K(ls,ei({},p)),K(ls,ei({},v))]})},t=RF([Mn],t),t}(ut),$F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),BF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},IF=function(e){$F(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){this.triggerToolRender()},t.prototype.componentDidUpdate=function(){this.triggerToolRender()},t.prototype.getTools=function(){var n=this.props,r=n.tool,o=n.graphModel,i=o.textEditElement,a=r.getTools(),s=a.map(function(l){return U(l,{textEditElement:i,graphModel:o,lf:r.instance})});return r.components=s,s},t.prototype.triggerToolRender=function(){var n=this.props,r=n.tool,o=n.graphModel,i=document.querySelector("#ToolOverlay_".concat(o.flowId)),a=r.getInstance();a.components.forEach(function(s){return s(a,i)}),a.components=[]},t.prototype.render=function(){var n=this.props.graphModel;return K("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(n.flowId),children:this.getTools()})},t=BF([Mn],t),t}(ut),ti=function(){return ti=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ti.apply(this,arguments)},Re=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},jF=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},ur=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},VF=function(){function e(t){var n=this;this.modelMap=new Map,this.nodeModelMap=new Map,this.edgeModelMap=new Map,this.elementsModelMap=new Map,this.nodeMoveRules=[],this.nodeResizeRules=[],this.nodes=[],this.edges=[],this.overlapMode=Vr.DEFAULT,this.gridSize=1,this.partial=!1,this.waitCleanEffects=[];var r=t.container,o=t.partial,i=t.background,a=i===void 0?{}:i,s=t.grid,l=t.idGenerator,c=t.edgeGenerator,d=t.animation,f=t.customTrajectory;this.rootEl=r,this.partial=!!o,this.background=a,typeof s=="object"&&(this.gridSize=s.size||1),this.theme=kC(t.style),this.grid=nd.getGridOptions(s??!1),this.edgeType=t.edgeType||"polyline",this.animation=M9(d),this.overlapMode=t.overlapMode||Vr.DEFAULT,this.width=t.width||this.rootEl.getBoundingClientRect().width,this.height=t.height||this.rootEl.getBoundingClientRect().height;var h=new ResizeObserver(df(function(p){var v,g;try{for(var m=jF(p),y=m.next();!y.done;y=m.next()){var _=y.value;_.target===n.rootEl&&(n.resize(),n.eventCenter.emit("graph:resize",{target:n.rootEl,contentRect:_.contentRect}))}}catch(C){v={error:C}}finally{try{y&&!y.done&&(g=m.return)&&g.call(m)}finally{if(v)throw v.error}}},16));h.observe(this.rootEl),this.waitCleanEffects.push(function(){h.disconnect()}),this.eventCenter=new vF,this.editConfigModel=new hF(t),this.transformModel=new HF(this.eventCenter,t),this.flowId=ui(),this.idGenerator=l,this.edgeGenerator=Q9(this,c),this.customTrajectory=f}return Object.defineProperty(e.prototype,"nodesMap",{get:function(){return this.nodes.reduce(function(t,n,r){return t[n.id]={index:r,model:n},t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"edgesMap",{get:function(){return this.edges.reduce(function(t,n,r){return t[n.id]={index:r,model:n},t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modelsMap",{get:function(){return ur(ur([],nn(this.nodes),!1),nn(this.edges),!1).reduce(function(t,n){return t[n.id]=n,t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sortElements",{get:function(){for(var t=ur(ur([],nn(this.nodes),!1),nn(this.edges),!1).sort(function(s,l){return s.zIndex-l.zIndex}),n=[],r=[-Vu,-Vu],o=[this.width+Vu,this.height+Vu],i=0;i<t.length;i++){var a=t[i];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,o,!1,!1))&&n.push(a)}return n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textEditElement",{get:function(){var t=this.nodes.find(function(r){return r.state===gt.TEXT_EDIT}),n=this.edges.find(function(r){return r.state===gt.TEXT_EDIT});return t||n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectElements",{get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectNodes",{get:function(){var t=[];return this.nodes.forEach(function(n){n.isSelected&&t.push(n)}),t},enumerable:!1,configurable:!0}),e.prototype.getAreaElement=function(t,n,r,o,i){var a=this;r===void 0&&(r=!0),o===void 0&&(o=!0),i===void 0&&(i=!1);var s=[];return qe(ur(ur([],nn(this.nodes),!1),nn(this.edges),!1),function(l){var c=a.isElementInArea(l,t,n,r,o);(!i||l.visible)&&c&&s.push(l)}),s},e.prototype.getModel=function(t){return this.modelMap.get(t)},e.prototype.getNodeModelById=function(t){var n;return this.fakeNode&&t===this.fakeNode.id?this.fakeNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model},e.prototype.getPointByClient=function(t){var n=t.x,r=t.y,o=this.rootEl.getBoundingClientRect(),i={x:n-o.left,y:r-o.top},a=nn(this.transformModel.HtmlPointToCanvasPoint([i.x,i.y]),2),s=a[0],l=a[1],c={x:s,y:l};return{domOverlayPosition:i,canvasOverlayPosition:c}},e.prototype.isElementInArea=function(t,n,r,o,i){var a;if(o===void 0&&(o=!0),i===void 0&&(i=!0),t.BaseType===Wt.NODE){t=t;for(var s=Vn(t),l=s.minX,c=s.minY,d=s.maxX,f=s.maxY,h=[{x:l,y:c},{x:d,y:c},{x:d,y:f},{x:l,y:f}],p=i,v=0;v<h.length;v++){var g=h[v],m=g.x,y=g.y;if(a=nn(this.transformModel.CanvasPointToHtmlPoint([m,y]),2),m=a[0],y=a[1],jh([m,y],n,r)!==i){p=!i;break}}return p}if(t.BaseType===Wt.EDGE){t=t;var _=t.startPoint,C=t.endPoint,x=this.transformModel.CanvasPointToHtmlPoint([_.x,_.y]),S=this.transformModel.CanvasPointToHtmlPoint([C.x,C.y]),b=jh(x,n,r),w=jh(S,n,r);return o?b&&w:b||w}return!1},e.prototype.graphDataToModel=function(t){var n=this;if((!this.width||!this.height)&&this.resize(),!t){this.nodes=[],this.edges=[];return}if(t.nodes?this.nodes=An(t.nodes,function(o){return n.getModelAfterSnapToGrid(o)}):this.nodes=[],t.edges){var r=this.edgeType;this.edges=An(t.edges,function(o){var i,a=n.getModel((i=o.type)!==null&&i!==void 0?i:r);if(!a)throw new Error("找不到".concat(o.type,"对应的边。"));var s=new a(o,n),l=s.sourceNodeId,c=s.targetNodeId,d=s.sourceAnchorId,f=d===void 0?"":d,h=s.targetAnchorId,p=h===void 0?"":h,v=s.startPoint,g=s.endPoint,m=s.text,y=s.textPosition,_=function(X,te,E,P){var R=X==null?void 0:X.anchors.find(function($){return $.id===te});R&&!Gc(R,E)&&P(R)},C=n.getNodeModelById(l),x=n.getNodeModelById(c);if(_(C,f,v,s.updateStartPoint.bind(s)),_(x,p,g,s.updateEndPoint.bind(s)),m){var S=m.x,b=m.y,w=y.x,T=y.y;if(S&&b&&w&&T){var k=S-w,I=b-T;s.resetTextPosition(),s.moveText(k,I)}}return n.edgeModelMap.set(s.id,s),n.elementsModelMap.set(s.id,s),s})}else this.edges=[]},e.prototype.modelToGraphData=function(){var t=[];this.edges.forEach(function(r){var o=r.getData();o&&!r.virtual&&t.push(o)});var n=[];return this.nodes.forEach(function(r){var o=r.getData();o&&!r.virtual&&n.push(o)}),{nodes:n,edges:t}},e.prototype.modelToHistoryData=function(){for(var t=!1,n=[],r=0;r<this.nodes.length;r++){var o=this.nodes[r];if(o.isDragging){t=!0;break}else n.push(o.getHistoryData())}if(t)return!1;for(var i=!1,a=[],s=0;s<this.edges.length;s++){var l=this.edges[s];if(l.isDragging){i=!0;break}else a.push(l.getHistoryData())}return i?!1:{nodes:n,edges:a}},e.prototype.getEdgeModelById=function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model},e.prototype.getElement=function(t){return this.modelsMap[t]},e.prototype.getNodeEdges=function(t){for(var n=[],r=0;r<this.edges.length;r++){var o=this.edges[r],i=o.sourceNodeId===t,a=o.targetNodeId===t;(i||a)&&n.push(o)}return n},e.prototype.getSelectElements=function(t){t===void 0&&(t=!0);var n=this.selectElements,r={nodes:[],edges:[]};return n.forEach(function(o){if(o.BaseType===Wt.NODE&&r.nodes.push(o.getData()),o.BaseType===Wt.EDGE){var i=o.getData(),a=n.get(i.sourceNodeId)&&n.get(i.targetNodeId);(t||a)&&r.edges.push(i)}}),r},e.prototype.updateAttributes=function(t,n){var r=this.getElement(t);r==null||r.updateAttributes(n)},e.prototype.changeNodeId=function(t,n){return n||(n=ui()),this.nodesMap[n]?(console.warn("当前流程图已存在节点".concat(n,", 修改失败")),""):this.nodesMap[t]?(this.edges.forEach(function(r){r.sourceNodeId===t&&(r.sourceNodeId=n),r.targetNodeId===t&&(r.targetNodeId=n)}),this.nodesMap[t].model.id=n,this.nodesMap[n]=this.nodesMap[t],n):(console.warn("当前流程图找不到节点".concat(t,", 修改失败")),"")},e.prototype.changeEdgeId=function(t,n){return n||(n=ui()),this.edgesMap[n]?(console.warn("当前流程图已存在边: ".concat(n,", 修改失败")),""):this.edgesMap[t]?(this.edges.forEach(function(r){r.id===t&&r.changeEdgeId(n)}),n):(console.warn("当前流程图找不到边: ".concat(n,", 修改失败")),"")},e.prototype.getTextModel=function(t){var n=this.editConfigModel,r=n.textMode,o=n.nodeTextMode,i=n.edgeTextMode;if(t.BaseType===Wt.NODE)return t.textMode||o||r||xr.TEXT;if(t.BaseType===Wt.EDGE)return t.textMode||i||r||xr.TEXT},e.prototype.setTextMode=function(t,n){this.editConfigModel.updateEditConfig({textMode:t})},e.prototype.setFakeNode=function(t){this.fakeNode=t},e.prototype.removeFakeNode=function(){this.fakeNode=null},e.prototype.setModel=function(t,n){return this.modelMap.set(t,n)},e.prototype.toFront=function(t){var n,r,o,i=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((r=this.edgesMap[t])===null||r===void 0?void 0:r.model);i&&(this.overlapMode===Vr.DEFAULT&&((o=this.topElement)===null||o===void 0||o.setZIndex(),i.setZIndex(P9),this.topElement=i),this.overlapMode===Vr.INCREASE&&this.setElementZIndex(t,"top"))},e.prototype.setElementZIndex=function(t,n){var r,o,i=((r=this.nodesMap[t])===null||r===void 0?void 0:r.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(i){var a=void 0;typeof n=="number"?a=n:(n==="top"&&(a=gm()),n==="bottom"&&(a=Kz())),i.setZIndex(a)}},e.prototype.deleteNode=function(t){var n=this.nodesMap[t].model,r=n.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(Pe.NODE_DELETE,{data:r,model:n})},e.prototype.addNode=function(t,n,r){n===void 0&&(n=Pe.NODE_ADD);var o=wn(t),i=o.id;i&&this.nodesMap[i]&&delete o.id;var a=this.getModelAfterSnapToGrid(o);this.nodes.push(a);var s=a.getData(),l={data:s};return r&&(l.e=r),this.eventCenter.emit(n,l),a},e.prototype.getModelAfterSnapToGrid=function(t){var n=this.getModel(t.type);if(!n)throw new Error("找不到".concat(t.type,"对应的节点，请确认是否已注册此类型节点。"));var r=t.x,o=t.y;r&&o&&(t.x=as(r,this.gridSize),t.y=as(o,this.gridSize),typeof t.text=="object"&&t.text!==null&&(t.text.x+=t.x-r,t.text.y+=t.y-o));var i=new n(t,this);return this.nodeModelMap.set(i.id,i),this.elementsModelMap.set(i.id,i),i},e.prototype.cloneNode=function(t){var n=this.getNodeModelById(t),r=n==null?void 0:n.getData();if(r){r.x+=30,r.y+=30,r.id="",typeof r.text=="object"&&r.text!==null&&(r.text.x+=30,r.text.y+=30);var o=this.addNode(r);return o.setSelected(!0),n==null||n.setSelected(!1),o.getData()}},e.prototype.moveNode=function(t,n,r,o){var i;o===void 0&&(o=!1);var a=this.nodesMap[t];if(!a){console.warn("不存在id为".concat(t,"的节点"));return}var s=a.model;i=nn(s.getMoveDistance(n,r,o),2),n=i[0],r=i[1],this.moveEdge(t,n,r)},e.prototype.moveNode2Coordinate=function(t,n,r,o){o===void 0&&(o=!1);var i=this.nodesMap[t];if(!i){console.warn("不存在id为".concat(t,"的节点"));return}var a=i.model,s=a.x,l=a.y,c=n-s,d=r-l;this.moveNode(t,c,d,o)},e.prototype.editText=function(t){this.setElementStateById(t,gt.TEXT_EDIT)},e.prototype.addEdge=function(t){var n=wn(t),r=n.type;r||(r=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var o=this.getModel(r);if(!o)throw new Error("找不到".concat(r,"对应的边，请确认是否已注册此类型边。"));var i=new o(ti(ti({},n),{type:r}),this);this.edgeModelMap.set(i.id,i),this.elementsModelMap.set(i.id,i);var a=i.getData();return this.edges.push(i),this.eventCenter.emit(Pe.EDGE_ADD,{data:a}),i},e.prototype.moveEdge=function(t,n,r){for(var o=0;o<this.edges.length;o++){var i=this.edges[o],a=i.textPosition,s=a.x,l=a.y,c=this.edges[o].sourceNodeId===t,d=this.edges[o].targetNodeId===t;c&&i.moveStartPoint(n,r),d&&i.moveEndPoint(n,r),(c||d)&&this.handleEdgeTextMove(i,s,l)}},e.prototype.handleEdgeTextMove=function(t,n,r){var o;if(t.customTextPosition){t.resetTextPosition();return}if(t.modelType===ot.POLYLINE_EDGE&&(!((o=t.text)===null||o===void 0)&&o.value)){var i=t.text,a=SC(i,t.points);t.moveText(a.x-i.x,a.y-i.y)}var s=t.textPosition,l=s.x,c=s.y;t.moveText(l-n,c-r)},e.prototype.deleteEdgeBySourceAndTarget=function(t,n){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===t&&this.edges[r].targetNodeId===n){var o=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(Pe.EDGE_DELETE,{data:o})}},e.prototype.deleteEdgeById=function(t){var n=this.edgesMap[t];if(n){var r=this.edgesMap[t].index,o=this.edgesMap[t].model.getData();this.edges.splice(r,1),this.eventCenter.emit(Pe.EDGE_DELETE,{data:o})}},e.prototype.deleteEdgeBySource=function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Pe.EDGE_DELETE,{data:r})}},e.prototype.deleteEdgeByTarget=function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Pe.EDGE_DELETE,{data:r})}},e.prototype.setElementStateById=function(t,n,r){this.nodes.forEach(function(o){o.id===t?o.setElementState(n,r):o.setElementState(gt.DEFAULT)}),this.edges.forEach(function(o){o.id===t?o.setElementState(n,r):o.setElementState(gt.DEFAULT)})},e.prototype.updateText=function(t,n){var r=vi(ur(ur([],nn(this.nodes),!1),nn(this.edges),!1),function(o){return o.id===t});r==null||r.updateText(n)},e.prototype.selectNodeById=function(t,n){var r;n===void 0&&(n=!1),n||this.clearSelectElements();var o=(r=this.nodesMap[t])===null||r===void 0?void 0:r.model;o==null||o.setSelected(!0)},e.prototype.selectEdgeById=function(t,n){var r;n===void 0&&(n=!1),n||this.clearSelectElements();var o=(r=this.edgesMap[t])===null||r===void 0?void 0:r.model;o==null||o.setSelected(!0)},e.prototype.selectElementById=function(t,n){n===void 0&&(n=!1),n||this.clearSelectElements();var r=this.getElement(t);r==null||r.setSelected(!0)},e.prototype.clearSelectElements=function(){var t;this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Vr.DEFAULT&&((t=this.topElement)===null||t===void 0||t.setZIndex())},e.prototype.moveNodes=function(t,n,r,o){var i,a,s,l=this;o===void 0&&(o=!1);for(var c=t.reduce(function(C,x){var S,b=(S=l.nodesMap[x])===null||S===void 0?void 0:S.model;return b&&(C[x]=b.getMoveDistance(n,r,o)),C},{}),d=0;d<this.edges.length;d++){var f=this.edges[d],h=f.textPosition,p=h.x,v=h.y,g=c[f.sourceNodeId],m=c[f.targetNodeId],y=void 0,_=void 0;g&&m&&f.modelType===ot.POLYLINE_EDGE?(i=nn(g,2),y=i[0],_=i[1],f.updatePointsList(y,_)):(g&&(a=nn(g,2),y=a[0],_=a[1],f.moveStartPoint(y,_)),m&&(s=nn(m,2),y=s[0],_=s[1],f.moveEndPoint(y,_))),(g||m)&&this.handleEdgeTextMove(f,p,v)}},e.prototype.addNodeMoveRules=function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)},e.prototype.addNodeResizeRules=function(t){this.nodeResizeRules.includes(t)||this.nodeResizeRules.push(t)},e.prototype.setDefaultEdgeType=function(t){this.edgeType=t},e.prototype.changeNodeType=function(t,n){var r=this.getNodeModelById(t);if(!r){console.warn("找不到id为".concat(t,"的节点"));return}var o=r.getData();o.type=n;var i=this.getModel(n);if(!i)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));var a=new i(o,this);this.nodes.splice(this.nodesMap[t].index,1,a);var s=this.getNodeEdges(t);s.forEach(function(l){if(l.sourceNodeId===t){var c=tb(a,l.startPoint,a.width,a.height);l.updateStartPoint(c)}if(l.targetNodeId===t){var c=tb(a,l.endPoint,a.width,a.height);l.updateEndPoint(c)}})},e.prototype.changeEdgeType=function(t,n){var r=this.getEdgeModelById(t);if(!r){console.warn("找不到id为".concat(t,"的边"));return}if(r.type!==n){var o=r.getData();o.type=n;var i=this.getModel(n);if(!i)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));delete o.pointsList;var a=new i(o,this);this.edges.splice(this.edgesMap[t].index,1,a)}},e.prototype.getNodeIncomingEdge=function(t){var n=[];return this.edges.forEach(function(r){r.targetNodeId===t&&n.push(r)}),n},e.prototype.getNodeOutgoingEdge=function(t){var n=[];return this.edges.forEach(function(r){r.sourceNodeId===t&&n.push(r)}),n},e.prototype.getAnchorIncomingEdge=function(t){var n=[];return this.edges.forEach(function(r){r.targetAnchorId===t&&n.push(r)}),n},e.prototype.getAnchorOutgoingEdge=function(t){var n=[];return this.edges.forEach(function(r){r.sourceAnchorId===t&&n.push(r)}),n},e.prototype.getNodeIncomingNode=function(t){var n=this,r=[];return this.edges.forEach(function(o){var i;o.targetNodeId===t&&r.push((i=n.nodesMap[o.sourceNodeId])===null||i===void 0?void 0:i.model)}),r},e.prototype.getNodeOutgoingNode=function(t){var n=this,r=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&r.push(n.nodesMap[o.targetNodeId].model)}),r},e.prototype.setTheme=function(t){this.theme=Xz(ti(ti({},this.theme),t))},e.prototype.updateGridOptions=function(t){is(this.grid,t)},e.prototype.updateBackgroundOptions=function(t){Wc(t)||Wc(this.background)?this.background=t:this.background=ti(ti({},this.background),t)},e.prototype.resize=function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("渲染画布的时候无法获取画布宽高，请确认在container已挂载到DOM。@see https://github.com/didi/LogicFlow/issues/675")},e.prototype.clearData=function(){this.nodes=[],this.edges=[]},e.prototype.getVirtualRectSize=function(){var t=this.nodes,n=[],r=[];t.forEach(function(h){var p=h.x,v=h.y,g=h.width,m=h.height,y=h.getNodeStyle().strokeWidth,_=y===void 0?0:y,C=p+g/2+_,x=p-g/2-_,S=v+m/2+_,b=v-m/2-_;n=n.concat([C,x].filter(function(w){return!Number.isNaN(w)})),r=r.concat([S,b].filter(function(w){return!Number.isNaN(w)}))});var o=Math.min.apply(Math,ur([],nn(n),!1)),i=Math.max.apply(Math,ur([],nn(n),!1)),a=Math.min.apply(Math,ur([],nn(r),!1)),s=Math.max.apply(Math,ur([],nn(r),!1)),l=i-o||0,c=s-a||0,d=o+l/2,f=a+c/2;return{width:l,height:c,x:d,y:f}},e.prototype.translateCenter=function(){var t=this,n=t.nodes,r=t.width,o=t.height,i=t.rootEl,a=t.transformModel;if(n.length){var s=r||i.clientWidth,l=o||i.clientHeight,c=this.getVirtualRectSize(),d=c.x,f=c.y;a.focusOn(d,f,s,l)}},e.prototype.fitView=function(t,n){t===void 0&&(t=20),n===void 0&&(n=20);var r=this,o=r.nodes,i=r.width,a=r.height,s=r.rootEl,l=r.transformModel;if(o.length){var c=i||s.clientWidth,d=a||s.clientHeight,f=this.getVirtualRectSize(),h=f.width,p=f.height,v=f.x,g=f.y,m=(h+n)/c,y=(p+t)/d,_=1/Math.max(m,y),C=[c/2,d/2];l.zoom(_,C),l.focusOn(v,g,c,d)}},e.prototype.openEdgeAnimation=function(t){var n=this.getEdgeModelById(t);n==null||n.openEdgeAnimation()},e.prototype.closeEdgeAnimation=function(t){var n=this.getEdgeModelById(t);n==null||n.closeEdgeAnimation()},e.prototype.getPartial=function(){return this.partial},e.prototype.setPartial=function(t){this.partial=t},e.prototype.destroy=function(){try{this.waitCleanEffects.forEach(function(t){t()})}catch(t){console.warn("error on destroy GraphModel",t)}this.waitCleanEffects.length=0},Re([ee],e.prototype,"width",void 0),Re([ee],e.prototype,"height",void 0),Re([ee],e.prototype,"grid",void 0),Re([ee],e.prototype,"edgeType",void 0),Re([ee],e.prototype,"nodes",void 0),Re([ee],e.prototype,"edges",void 0),Re([ee],e.prototype,"fakeNode",void 0),Re([ee],e.prototype,"overlapMode",void 0),Re([ee],e.prototype,"background",void 0),Re([ee],e.prototype,"gridSize",void 0),Re([ee],e.prototype,"transformModel",void 0),Re([ee],e.prototype,"editConfigModel",void 0),Re([ee],e.prototype,"partial",void 0),Re([Pt],e.prototype,"nodesMap",null),Re([Pt],e.prototype,"edgesMap",null),Re([Pt],e.prototype,"modelsMap",null),Re([Pt],e.prototype,"sortElements",null),Re([Pt],e.prototype,"textEditElement",null),Re([Pt],e.prototype,"selectElements",null),Re([Pt],e.prototype,"selectNodes",null),Re([Z],e.prototype,"setTextMode",null),Re([Z],e.prototype,"setFakeNode",null),Re([Z],e.prototype,"removeFakeNode",null),Re([Z],e.prototype,"setModel",null),Re([Z],e.prototype,"toFront",null),Re([Z],e.prototype,"setElementZIndex",null),Re([Z],e.prototype,"deleteNode",null),Re([Z],e.prototype,"addNode",null),Re([Z],e.prototype,"cloneNode",null),Re([Z],e.prototype,"moveNode",null),Re([Z],e.prototype,"moveNode2Coordinate",null),Re([Z],e.prototype,"editText",null),Re([Z],e.prototype,"addEdge",null),Re([Z],e.prototype,"moveEdge",null),Re([Z],e.prototype,"deleteEdgeBySourceAndTarget",null),Re([Z],e.prototype,"deleteEdgeById",null),Re([Z],e.prototype,"deleteEdgeBySource",null),Re([Z],e.prototype,"deleteEdgeByTarget",null),Re([Z],e.prototype,"setElementStateById",null),Re([Z],e.prototype,"updateText",null),Re([Z],e.prototype,"selectNodeById",null),Re([Z],e.prototype,"selectEdgeById",null),Re([Z],e.prototype,"selectElementById",null),Re([Z],e.prototype,"clearSelectElements",null),Re([Z],e.prototype,"moveNodes",null),Re([Z],e.prototype,"setDefaultEdgeType",null),Re([Z],e.prototype,"changeNodeType",null),Re([Z],e.prototype,"changeEdgeType",null),Re([Z],e.prototype,"getNodeIncomingEdge",null),Re([Z],e.prototype,"getNodeOutgoingEdge",null),Re([Z],e.prototype,"getAnchorIncomingEdge",null),Re([Z],e.prototype,"getAnchorOutgoingEdge",null),Re([Z],e.prototype,"getNodeIncomingNode",null),Re([Z],e.prototype,"getNodeOutgoingNode",null),Re([Z],e.prototype,"setTheme",null),Re([Z],e.prototype,"resize",null),Re([Z],e.prototype,"clearData",null),Re([Z],e.prototype,"translateCenter",null),Re([Z],e.prototype,"fitView",null),Re([Z],e.prototype,"openEdgeAnimation",null),Re([Z],e.prototype,"closeEdgeAnimation",null),Re([Z],e.prototype,"setPartial",null),e}(),Vi=function(){return Vi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vi.apply(this,arguments)},Us=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},zF=function(){function e(t){this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}return e.prototype.getStyle=function(){return Vi({},this.graphModel.theme.snapline)},e.prototype.getCenterSnapLine=function(t,n){for(var r=t.x,o=t.y,i=!1,a=!1,s=0;s<n.length;s++){var l=n[s];if(l.id!==t.id&&(r===l.x&&(i=!0),o===l.y&&(a=!0),i&&a))break}return{isShowVertical:i,isShowHorizontal:a,position:{x:r,y:o}}},e.prototype.getHorizontalSnapline=function(t,n){var r=!1,o=0,i=t.id,a;if(i){var s=this.graphModel.fakeNode;if(s&&s.id===i)a=Vn(s);else{var l=this.graphModel.getNodeModelById(i);l&&(a=Vn(l))}}for(var c=0;c<n.length;c++){var d=n[c];if(d.id!==t.id){var f=Vn(d);if(f.minY===(a==null?void 0:a.minY)||f.maxY===(a==null?void 0:a.minY)){r=!0,o=a.minY;break}if(f.minY===(a==null?void 0:a.maxY)||f.maxY===(a==null?void 0:a.maxY)){r=!0,o=a.maxY;break}}}return{isShowHorizontal:r,isShowVertical:this.isShowVertical,position:Vi(Vi({},this.position),{y:o})}},e.prototype.getVerticalSnapline=function(t,n){var r=!1,o=0,i=t.id,a;if(i){var s=this.graphModel.fakeNode;if(s&&s.id===i)a=Vn(s);else{var l=this.graphModel.getNodeModelById(i);l&&(a=Vn(l))}}for(var c=0;c<n.length;c++){var d=n[c];if(d.id!==t.id){var f=Vn(d);if(f.minX===(a==null?void 0:a.minX)||f.maxX===(a==null?void 0:a.minX)){r=!0,o=a.minX;break}if(f.minX===(a==null?void 0:a.maxX)||f.maxX===(a==null?void 0:a.maxX)){r=!0,o=a.maxX;break}}}return{isShowHorizontal:this.isShowHorizontal,isShowVertical:r,position:Vi(Vi({},this.position),{x:o})}},e.prototype.getSnapLinePosition=function(t,n){var r=this.getCenterSnapLine(t,n),o=r.isShowHorizontal,i=r.isShowVertical;if(!o){var a=this.getHorizontalSnapline(t,n);a.isShowHorizontal&&(r.isShowHorizontal=a.isShowHorizontal,r.position.y=a.position.y)}if(!i){var s=this.getVerticalSnapline(t,n);s.isShowVertical&&(r.isShowVertical=s.isShowVertical,r.position.x=s.position.x)}return r},e.prototype.setSnaplineInfo=function(t){var n=t.isShowHorizontal,r=t.isShowVertical,o=t.position;this.position=o,this.isShowHorizontal=n,this.isShowVertical=r},e.prototype.clearSnapline=function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1},e.prototype.setNodeSnapLine=function(t){var n=this.graphModel.nodes,r=this.getSnapLinePosition(t,n);this.setSnaplineInfo(r)},Us([ee],e.prototype,"isShowHorizontal",void 0),Us([ee],e.prototype,"isShowVertical",void 0),Us([ee],e.prototype,"position",void 0),Us([Z],e.prototype,"clearSnapline",null),Us([Z],e.prototype,"setNodeSnapLine",null),e}(),kr=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Pa=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},FF={false:[-1/0,-1/0,1/0,1/0],true:[-1/0,-1/0,1/0,1/0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},HF=function(){function e(t,n){this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,this.SCALE_X=1,this.SKEW_Y=0,this.SKEW_X=0,this.SCALE_Y=1,this.TRANSLATE_X=0,this.TRANSLATE_Y=0,this.ZOOM_SIZE=.04,this.translateLimitMinX=-1/0,this.translateLimitMinY=-1/0,this.translateLimitMaxX=1/0,this.translateLimitMaxY=1/0,this.eventCenter=t;var r=n.stopMoveGraph,o=r===void 0?!1:r;this.updateTranslateLimits(o)}return e.prototype.setZoomMiniSize=function(t){this.MINI_SCALE_SIZE=t},e.prototype.setZoomMaxSize=function(t){this.MAX_SCALE_SIZE=t},e.prototype.HtmlPointToCanvasPoint=function(t){var n=Pa(t,2),r=n[0],o=n[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(o-this.TRANSLATE_Y)/this.SCALE_Y]},e.prototype.CanvasPointToHtmlPoint=function(t){var n=Pa(t,2),r=n[0],o=n[1];return[r*this.SCALE_X+this.TRANSLATE_X,o*this.SCALE_Y+this.TRANSLATE_Y]},e.prototype.moveCanvasPointByHtml=function(t,n,r){var o=Pa(t,2),i=o[0],a=o[1];return[i+n/this.SCALE_X,a+r/this.SCALE_Y]},e.prototype.fixDeltaXY=function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]},e.prototype.getTransformStyle=function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}},e.prototype.zoom=function(t,n){t===void 0&&(t=!1);var r=this.SCALE_X,o=this.SCALE_Y;return typeof t=="number"?(r=t,o=t):t?(r+=this.ZOOM_SIZE,o+=this.ZOOM_SIZE):(r-=this.ZOOM_SIZE,o-=this.ZOOM_SIZE),r<this.MINI_SCALE_SIZE||r>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(r-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(o-this.SCALE_Y)*n[1]),this.SCALE_X=r,this.SCALE_Y=o,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))},e.prototype.emitGraphTransform=function(t){this.eventCenter.emit(Pe.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})},e.prototype.resetZoom=function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")},e.prototype.translate=function(t,n){this.TRANSLATE_X+t<=this.translateLimitMaxX&&this.TRANSLATE_X+t>=this.translateLimitMinX&&(this.TRANSLATE_X+=t),this.TRANSLATE_Y+n<=this.translateLimitMaxY&&this.TRANSLATE_Y+n>=this.translateLimitMinY&&(this.TRANSLATE_Y+=n),this.emitGraphTransform("translate")},e.prototype.focusOn=function(t,n,r,o){var i=Pa(this.CanvasPointToHtmlPoint([t,n]),2),a=i[0],s=i[1],l=Pa([r/2-a,o/2-s],2),c=l[0],d=l[1];this.TRANSLATE_X+=c,this.TRANSLATE_Y+=d,this.emitGraphTransform("focusOn")},e.prototype.updateTranslateLimits=function(t){var n;n=Pa(Array.isArray(t)&&t.length===4?t:FF[t.toString()],4),this.translateLimitMinX=n[0],this.translateLimitMinY=n[1],this.translateLimitMaxX=n[2],this.translateLimitMaxY=n[3]},kr([ee],e.prototype,"SCALE_X",void 0),kr([ee],e.prototype,"SKEW_Y",void 0),kr([ee],e.prototype,"SKEW_X",void 0),kr([ee],e.prototype,"SCALE_Y",void 0),kr([ee],e.prototype,"TRANSLATE_X",void 0),kr([ee],e.prototype,"TRANSLATE_Y",void 0),kr([ee],e.prototype,"ZOOM_SIZE",void 0),kr([Z],e.prototype,"zoom",null),kr([Z],e.prototype,"resetZoom",null),kr([Z],e.prototype,"translate",null),kr([Z],e.prototype,"focusOn",null),e}(),WF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),GF=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},XF=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},UF=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},YF=function(e){WF(t,e);function t(){var n=e.apply(this,UF([],XF(arguments),!1))||this;return n.handleResize=function(){n.props.graphModel.resize()},n.throttleResize=function(){return fC(n.handleResize,200)},n}return t.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttleResize)},t.prototype.componentDidUpdate=function(){var n=this.props.graphModel.modelToGraphData();this.props.graphModel.eventCenter.emit(Pe.GRAPH_UPDATED,{data:n})},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.throttleResize)},t.prototype.getComponent=function(n,r,o){o===void 0&&(o="canvas-overlay");var i=this.props.getView,a=i(n.type);return a?K(a,{model:n,graphModel:r,overlay:o},n.id):null},t.prototype.render=function(){var n=this,r=this.props,o=r.graphModel,i=r.tool,a=r.options,s=r.dnd,l=r.snaplineModel,c={};a.width&&(c.width="".concat(o.width,"px")),a.height&&(c.height="".concat(o.height,"px"));var d=o.fakeNode,f=o.editConfigModel,h=o.background,p=f.adjustEdge;return K("div",{className:"lf-graph","flow-id":o.flowId,style:c,children:[K(yF,{graphModel:o,dnd:s,children:[K("g",{className:"lf-base",children:An(o.sortElements,function(v){return n.getComponent(v,o)})}),d?this.getComponent(d,o):""]}),K(MF,{graphModel:o,children:[K(DF,{graphModel:o}),p?K(wF,{graphModel:o}):"",a.snapline!==!1?K(LF,{snaplineModel:l}):""]}),K(IF,{graphModel:o,tool:i}),h&&K(CF,{background:h}),K(nd,{graphModel:o})]})},t=GF([Mn],t),t}(ut),KF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lo=function(){return lo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lo.apply(this,arguments)},qF=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},ZF=function(e){KF(t,e);function t(){var n=e.call(this)||this;return n.onDragStart=function(r){var o=r.event,i=n.props,a=i.anchorData,s=i.nodeModel,l=i.graphModel;l.selectNodeById(s.id),s.autoToFront&&l.toFront(s.id),l.eventCenter.emit(Pe.ANCHOR_DRAGSTART,{data:a,e:o,nodeModel:s}),n.setState({startX:a.x,startY:a.y,endX:a.x,endY:a.y})},n.onDragging=function(r){var o=r.event,i=n.props,a=i.graphModel,s=i.nodeModel,l=i.anchorData,c=a.transformModel,d=a.eventCenter,f=a.width,h=a.height,p=a.editConfigModel,v=p.autoExpand,g=p.stopMoveGraph;if(o){var m=o.clientX,y=o.clientY,_=a.getPointByClient({x:m,y}),C=_.domOverlayPosition,x=C.x,S=C.y,b=_.canvasOverlayPosition,w=b.x,T=b.y;n.t&&Qc(n.t);var k=[],I=10;x<10?k=[I,0]:x+10>f?k=[-I,0]:S<10?k=[0,I]:S+10>h&&(k=[0,-I]),n.setState({endX:w,endY:T,dragging:!0}),n.moveAnchorEnd(w,T),k.length>0&&!g&&v&&(n.t=MC(function(){var X=qF(k,2),te=X[0],E=X[1];c.translate(te,E);var P=n.state,R=P.endX,$=P.endY;n.setState({endX:R-te,endY:$-E}),n.moveAnchorEnd(R-te,$-E)})),d.emit(Pe.ANCHOR_DRAG,{data:l,e:o,nodeModel:s})}},n.onDragEnd=function(r){var o=r.event;n.t&&Qc(n.t);var i=n.checkEnd(o);n.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,s=a.graphModel,l=a.nodeModel,c=a.anchorData;s.eventCenter.emit(Pe.ANCHOR_DRAGEND,{data:c,e:o,nodeModel:l,edgeModel:i??void 0})},n.checkEnd=function(r){var o,i=n.props,a=i.graphModel,s=i.nodeModel,l=i.anchorData,c=l.x,d=l.y,f=l.id,h=n.state,p=h.endX,v=h.endY,g=h.dragging,m=Jc({x:p,y:v},a);if(n.preTargetNode&&n.preTargetNode.state!==gt.DEFAULT&&n.preTargetNode.setElementState(gt.DEFAULT),!!g&&m&&m.node){var y=m.node,_=m.anchor.id,C="".concat(s.id,"_").concat(y.id,"_").concat(_,"_").concat(f),x=n.sourceRuleResults.get(C)||{},S=x.isAllPass,b=x.msg,w=n.targetRuleResults.get(C)||{},T=w.isAllPass,k=w.msg;if(S&&T){y.setElementState(gt.DEFAULT);var I=a.getNodeModelById(m.node.id),X=(o=a.edgeGenerator)===null||o===void 0?void 0:o.call(a,s.getData(),I==null?void 0:I.getData()),te=a.addEdge(lo(lo({},X),{sourceNodeId:s.id,sourceAnchorId:f,startPoint:{x:c,y:d},targetNodeId:m.node.id,targetAnchorId:m.anchor.id,endPoint:{x:m.anchor.x,y:m.anchor.y}})),E=n.props.anchorData;return a.eventCenter.emit(Pe.ANCHOR_DROP,{data:E,e:r,nodeModel:s,edgeModel:te}),te}var P=y.getData();return a.eventCenter.emit(Pe.CONNECTION_NOT_ALLOWED,{data:P,msg:k||b||"不允许添加连线"}),null}},n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},n.dragHandler=new Tr({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return t.prototype.getAnchorShape=function(){var n=this.props,r=n.anchorData,o=n.style,i=n.node,a=i.getAnchorShape(r);if(a)return a;var s=r.x,l=r.y,c=lo(lo({},o),o==null?void 0:o.hover);return K("g",{children:[K(us,lo({className:"lf-node-anchor-hover"},c,{x:s,y:l})),K(us,lo({className:"lf-node-anchor"},o,{x:s,y:l}))]})},Object.defineProperty(t.prototype,"customTrajectory",{get:function(){var n=this.props.graphModel.customTrajectory;return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"relateEdges",{get:function(){var n=this.props,r=n.graphModel,o=r.getAnchorIncomingEdge,i=r.getAnchorOutgoingEdge,a=n.anchorData.id;return{incomingEdgeList:o(a),outgoingEdgeList:i(a)}},enumerable:!1,configurable:!0}),t.prototype.moveAnchorEnd=function(n,r){var o,i,a=this.props,s=a.graphModel,l=a.nodeModel,c=a.anchorData,d=Jc({x:n,y:r},s);if(d){var f=d.node,h=d.anchor.id;if(this.preTargetNode&&this.preTargetNode!==d.node&&this.preTargetNode.setElementState(gt.DEFAULT),c.id===h)return;this.preTargetNode=f;var p="".concat(l.id,"_").concat(f.id,"_").concat(h,"_").concat(c.id);if(!this.targetRuleResults.has(p)){var v=d.anchor,g=l.isAllowConnectedAsSource(f,c,v),m=f.isAllowConnectedAsTarget(l,c,v);this.sourceRuleResults.set(p,ss(g)),this.targetRuleResults.set(p,ss(m))}var y=((o=this.sourceRuleResults.get(p))!==null&&o!==void 0?o:{}).isAllPass,_=((i=this.targetRuleResults.get(p))!==null&&i!==void 0?i:{}).isAllPass;y&&_?f.setElementState(gt.ALLOW_CONNECT):f.setElementState(gt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==gt.DEFAULT&&this.preTargetNode.setElementState(gt.DEFAULT)},t.prototype.isShowLine=function(){var n=this.state,r=n.startX,o=n.startY,i=n.endX,a=n.endY,s=zr(r,o,i,a);return s>10},t.prototype.render=function(){var n=this,r=this.state,o=r.startX,i=r.startY,a=r.endX,s=r.endY,l=this.props,c=l.anchorData.edgeAddable,d=l.edgeStyle;return K("g",{className:"lf-anchor",children:[K("g",{onMouseDown:function(f){c!==!1&&n.dragHandler.handleMouseDown(f)},children:this.getAnchorShape()}),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(lo({sourcePoint:{x:o,y:i},targetPoint:{x:a,y:s}},d)):K(ls,lo({x1:o,y1:i,x2:a,y2:s},d,{"pointer-events":"none"})))]})},t}(ut),JF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sv=function(){return sv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},sv.apply(this,arguments)},QF=function(e){JF(t,e);function t(n){var r=e.call(this,n)||this;return r.style={},r.onDragging=function(o){var i,a=o.event,s=r.props,l=s.graphModel,c=s.nodeModel,d=s.eventCenter,f=l.selectNodes,h=c.x,p=c.y,v=a.clientX,g=a.clientY,m=l.getPointByClient({x:v,y:g}).canvasOverlayPosition,y=m.x,_=m.y,C=new fn(y-h,_-p),x=((i=r.normal)===null||i===void 0?void 0:i.angle(C))-r.defaultAngle,S=new Ef(-h,-p).rotate(x).translate(h,p).toString();c.transform=S,c.rotate=x;var b=An(f,function(T){return T.id});b.indexOf(c.id)===-1&&(b=[c.id]);var w=iC(b,function(T,k){var I=l.getNodeModelById(k);return T[k]=I==null?void 0:I.getMoveDistance(0,0,!1),T},{});b.forEach(function(T){var k=l.getNodeEdges(T);k.forEach(function(I){if(w[I.sourceNodeId]){var X=l.getNodeModelById(I.sourceNodeId),te=X.anchors.find(function(E){return E.id===I.sourceAnchorId});I.updateStartPoint(te)}if(w[I.targetNodeId]){var X=l.getNodeModelById(I.targetNodeId),te=X.anchors.find(function(R){return R.id===I.targetAnchorId});I.updateEndPoint(te)}})}),d.emit(Pe.NODE_ROTATE,{e:a,model:c,data:c.getData()})},r.style=n.style,r.stepperDrag=new Tr({onDragging:r.onDragging}),r}return t.prototype.render=function(){var n=this,r=this.props.nodeModel,o=r.x,i=r.y,a=r.width,s=r.height,l=o+a/2+20,c=i-s/2-20;return this.normal=new fn(1,0),this.defaultAngle=this.normal.angle(new fn(l-o,c-i)),r.defaultAngle=this.defaultAngle,K("g",{className:"lf-rotate-control",children:K("g",{onMouseDown:function(d){n.stepperDrag.handleMouseDown(d)},children:K(us,sv({},this.style,{cx:l,cy:c}))})})},t}(ut),LC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(i=o(i,r(s)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var s in i)t.call(i,s)&&i[s]&&(a=o(a,s));return a}function o(i,a){return a?i?i+" "+a:i+a:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(LC);var eH=LC.exports;const lv=Vd(eH);var tH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uv=function(){return uv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},uv.apply(this,arguments)},nH=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},$C=function(e){tH(t,e);function t(n){var r=e.call(this)||this;r.mouseDownHandler=function(i){var a=r.props,s=a.draggable,l=a.model,c=a.graphModel,d=c.editConfigModel.nodeTextDraggable;(s??d)&&(r.stepperDrag.model=l,r.stepperDrag.handleMouseDown(i))},r.onDragging=function(i){var a=i.deltaX,s=i.deltaY,l=r.props,c=l.model,d=l.graphModel.transformModel;if(a||s){var f=nH(d.fixDeltaXY(a,s),2),h=f[0],p=f[1];c.moveText(h,p)}},r.dbClickHandler=function(){var i=r.props,a=i.editable,s=i.graphModel.eventCenter,l=i.model;a&&l.setElementState(gt.TEXT_EDIT),s.emit(Pe.TEXT_DBCLICK,{data:l.text,model:l})};var o=n.draggable;return r.stepperDrag=new Tr({onDragging:r.onDragging,step:1,eventType:"TEXT",isStopPropagation:o}),r}return t.prototype.getShape=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=r.text,s=a.value,l=a.x,c=a.y,d=a.editable,f=a.draggable,h={x:l,y:c,className:"",value:s},p=r.getTextStyle(),v=i.nodeTextDraggable||f;return K(TC,uv({},h,p,{className:lv({"lf-element-text":d,"lf-text-draggable":!d&&v,"lf-text-disabled":!d&&!v}),model:r}))},t.prototype.render=function(){var n=this.props.model.text;if(n)return K("g",{onMouseDown:this.mouseDownHandler,onDblClick:this.dbClickHandler,children:this.getShape()})},t}(ut),rH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rr=function(){return Rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rr.apply(this,arguments)},Zu=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},oH=function(e){rH(t,e);function t(n){var r=e.call(this,n)||this;return r.setHoverOn=function(){r.setState({isHovered:!0})},r.setHoverOff=function(){r.setState({isHovered:!1})},r.state={isHovered:!1},r}return t.prototype.getBackground=function(){var n=this.state.isHovered,r=this.props.model,o=r.text,i=r.getTextStyle(),a=i.background||{};if(n&&i.hover&&i.hover.background&&(a=Rr(Rr({},a),i.hover.background)),o!=null&&o.value&&(a==null?void 0:a.fill)!=="transparent"){var s=i.fontSize,l=i.textWidth,c=i.lineHeight,d=i.overflowMode,f=a.wrapPadding,h=o==null?void 0:o.value.split(/[\r\n]/g),p=h.length,v=o.x,g=o.y,m={};if(d==="autoWrap"&&l){var y=AC({rows:h,style:{fontSize:"".concat(s,"px"),width:"".concat(l,"px"),lineHeight:c,padding:f},rowsLength:p,className:"lf-get-text-height"});m=Rr(Rr({},a),{x:v,y:g,width:l,height:y})}else{var _=ez({rows:h,rowsLength:p,fontSize:s}),C=_.width,x=_.height;if(d==="ellipsis"&&(C=l,x=s+2),typeof a.wrapPadding=="string"){var S=a.wrapPadding.split(",").filter(function(be){return be.trim()}).map(function(be){return parseFloat(be.trim())});if(S.length>0&&S.length<=4){if(S.length===1){var b=Zu(S,1),w=b[0];S=[w,w,w,w]}else if(S.length===2){var T=Zu(S,2),k=T[0],I=T[1];S=[k,I,k,I]}else if(S.length===3){var X=Zu(S,3),te=X[0],I=X[1],E=X[2];S=[te,I,E,I]}var P=Zu(S,4),R=P[0],$=P[1],Y=P[2],ie=P[3];C+=$+ie,x+=R+Y,v=v+($-ie)/2,g=g+(Y-R)/2}}m=Rr(Rr({},a),{x:v-1,y:g-1,width:C,height:x})}return K(mr,Rr({},m))}return null},t.prototype.getShape=function(){var n=this.props.model,r=n.text,o=r.x,i=r.y,a=r.value;if(!a)return null;var s=n.getTextStyle(),l=Rr({x:o,y:i,value:a,model:n,className:"lf-element-text"},s);return K("g",{className:"lf-line-text",onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,children:[this.getBackground(),K(TC,Rr({},l))]})},t}($C),iH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rd=function(){return rd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},rd.apply(this,arguments)},aH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Ju=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Oi=function(e){iH(t,e);function t(n){var r=e.call(this)||this;r.onDragStart=function(l){var c=l.event,d=r.props,f=d.model,h=d.graphModel;if(c){var p=h.getPointByClient({x:c.clientX,y:c.clientY}).canvasOverlayPosition,v=p.x,g=p.y;r.moveOffset={dx:f.x-v,dy:f.y-g}}},r.onDragging=function(l){var c,d,f,h,p=l.event,v=r.props,g=v.model,m=v.graphModel,y=m.editConfigModel,_=y.stopMoveGraph,C=y.autoExpand,x=m.transformModel,S=m.selectNodes,b=m.width,w=m.height,T=m.gridSize;g.isDragging=!0;var k=p,I=k.clientX,X=k.clientY,te=m.getPointByClient({x:I,y:X}).canvasOverlayPosition,E=te.x,P=te.y,R=Ju(x.CanvasPointToHtmlPoint([E,P]),2),$=R[0],Y=R[1];if(E=E+((d=(c=r.moveOffset)===null||c===void 0?void 0:c.dx)!==null&&d!==void 0?d:0),P=P+((h=(f=r.moveOffset)===null||f===void 0?void 0:f.dy)!==null&&h!==void 0?h:0),E=as(E,T),P=as(P,T),!b||!w){m.moveNode2Coordinate(g.id,E,P);return}var ie=$<0||Y<0||$>b||Y>w;if(!(C&&!_&&ie)){var be=Ju(x.CanvasPointToHtmlPoint([E-g.width/2,P-g.height/2]),2),ne=be[0],W=be[1],fe=Ju(x.CanvasPointToHtmlPoint([E+g.width/2,P+g.height/2]),2),ye=fe[0],_e=fe[1],Se=Math.max(T,20),L=[];ne<0?L=[Se,0]:ye>m.width?L=[-Se,0]:W<0?L=[0,Se]:_e>m.height&&(L=[0,-Se]),r.t&&Qc(r.t),g.transform=new Ef(-E,-P).rotate(g.rotate).translate(E,P).toString();var J=S.map(function(q){return q.id});J.indexOf(g.id)===-1&&(J=[g.id]),L.length>0&&!_&&C?r.t=MC(function(){var q=Ju(L,2),de=q[0],pe=q[1];x.translate(de??0,pe??0);var ue=-(de??0)/x.SCALE_X,Le=-(pe??0)/x.SCALE_X;m.moveNodes(J,ue,Le)}):m.moveNodes(J,E-g.x,P-g.y)}},r.onDragEnd=function(){r.t&&Qc(r.t);var l=r.props.model;l.isDragging=!1},r.onMouseOut=function(l){T9()&&r.setHoverOff(l)},r.handleMouseUp=function(){var l=r.props.model;r.mouseUpDrag=l.isDragging},r.handleClick=function(l){var c=r.mouseUpDrag===!1;if(r.startTime){var d=r.props,f=d.model,h=d.graphModel;if(c){var p=f.getData(),v=h.getPointByClient({x:l.clientX,y:l.clientY}),g={data:p,e:l,position:v,isSelected:!1,isMultiple:!1},m=l.button===2,y=l.detail===2;if(!m){var _=h.editConfigModel,C=NC(l,_);g.isMultiple=C,f.isSelected&&!y&&C?(g.isSelected=!1,f.setSelected(!1)):(h.selectNodeById(f.id,C),g.isSelected=!0,r.toFront()),y?(_.nodeTextEdit&&f.text.editable&&_.textMode===xr.TEXT&&(f.setSelected(!1),h.setElementStateById(f.id,gt.TEXT_EDIT)),h.eventCenter.emit(Pe.NODE_DBCLICK,g)):(h.eventCenter.emit(Pe.ELEMENT_CLICK,g),h.eventCenter.emit(Pe.NODE_CLICK,g))}}}},r.handleContextMenu=function(l){l.preventDefault();var c=r.props,d=c.model,f=c.graphModel,h=d.getData(),p=f.getPointByClient({x:l.clientX,y:l.clientY});f.setElementStateById(d.id,gt.SHOW_MENU,p.domOverlayPosition),d.isSelected||f.selectNodeById(d.id),f.eventCenter.emit(Pe.NODE_CONTEXTMENU,{data:h,e:l,position:p}),r.toFront()},r.handleMouseDown=function(l){var c=r.props,d=c.model,f=c.graphModel;r.startTime=new Date().getTime();var h=f.editConfigModel;h.adjustNodePosition&&d.draggable&&r.stepDrag&&r.stepDrag.handleMouseDown(l)},r.handleFocus=function(){var l=r.props,c=l.model,d=l.graphModel;d.eventCenter.emit(Pe.NODE_FOCUS,{data:c.getData()})},r.handleBlur=function(){var l=r.props,c=l.model,d=l.graphModel;d.eventCenter.emit(Pe.NODE_BLUR,{data:c.getData()})},r.setHoverOn=function(l){var c=r.props,d=c.model,f=c.graphModel;if(!d.isHovered){var h=d.getData();d.setHovered(!0),f.eventCenter.emit(Pe.NODE_MOUSEENTER,{data:h,e:l})}},r.setHoverOff=function(l){var c=r.props,d=c.model,f=c.graphModel,h=d.getData();d.isHovered&&(d.setHovered(!1),f.eventCenter.emit(Pe.NODE_MOUSELEAVE,{data:h,e:l}))};var o=n.graphModel,i=o.gridSize,a=o.eventCenter,s=n.model;return r.stepDrag=new Tr({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:i,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:s}),r.modelDisposer=Mw(function(){return r.props},function(l){l&&l.model&&r.stepDrag.setModel(l.model)}),r}return t.prototype.componentWillUnmount=function(){this.modelDisposer&&this.modelDisposer()},t.prototype.componentDidMount=function(){},t.prototype.componentDidUpdate=function(){},t.prototype.getAnchorShape=function(n){return null},t.prototype.getAnchors=function(){var n=this,r=this.props,o=r.model,i=r.graphModel,a=o.isSelected,s=o.isHitable,l=o.isDragging,c=o.isShowAnchor;return s&&(a||c)&&!l?An(o.anchors,function(d,f){var h=o.getAnchorLineStyle(d),p=o.getAnchorStyle(d);return K(ZF,{anchorData:d,node:n,style:p,edgeStyle:h,anchorIndex:f,nodeModel:o,graphModel:i,setHoverOff:n.setHoverOff})}):[]},t.prototype.getRotateControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.isSilentMode,s=i.allowRotate,l=r.isSelected,c=r.isHitable,d=r.rotatable,f=r.isHovered,h=s&&d,p=r.getRotateControlStyle();if(!a&&c&&(l||f)&&h)return K(QF,{graphModel:o,nodeModel:r,eventCenter:o.eventCenter,style:p})},t.prototype.getResizeControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.isSilentMode,s=i.allowResize,l=r.isSelected,c=r.isHitable,d=r.resizable,f=r.isHovered,h=s&&d,p=r.getResizeControlStyle();return!a&&c&&(l||f)&&h?K(Az,{style:p,model:r,graphModel:o}):null},t.prototype.getText=function(){var n,r=this.props,o=r.model,i=r.graphModel,a=i.editConfigModel;if(a.nodeTextMode!==xr.TEXT||o.state===gt.TEXT_EDIT)return null;if(o.text){var s=!1;return a.nodeTextDraggable&&o.text.draggable&&(s=!0),K($C,{editable:a.nodeTextEdit&&((n=o.text.editable)!==null&&n!==void 0?n:!0),model:o,graphModel:i,draggable:s})}return null},t.prototype.getStateClassName=function(){var n=this.props.model,r=n.state,o=n.isDragging,i=n.isSelected,a="lf-node";switch(r){case gt.ALLOW_CONNECT:a+=" lf-node-allow";break;case gt.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default";break}return o&&(a+=" lf-dragging"),i&&(a+=" lf-node-selected"),a},t.prototype.toFront=function(){var n=this.props,r=n.model,o=n.graphModel;r.autoToFront&&o.toFront(r.id)},t.prototype.render=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.hideAnchors,s=i.adjustNodePosition,l=i.allowRotate,c=i.allowResize,d=o.gridSize,f=o.transformModel.SCALE_X,h=r.isHitable,p=r.draggable,v=r.transform,g=r.getOuterGAttributes(),m=g.className,y=m===void 0?"":m,_=aH(g,["className"]),C=K("g",{className:"lf-node-content",children:[K("g",{transform:v,children:[this.getShape(),this.getText(),l&&this.getRotateControl(),c&&this.getResizeControl()]}),!a&&this.getAnchors()]}),x;return h?(s&&p&&this.stepDrag.setStep(d*f),x=K("g",rd({className:"".concat(this.getStateClassName()," ").concat(y),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu,onFocus:this.handleFocus,onBlur:this.handleBlur},_,{children:C}))):x=K("g",rd({className:"".concat(this.getStateClassName()," ").concat(y)},_,{children:C})),x},t.isObserved=!1,t}(ut),sH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cv=function(){return cv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cv.apply(this,arguments)},sa=function(e){sH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return K(mr,cv({},r,{x:n.x,y:n.y,width:n.width,height:n.height,radius:n.radius}))},t}(Oi),lH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dv=function(){return dv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},dv.apply(this,arguments)},od=function(e){lH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.r,a=n.getNodeStyle();return K(us,dv({},a,{x:r,y:o,r:i}))},t}(Oi),uH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),id=function(){return id=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},id.apply(this,arguments)},ad=function(e){uH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n,o=r.x,i=r.y,a=r.width,s=r.height,l=r.points,c=n.getNodeStyle(),d={transform:"matrix(1 0 0 1 ".concat(o-a/2," ").concat(i-s/2,")")};return K("g",id({},d,{children:K(vm,id({},c,{points:l,x:o,y:i}))}))},t}(Oi),cH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fv=function(){return fv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fv.apply(this,arguments)},hv=function(e){cH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return K("g",{children:K(vm,fv({},r,{points:n.points,x:n.x,y:n.y}))})},t}(Oi),dH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pv=function(){return pv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},pv.apply(this,arguments)},vv=function(e){dH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return K(wz,pv({},r,{x:n.x,y:n.y,rx:n.rx,ry:n.ry}))},t}(Oi),fH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ol=function(){return Ol=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ol.apply(this,arguments)},gv=function(e){fH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getBackground=function(){var n=this.props.model,r=n.getTextStyle(),o=n.width,i=n.height,a=n.x,s=n.y,l=Ol(Ol({},r.background),{x:a,y:s,width:o,height:i});return K(mr,Ol({},l))},t.prototype.getResizeControl=function(){return null},t.prototype.getShape=function(){return K("g",{children:this.getBackground()})},t}(Oi),hH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mv=function(){return mv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},mv.apply(this,arguments)},pH=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},vH=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},yv=function(e){hH(t,e);function t(){var n=e.apply(this,vH([],pH(arguments),!1))||this;return n.ref=Gd(),n}return Object.defineProperty(t.prototype,"rootEl",{get:function(){return this.ref.current},enumerable:!1,configurable:!0}),t.prototype.setHtml=function(n){n.appendChild(document.createElement("div"))},t.prototype.confirmUpdate=function(n){this.setHtml(n)},t.prototype.shouldUpdate=function(){return this.preProperties&&this.preProperties===this.currentProperties?!1:(this.preProperties=this.currentProperties,!0)},t.prototype.componentDidMount=function(){this.shouldUpdate()&&this.rootEl&&this.setHtml(this.rootEl)},t.prototype.componentDidUpdate=function(){this.shouldUpdate()&&this.rootEl&&this.confirmUpdate(this.rootEl)},t.prototype.componentWillUnmount=function(){this.rootEl.innerHTML=""},t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.height,a=n.width,s=n.getNodeStyle();return this.currentProperties=JSON.stringify(n.properties),K("foreignObject",mv({},s,{x:r-a/2,y:o-i/2,width:a,height:i,ref:this.ref}))},t}(Oi),gH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lr.apply(this,arguments)},mH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},yH=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},co;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(co||(co={}));var cb=function(e){gH(t,e);function t(n){var r=e.call(this)||this;r.handleMouseDown=function(l){r.stepDrag&&r.stepDrag.handleMouseDown(l)},r.onDragStart=function(){var l=r.props,c=l.x,d=l.y,f=l.edgeModel,h=f.startPoint,p=f.endPoint,v=f.pointsList;r.oldEdge={startPoint:h,endPoint:p,pointsList:v},r.setState({endX:c,endY:d,dragging:!0})},r.onDragging=function(l){var c=l.deltaX,d=l.deltaY,f=r.state,h=f.endX,p=f.endY,v=r.props,g=v.graphModel,m=v.type,y=g.transformModel,_=g.editConfigModel,C=yH(y.moveCanvasPointByHtml([h,p],c,d),2),x=C[0],S=C[1];r.setState({endX:x,endY:S,dragging:!0});var b=r.props.edgeModel,w=Jc({x:h,y:p},g);if(w&&w.node&&r.isAllowAdjust(w).pass){var T=b.startPoint,k=b.endPoint,I=b.sourceNode,X=b.targetNode,te=m===co.SOURCE?{startPoint:{x:w.anchor.x,y:w.anchor.y},endPoint:{x:k.x,y:k.y},sourceNode:w.node,targetNode:X}:{startPoint:{x:T.x,y:T.y},endPoint:{x:w.anchor.x,y:w.anchor.y},sourceNode:I,targetNode:w.node};b.updateAfterAdjustStartAndEnd(te)}else m===co.SOURCE?b.updateStartPoint({x,y:S}):b.updateEndPoint({x,y:S});b.text.value&&_.adjustEdge&&b.setText(Object.assign({},b.text,b.textPosition))},r.onDragEnd=function(l){var c,d,f,h=l.event;try{r.setState({dragging:!1});var p=r.props,v=p.graphModel,g=p.edgeModel,m=p.type,y=r.state,_=y.endX,C=y.endY,x=y.dragging,S=Jc({x:_,y:C},v);if(!x)return;var b=!1,w=void 0;if(S&&S.node){var T=r.isAllowAdjust(S),k=T.pass,I=T.msg,X=T.newTargetNode;if(k){var te=g.getData(),E=te.text,P=te.sourceAnchorId,R=P===void 0?"":P,$=te.targetAnchorId,Y=$===void 0?"":$,ie=mH(te,["text","sourceAnchorId","targetAnchorId"]);if(w=Lr(Lr({sourceAnchorId:R,targetAnchorId:Y},ie),{text:(E==null?void 0:E.value)||""}),m===co.SOURCE){var be=v.getNodeModelById(S.node.id),ne=v.getNodeModelById(g.targetNodeId),W=(c=v.edgeGenerator)===null||c===void 0?void 0:c.call(v,be==null?void 0:be.getData(),ne==null?void 0:ne.getData(),w);w=Lr(Lr({},W),{sourceNodeId:S.node.id,sourceAnchorId:S.anchor.id,startPoint:{x:S.anchor.x,y:S.anchor.y},targetNodeId:g.targetNodeId,endPoint:Lr({},g.endPoint)}),g.sourceNodeId===S.node.id&&g.sourceAnchorId===S.anchor.id&&(b=!0)}else if(m===co.TARGET){var be=v.getNodeModelById(g.sourceNodeId),ne=v.getNodeModelById(S.node.id),W=(d=v.edgeGenerator)===null||d===void 0?void 0:d.call(v,be==null?void 0:be.getData(),ne==null?void 0:ne.getData(),w);w=Lr(Lr({},W),{sourceNodeId:g.sourceNodeId,startPoint:Lr({},g.startPoint),targetNodeId:S.node.id,targetAnchorId:S.anchor.id,endPoint:{x:S.anchor.x,y:S.anchor.y}}),g.targetNodeId===S.node.id&&g.targetAnchorId===S.anchor.id&&(b=!0)}}else{b=!0;var fe=X.getData();v.eventCenter.emit(Pe.CONNECTION_NOT_ALLOWED,{data:fe,msg:I})}}else b=!0;if(b)r.recoveryEdge();else{var ye=g.getData();v.deleteEdgeById(g.id);var _e=v.addEdge(Lr({},w));v.eventCenter.emit(Pe.EDGE_EXCHANGE_NODE,{data:{newEdge:_e.getData(),oldEdge:ye}})}(f=r.preTargetNode)===null||f===void 0||f.setElementState(gt.DEFAULT)}finally{var v=r.props.graphModel;v.eventCenter.emit(Pe.ADJUST_POINT_DRAGEND,{e:h,data:r.stepDragData})}},r.recoveryEdge=function(){var l=r.props.edgeModel,c=r.oldEdge,d=c.startPoint,f=c.endPoint,h=c.pointsList;l.updateStartPoint(d),l.updateEndPoint(f),l.modelType!==ot.LINE_EDGE&&(l.pointsList=h??[],l.initPoints())},r.getAdjustPointStyle=function(){var l=r.props.graphModel.theme,c=l.edgeAdjust;return c},r.state={dragging:!1,endX:0,endY:0},r.targetRuleResults=new Map,r.sourceRuleResults=new Map;var o=n.type,i=n.edgeModel,a=n.graphModel,s=a.eventCenter;return r.stepDragData={type:o,edgeData:i.getData()},r.stepDrag=new Tr({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:s,data:r.stepDragData}),r}return t.prototype.isAllowAdjust=function(n){var r=this.props,o=r.edgeModel,i=o.id,a=o.sourceNode,s=o.targetNode,l=o.sourceAnchorId,c=o.targetAnchorId,d=r.type,f,h,p,v;if(d===co.SOURCE?(f=n.node,h=s,p=n.anchor,v=s.getAnchorInfo(c)):(f=a,h=n.node,v=n.anchor,p=a.getAnchorInfo(l)),this.preTargetNode&&this.preTargetNode!==n.node&&this.preTargetNode.setElementState(gt.DEFAULT),this.preTargetNode=n.node,v.id===p.id)return{pass:!1,msg:"",newTargetNode:h};var g="".concat(f.id,"_").concat(h.id,"_").concat(p.id,"_").concat(v.id);if(!this.targetRuleResults.has(g)){var m=f.isAllowConnectedAsSource(h,p,v,i),y=h.isAllowConnectedAsTarget(f,p,v,i);this.sourceRuleResults.set(g,ss(m)),this.targetRuleResults.set(g,ss(y))}var _=this.sourceRuleResults.get(g),C=_.isAllPass,x=_.msg,S=this.targetRuleResults.get(g),b=S.isAllPass,w=S.msg,T=C&&b?gt.ALLOW_CONNECT:gt.NOT_ALLOW_CONNECT;return d===co.SOURCE?f.setElementState(T):h.setElementState(T),{pass:C&&b,msg:w||x,newTargetNode:h}},t.prototype.render=function(){var n=this.props,r=n.x,o=n.y,i=n.getAdjustPointShape,a=n.edgeModel,s=this.state.dragging;return K("g",{pointerEvents:s?"none":"",onMouseDown:this.handleMouseDown,children:s?"":i(r,o,a)})},t}(ut),_H=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_v=function(){return _v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_v.apply(this,arguments)};(function(e){_H(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getArrowAttributes=function(){var n=this.props,r=n.arrowInfo,o=n.style,i=r.start,a=r.end,s={start:i,end:a,offset:o.offset,verticalLength:o.verticalLength,type:"end"},l=Kl(s),c=l.leftX,d=l.leftY,f=l.rightX,h=l.rightY;return _v({d:"M".concat(c," ").concat(d," L").concat(a.x," ").concat(a.y," L").concat(f," ").concat(h," z")},o)},t.prototype.getShape=function(){var n=this.getArrowAttributes(),r=n.d,o=n.strokeWidth,i=n.stroke,a=n.fill;return K(Jl,{d:r,fill:a,strokeWidth:o,stroke:i})},t.prototype.render=function(){return K("g",{className:"lf-arrow",children:this.getShape()})},t})(ut);var bH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Al=function(){return Al=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Al.apply(this,arguments)},wH=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Sf=function(e){bH(t,e);function t(){var n=e.call(this)||this;return n.textRef=Gd(),n.handleHover=function(r,o){var i=n.props,a=i.model,s=i.graphModel.eventCenter;a.setHovered(r);var l=r?Pe.EDGE_MOUSEENTER:Pe.EDGE_MOUSELEAVE,c=a.getData();s.emit(l,{data:c,e:o})},n.setHoverOn=function(r){var o=n.props.model.isHovered;o||(n.textRef&&n.textRef.current&&n.textRef.current.setHoverOn(),n.handleHover(!0,r))},n.setHoverOff=function(r){var o=n.props.model.isHovered;o&&(n.textRef&&n.textRef.current&&n.textRef.current.setHoverOff(),n.handleHover(!1,r))},n.handleContextMenu=function(r){r.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var o=n.props,i=o.model,a=o.graphModel,s=a.getPointByClient({x:r.clientX,y:r.clientY});a.setElementStateById(i.id,gt.SHOW_MENU,s.domOverlayPosition),n.toFront(),i.isSelected||a.selectEdgeById(i.id);var l=i==null?void 0:i.getData();a.eventCenter.emit(Pe.EDGE_CONTEXTMENU,{data:l,e:r,position:s})},n.handleMouseDown=function(r){r.stopPropagation(),n.startTime=new Date().getTime()},n.handleMouseUp=function(){var r=n.props.model;n.mouseUpDrag=r.isDragging},n.handleClick=function(r){if(n.startTime&&!n.mouseUpDrag){var o=r.button===2;if(!o){var i=r.detail===2,a=n.props,s=a.model,l=a.graphModel,c=s==null?void 0:s.getData(),d=l.getPointByClient({x:r.clientX,y:r.clientY});if(i){var f=l.editConfigModel,h=l.textEditElement,p=s.id,v=s.text,g=s.modelType;if(h&&h.id===p&&l.setElementStateById(p,gt.DEFAULT),f.edgeTextEdit&&v.editable&&(s.setSelected(!1),l.setElementStateById(p,gt.TEXT_EDIT)),g===ot.POLYLINE_EDGE){var m=s,y=l.getPointByClient({x:r.x,y:r.y}).canvasOverlayPosition,_=y.x,C=y.y;m.dbClickPosition=SC({x:_,y:C},m.points)}l.eventCenter.emit(Pe.EDGE_DBCLICK,{data:c,e:r,position:d})}else l.eventCenter.emit(Pe.ELEMENT_CLICK,{data:c,e:r,position:d}),l.eventCenter.emit(Pe.EDGE_CLICK,{data:c,e:r,position:d});var x=l.editConfigModel;l.selectEdgeById(s.id,NC(r,x)),n.toFront()}}},n.handleFocus=function(){var r=n.props,o=r.model,i=r.graphModel;i.eventCenter.emit(Pe.EDGE_FOCUS,{data:o.getData()})},n.handleBlur=function(){var r=n.props,o=r.model,i=r.graphModel;i.eventCenter.emit(Pe.EDGE_BLUR,{data:o.getData()})},n}return t.prototype.getShape=function(){return K("g",{children:this.getEdge()})},t.prototype.getTextStyle=function(){},t.prototype.getText=function(){var n,r=this.props,o=r.model,i=r.graphModel,a=i.editConfigModel;if(a.edgeTextMode!==xr.TEXT||o.state===gt.TEXT_EDIT)return null;if(o.text){var s=!1;return a.edgeTextDraggable&&o.text.draggable&&(s=!0),K(oH,{ref:this.textRef,editable:a.edgeTextEdit&&((n=o.text.editable)!==null&&n!==void 0?n:!0),model:o,graphModel:i,draggable:s})}return null},t.prototype.getArrowInfo=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint,i=n.isSelected,a=this.state.hover;return{start:r,end:o,hover:a,isSelected:i}},t.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint;return[r,o]},t.prototype.getArrowStyle=function(){return console.error("getArrowStyle is deprecated in 1.2.0, please use model.getArrowStyle"),null},t.prototype.getArrow=function(){var n=this.props.model,r=n.id,o=n.getArrowStyle(),i=o.refY,a=i===void 0?0:i,s=o.refX,l=s===void 0?2:s,c=wH(this.getLastTwoPoints(),2),d=c[0],f=c[1],h="auto";return d!==null&&f!==null&&(h=Wz(Hz({x:f.x-d.x,y:f.y-d.y,z:0}))),K("g",{children:K("defs",{children:[K("marker",{id:"marker-start-".concat(r),refX:-l,refY:a,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse",children:this.getStartArrow()}),K("marker",{id:"marker-end-".concat(r),refX:l,refY:a,overflow:"visible",orient:h,markerUnits:"userSpaceOnUse",children:this.getEndArrow()})]})})},t.prototype.getStartArrow=function(){return K("path",{})},t.prototype.getEndArrow=function(){var n=this.props.model,r=n.getArrowStyle(),o=r.stroke,i=r.strokeWidth,a=r.offset,s=r.verticalLength;return K("path",{stroke:o,fill:o,strokeWidth:i,transform:"rotate(180)",d:"M 0 0 L ".concat(a," -").concat(s," L ").concat(a," ").concat(s," Z")})},t.prototype.getAdjustPointShape=function(n,r,o){var i=o.getAdjustPointStyle();return K(us,Al({className:"lf-edge-adjust-point"},i,{x:n,y:r}))},t.prototype.getAdjustPoints=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.adjustEdgeStartAndEnd,s=i.adjustEdgeStart,l=i.adjustEdgeEnd,c=r.getAdjustStart(),d=r.getAdjustEnd();return K("g",{children:[a&&s&&K(cb,Al({type:co.SOURCE},c,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:o})),a&&l&&K(cb,Al({type:co.TARGET},d,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:o}))]})},t.prototype.getAnimation=function(){console.error("getAnimation is deprecated in 1.2.0, please use model.getEdgeAnimationStyle")},t.prototype.getAppendWidth=function(){return K("g",{})},t.prototype.getAppend=function(){return K("g",{className:"lf-edge-append",children:this.getAppendWidth()})},t.prototype.getEdge=function(){return null},t.prototype.toFront=function(){var n=this.props,r=n.graphModel,o=n.model;r.toFront(o.id)},t.prototype.render=function(){var n=this.props.model,r=n.isSelected,o=n.isHitable,i=n.isShowAdjustPoint;return K("g",{children:[K("g",{className:["lf-edge",!o&&"pointer-none",r&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverOn,onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,onFocus:this.handleFocus,onBlur:this.handleBlur,children:[this.getShape(),this.getAppend(),this.getText(),this.getArrow()]}),i&&r?this.getAdjustPoints():""]})},t.isObserved=!1,t}(ut),xH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bv=function(){return bv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bv.apply(this,arguments)},EH=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},wv=function(e){xH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEdge=function(){var n=this.props.model,r=n.getEdgeStyle(),o=n,i=o.path,a=o.isAnimation,s=o.arrowConfig,l=n.getEdgeAnimationStyle(),c=l.strokeDasharray,d=l.stroke,f=l.strokeDashoffset,h=l.animationName,p=l.animationDuration,v=l.animationIterationCount,g=l.animationTimingFunction,m=l.animationDirection;return K(Jl,bv({d:i},r,s,a?{strokeDasharray:c,stroke:d,style:{strokeDashoffset:f,animationName:h,animationDuration:p,animationIterationCount:v,animationTimingFunction:g,animationDirection:m}}:{}))},t.prototype.getAppendWidth=function(){var n=this.props.model.path;return K(Jl,{d:n,strokeWidth:10,stroke:"transparent",fill:"none"})},t.prototype.getArrowInfo=function(){var n=this.props.model,r=this.state.hover,o=n.isSelected,i=n.getArrowStyle().offset,a=n.pointsList.map(function(f){return{x:f.x,y:f.y}}),s=EH(K0(a,i),2),l=s[0],c=s[1],d={start:l,end:c,hover:r,isSelected:o};return d},t.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.getArrowStyle().offset,o=n.pointsList.map(function(i){return{x:i.x,y:i.y}});return K0(o,r)},t}(Sf),CH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xv=function(){return xv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xv.apply(this,arguments)},Ev=function(e){CH(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEdge=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint,i=n.isAnimation,a=n.arrowConfig,s=n.getEdgeStyle(),l=n.getEdgeAnimationStyle(),c=l.strokeDasharray,d=l.stroke,f=l.strokeDashoffset,h=l.animationName,p=l.animationDuration,v=l.animationIterationCount,g=l.animationTimingFunction,m=l.animationDirection;return K(ls,xv({},s,{x1:r.x,y1:r.y,x2:o.x,y2:o.y},a,i?{strokeDasharray:c,stroke:d,style:{strokeDashoffset:f,animationName:h,animationDuration:p,animationIterationCount:v,animationTimingFunction:g,animationDirection:m}}:{}))},t.prototype.getAppendWidth=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint,i={start:r,end:o},a=Z9(i),s=a.d,l=a.strokeWidth,c=a.fill,d=a.strokeDasharray,f=a.stroke;return K(Jl,{d:s,fill:c,strokeWidth:l,stroke:f,strokeDasharray:d})},t}(Sf),SH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zi=function(){return zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zi.apply(this,arguments)},NH=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},fs=function(e){SH(t,e);function t(){var n=e.call(this)||this;return n.onDragStart=function(){var r=n.props.model;r.dragAppendStart(),n.isShowAdjustPointTemp=r.isShowAdjustPoint,r.isShowAdjustPoint=!1},n.onDragging=function(r){var o=r.deltaX,i=r.deltaY,a=n.props,s=a.model,l=a.graphModel;n.isDragging=!0;var c=l.transformModel,d=l.editConfigModel,f=NH(c.fixDeltaXY(o,i),2),h=f[0],p=f[1],v=s,g=d.adjustEdgeMiddle;g?n.appendInfo=v.dragAppendSimple(n.appendInfo,{x:h,y:p}):n.appendInfo=v.dragAppend(n.appendInfo,{x:h,y:p})},n.onDragEnd=function(){var r,o=n.props,i=o.model,a=o.graphModel.eventCenter,s=i;s.dragAppendEnd(),n.isDragging=!1,s.isShowAdjustPoint=(r=n.isShowAdjustPointTemp)!==null&&r!==void 0?r:!1,n.appendInfo=void 0,a.emit(Pe.EDGE_ADJUST,{data:s.getData()})},n.beforeDragStart=function(r,o){o.draggable&&n.drag.handleMouseDown(r),n.appendInfo=o},n.drag=new Tr({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return t.prototype.getEdge=function(){var n=this.props.model,r=n.points,o=n.isAnimation,i=n.arrowConfig,a=n.getEdgeStyle(),s=n.getEdgeAnimationStyle(),l=s.strokeDasharray,c=s.stroke,d=s.strokeDashoffset,f=s.animationName,h=s.animationDuration,p=s.animationIterationCount,v=s.animationTimingFunction,g=s.animationDirection;return K(Cz,zi({points:r},a,i,o?{strokeDasharray:l,stroke:c,style:{strokeDashoffset:d,animationName:f,animationDuration:h,animationIterationCount:p,animationTimingFunction:v,animationDirection:g}}:{}))},t.prototype.getArrowInfo=function(){var n=this.props.model,r=n.points,o=n.isSelected,i=this.state.hover,a=aa(r),s=a[0],l=a[0];return a.length>=2&&(s=a[a.length-2],l=a[a.length-1]),{start:s,end:l,hover:i,isSelected:o}},t.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.points,o=aa(r),i=o[0],a=o[0];return o.length>=2&&(i=o[o.length-2],a=o[o.length-1]),[i,a]},t.prototype.getAppendAttributes=function(n){var r=n.start,o=n.end,i;if(r.x===o.x&&r.y===o.y)i="";else{var a={start:r,end:o,offset:10,verticalLength:5},s=Kl(zi(zi({},a),{type:"start"})),l=Kl(zi(zi({},a),{type:"end"}));i="M".concat(s.leftX," ").concat(s.leftY,`
      L`).concat(s.rightX," ").concat(s.rightY,`
      L`).concat(l.rightX," ").concat(l.rightY,`
      L`).concat(l.leftX," ").concat(l.leftY," z")}return{d:i,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},t.prototype.getAppendShape=function(n){var r=this.getAppendAttributes(n),o=r.d,i=r.strokeWidth,a=r.fill,s=r.strokeDasharray,l=r.stroke;return K(Jl,{d:o,fill:a,strokeWidth:i,stroke:l,strokeDasharray:s})},t.prototype.getAppendWidth=function(){for(var n=this,r=this.props,o=r.model,i=r.graphModel,a=o.pointsList,s=o.draggable,l=[],c=a.length,d=function(p){var v="lf-polyline-append",g={start:{x:a[p].x,y:a[p].y},end:{x:a[p+1].x,y:a[p+1].y},startIndex:p,endIndex:p+1,direction:Rt.HORIZONTAL,draggable:!0},m=K("g",{className:v,children:f.getAppendShape(g)}),y=i.editConfigModel,_=y.adjustEdge,C=y.adjustEdgeMiddle;if(_&&s){var x=g.startIndex,S=g.endIndex,b=C&&(x===0||S===c-1);g.draggable=!b,g.start.x===g.end.x?(g.draggable&&(v+="-ew-resize"),g.direction=Rt.VERTICAL):g.start.y===g.end.y&&(g.draggable&&(v+="-ns-resize"),g.direction=Rt.HORIZONTAL),m=K("g",{className:f.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(w){return n.beforeDragStart(w,g)},children:K("g",{className:v,children:f.getAppendShape(g)})})}l.push(m)},f=this,h=0;h<c-1;h++)d(h);return K("g",{children:l})},t}(Sf),ja=function(){return ja=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ja.apply(this,arguments)},OH=function(){function e(t){var n=this;this.nodeConfig=null,this.fakeNode=null,this.stopDrag=function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)},this.dragEnter=function(o){!n.nodeConfig||n.fakeNode||(n.fakeNode=n.lf.createFakeNode(ja(ja({},n.nodeConfig),n.clientToLocalPoint({x:o.clientX,y:o.clientY}))))},this.onDragOver=function(o){if(o.preventDefault(),n.fakeNode){var i=n.clientToLocalPoint({x:o.clientX,y:o.clientY}),a=i.x,s=i.y;n.fakeNode.moveTo(a,s);var l=n.fakeNode.getData();n.lf.setNodeSnapLine(l),n.lf.graphModel.eventCenter.emit(Pe.NODE_DND_DRAG,{data:l,e:o})}return!1},this.onDragLeave=function(){n.fakeNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakeNode(),n.fakeNode=null)},this.onDrop=function(o){!n.lf.graphModel||!o||!n.nodeConfig||(n.lf.addNode(ja(ja({},n.nodeConfig),n.clientToLocalPoint({x:o.clientX,y:o.clientY})),Pe.NODE_DND_ADD,o),o.preventDefault(),o.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakeNode(),n.fakeNode=null)};var r=t.lf;this.lf=r}return e.prototype.clientToLocalPoint=function(t){var n=t.x,r=t.y,o=As(this.lf.options,["grid","size"]),i=this.lf.graphModel.getPointByClient({x:n,y:r}),a=i.canvasOverlayPosition,s=a.x,l=a.y;return{x:as(s,o),y:as(l,o)}},e.prototype.startDrag=function(t){var n=this.lf.graphModel.editConfigModel;n!=null&&n.isSilentMode||(this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag))},e.prototype.eventMap=function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}},e}();function AH(e,t){e.on("node:mousemove",function(n){var r=n.data;t.setNodeSnapLine(r)}),e.on("node:mouseup",function(){t.clearSnapline()})}var MH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ko=function(){return ko=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ko.apply(this,arguments)},TH=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},PH=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},DH=function(e){MH(t,e);function t(n){var r=e.call(this,n)||this;return r.ref=Gd(),r.__prevText={type:"",text:"",id:""},r.keyupHandler=function(o){var i=r.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&(i==null||i.setElementState(gt.DEFAULT))},r.inputHandler=function(o){var i=o.target.innerText,a=r.props.graphModel.textEditElement;a&&(r.__prevText={type:a.type,text:i.replace(/(\r\n)+$|(\n)+$/,""),id:a.id})},r.keydownHandler=function(o){o.stopPropagation()},r.state={style:{left:0,top:0}},r}return t.getDerivedStateFromProps=function(n){var r,o=n.textEditElement,i=n.graphModel,a=i.transformModel,s=i.theme,l=s.inputText,c;if(o){if(!(!((r=o.text)===null||r===void 0)&&r.value)&&o.BaseType===Wt.EDGE){var d=o.text,f=o.textPosition,h=f.x,p=f.y;d.x=h,d.y=p,o.setText(d)}var v={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(o.BaseType===Wt.EDGE){var g=s.edgeText,m=g.overflowMode,y=g.lineHeight,_=g.wrapPadding,C=g.textWidth;C&&m==="autoWrap"&&(c=ko(ko({},v),{width:C,minWidth:C,lineHeight:y,padding:_}))}else if(o.BaseType===Wt.NODE){var x=s.nodeText,m=x.overflowMode,y=x.lineHeight,_=x.wrapPadding,C=x.textWidth,S=o.width,b=o.modelType,w=o.textWidth,T=w||C||S;(b!==ot.TEXT_NODE&&m==="autoWrap"||b===ot.TEXT_NODE&&C)&&(c=ko(ko({},v),{width:T,minWidth:T,lineHeight:y,padding:_}))}var k=o.text,I=k.x,X=k.y,te=PH(a.CanvasPointToHtmlPoint([I,X]),2),E=te[0],P=te[1];return{style:ko(ko({left:E,top:P},c),l)}}return null},t.prototype.componentDidUpdate=function(){var n=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var r=this.__prevText,o=r.text,i=r.id;n.updateText(i,o),n.eventCenter.emit(Pe.TEXT_UPDATE,{data:ko({},this.__prevText)}),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}},t.prototype.placeCaretAtEnd=function(n){if(window.getSelection!==void 0&&document.createRange!==void 0){var r=document.createRange();r.selectNodeContents(n),r.collapse(!1);var o=window.getSelection();o==null||o.removeAllRanges(),o==null||o.addRange(r)}},t.prototype.render=function(){var n,r=this.props.graphModel.textEditElement,o=this.state.style;return r?K("div",{contentEditable:!0,className:"lf-text-input",style:o,ref:this.ref,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler,children:(n=r.text)===null||n===void 0?void 0:n.value},r.id):null},t.toolName="text-edit-tool",t=TH([Mn],t),t}(ut),kH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RH=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Hh=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},LH=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},$H=function(e){kH(t,e);function t(n){var r=e.call(this,n)||this;r.handleMouseDown=function(s){r.stepDrag.handleMouseDown(s)},r.handleWheelEvent=function(s){var l,c;s.preventDefault();var d=s.deltaX,f=s.deltaY,h=s.clientX,p=s.clientY,v=s.ctrlKey,g=new WheelEvent("wheel",{deltaX:d,deltaY:f,clientX:h,clientY:p,ctrlKey:v});(c=(l=r.props.lf.container)===null||l===void 0?void 0:l.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||c===void 0||c.dispatchEvent(g)},r.onDragging=function(s){var l=s.deltaX,c=s.deltaY,d=r.props,f=d.graphModel,h=d.lf,p=h.getTransform(),v=p.SCALE_X,g=p.SCALE_Y,m=f.getSelectElements(!0);f.moveNodes(m.nodes.map(function(y){return y.id}),l/v,c/g)},r.handleContextMenu=function(s){s.preventDefault();var l=r.props,c=l.graphModel,d=l.graphModel,f=d.eventCenter,h=d.selectElements,p=c.getPointByClient({x:s.clientX,y:s.clientY}),v={nodes:[],edges:[]},g=LH([],Hh(h.values()),!1);g.forEach(function(m){m.BaseType===Wt.NODE&&v.nodes.push(m.getData()),m.BaseType===Wt.EDGE&&v.edges.push(m.getData())}),f.emit(Pe.SELECTION_CONTEXTMENU,{data:v,e:s,position:p})};var o=n.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new Tr({onDragging:r.onDragging,step:i,eventType:"SELECTION",eventCenter:a}),r}return t.prototype.render=function(){var n,r,o=this.props.graphModel,i=o.selectElements,a=o.transformModel,s=this.props.lf.getTransform(),l=s.SCALE_X,c=s.SCALE_Y;if(!(i.size<=1)){var d=Number.MAX_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;i.forEach(function(g){var m;g.BaseType===Wt.NODE&&(m=R9(g)),g.BaseType===Wt.EDGE&&(m=I9(g)),m!==void 0&&(d=Math.min(d,m.x),f=Math.min(f,m.y),h=Math.max(h,m.x1),p=Math.max(p,m.y1))}),n=Hh(a.CanvasPointToHtmlPoint([d,f]),2),d=n[0],f=n[1],r=Hh(a.CanvasPointToHtmlPoint([h,p]),2),h=r[0],p=r[1];var v={left:"".concat(d-20*l/2,"px"),top:"".concat(f-20*c/2,"px"),width:"".concat(h-d+20*l,"px"),height:"".concat(p-f+20*c,"px"),"border-width":"".concat(2*l,"px")};return K("div",{className:"lf-multiple-select",style:v,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}},t.toolName="multiple-select-tool",t=RH([Mn],t),t}(ut),Wh=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},BH=[DH,$H],IH=function(){function e(t){var n=this;this.toolMap=new Map,this.disabledToolMap=new Map,this.instance=t,qe(BH,function(i){n.isDisabled(i.toolName)||n.registerTool(i.toolName,i)});var r=t.graphModel,o=r.eventCenter;o.on("".concat(Pe.GRAPH_TRANSFORM,",").concat(Pe.NODE_CLICK,",").concat(Pe.BLANK_CLICK," "),function(){var i,a=r.textEditElement,s=r.editConfigModel,l=s.edgeTextEdit,c=s.nodeTextEdit;(l||c)&&a&&((i=r.textEditElement)===null||i===void 0||i.setElementState(gt.DEFAULT))})}return e.prototype.isDisabled=function(t){var n;return((n=this.instance.options.disabledTools)===null||n===void 0?void 0:n.indexOf(t))!==-1},e.prototype.registerTool=function(t,n){this.toolMap.set(t,n)},e.prototype.disableTool=function(t){var n=this.toolMap.get(t);if(n)return this.disabledToolMap.set(t,n),this.toolMap.delete(t),!0;throw new Error("禁用失败，不存在名为 ${tool} 的工具")},e.prototype.enableTool=function(t){var n=this.disabledToolMap.get(t);if(n)return this.toolMap.set(t,n),this.disabledToolMap.delete(t),!0;throw new Error("不存在名为 ${tool} 的工具")},e.prototype.getTools=function(){return Array.from(this.toolMap.values())},e.prototype.getInstance=function(){return this.instance},Wh([ee],e.prototype,"toolMap",void 0),Wh([Z],e.prototype,"disableTool",null),Wh([Z],e.prototype,"enableTool",null),e}();function jH(e){throw new Error("[mobx-utils] "+e)}function sd(e,t){t===void 0&&(t="Illegal state"),e||jH(t)}var BC=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(BC(Object.getPrototypeOf(e))||[])},VH=function(e){var t=BC(e),n=t.filter(function(r,o){return t.indexOf(r)===o});return n},zH=function(e){return VH(e).filter(function(t){return t!=="constructor"&&!~t.indexOf("__")})},IC="pending",ld="fulfilled",mm="rejected";function FH(e){switch(this.state){case IC:return e.pending&&e.pending(this.value);case mm:return e.rejected&&e.rejected(this.value);case ld:return e.fulfilled?e.fulfilled(this.value):this.value}}function db(e,t){if(sd(arguments.length<=2,"fromPromise expects up to two arguments"),sd(typeof e=="function"||typeof e=="object"&&e&&typeof e.then=="function","Please pass a promise or function to fromPromise"),e.isPromiseBasedObservable===!0)return e;typeof e=="function"&&(e=new Promise(e));var n=e;e.then(Z("observableFromPromise-resolve",function(o){n.value=o,n.state=ld}),Z("observableFromPromise-reject",function(o){n.value=o,n.state=mm})),n.isPromiseBasedObservable=!0,n.case=FH;var r=t&&t.state===ld?t.value:void 0;return Sp(n,{value:r,state:IC},{},{deep:!1}),n}(function(e){e.reject=Z("fromPromise.reject",function(n){var r=e(Promise.reject(n));return r.state=mm,r.value=n,r});function t(n){n===void 0&&(n=void 0);var r=e(Promise.resolve(n));return r.state=ld,r.value=n,r}e.resolve=Z("fromPromise.resolve",t)})(db||(db={}));var Qu=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i};(function(){function e(t,n){var r=this;xD(function(){r.current=n,r.subscription=t.subscribe(r)})}return e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(t){this.current=t},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(t){this.current=t,this.dispose()},Qu([ee.ref],e.prototype,"current",void 0),Qu([Z.bound],e.prototype,"next",null),Qu([Z.bound],e.prototype,"complete",null),Qu([Z.bound],e.prototype,"error",null),e})();var ud=function(){return ud=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ud.apply(this,arguments)},Ys=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},HH=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function e(t){var n=this;this.model=t,this.localValues=ee.map({}),this.localComputedValues=ee.map({}),this.isPropertyDirty=function(r){return n.localValues.has(r)},sd(to(t),"createViewModel expects an observable object"),zH(t).forEach(function(r){if(!(r===Ue||r==="__mobxDidRunLazyInitializers")){if(sd(HH.indexOf(r)===-1,"The propertyname "+r+" is reserved and cannot be used with viewModels"),t_(t,r)){var o=qd(t,r).derivation;n.localComputedValues.set(r,Pt(o.bind(n)))}var i=Object.getOwnPropertyDescriptor(t,r),a=i?{enumerable:i.enumerable}:{};Object.defineProperty(n,r,ud(ud({},a),{configurable:!0,get:function(){return t_(t,r)?n.localComputedValues.get(r).get():n.isPropertyDirty(r)?n.localValues.get(r):n.model[r]},set:Z(function(s){s!==n.model[r]?n.localValues.set(r,s):n.localValues.delete(r)})}))}})}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var t=this;rs(this.localValues).forEach(function(n){var r=t.localValues.get(n),o=t.model[n];Eo(o)?o.replace(r):Dn(o)?(o.clear(),o.merge(r)):$w(r)||(t.model[n]=r)}),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(t){this.localValues.delete(t)},Ys([Pt],e.prototype,"isDirty",null),Ys([Pt],e.prototype,"changedValues",null),Ys([Z.bound],e.prototype,"submit",null),Ys([Z.bound],e.prototype,"reset",null),Ys([Z.bound],e.prototype,"resetProperty",null),e})();function Gh(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function Xh(e){return to(e)||Eo(e)||Dn(e)}function WH(e,t){var n=new WeakMap;function r(s){var l=n.get(s.object);o(s,l),t(s,Gh(l),e)}function o(s,l){switch(s.type){case"add":i(s.newValue,l,s.name);break;case"update":a(s.oldValue),i(s.newValue,l,s.name||""+s.index);break;case"remove":case"delete":a(s.oldValue);break;case"splice":s.removed.map(a),s.added.forEach(function(f,h){return i(f,l,""+(s.index+h))});for(var c=s.index+s.addedCount;c<s.object.length;c++)if(Xh(s.object[c])){var d=n.get(s.object[c]);d&&(d.path=""+c)}break}}function i(s,l,c){if(Xh(s)){var d=n.get(s);if(d){if(d.parent!==l||d.path!==c)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+Gh(l)+"/"+c+"',")+(" but it already exists at '"+Gh(d.parent)+"/"+d.path+"'"))}else{var f={parent:l,path:c,dispose:Bw(s,r)};n.set(s,f),DD(s).forEach(function(h){var p=h[0],v=h[1];return i(v,f,p)})}}}function a(s){if(Xh(s)){var l=n.get(s);if(!l)return;n.delete(s),l.dispose(),PD(s).forEach(a)}}return i(e,void 0,""),function(){a(e)}}var GH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){GH(t,e);function t(n,r,o){var i=o===void 0?{}:o,a=i.name,s=a===void 0?"ogm"+(Math.random()*1e3|0):a,l=i.keyToName,c=l===void 0?function(h){return""+h}:l,d=e.call(this)||this;d._keyToName=c,d._groupBy=r,d._ogmInfoKey=Symbol("ogmInfo"+s),d._base=n;for(var f=0;f<n.length;f++)d._addItem(n[f]);return d._disposeBaseObserver=Bw(d._base,function(h){if(h.type==="splice")jr(function(){for(var p=0,v=h.removed;p<v.length;p++){var g=v[p];d._removeItem(g)}for(var m=0,y=h.added;m<y.length;m++){var _=y[m];d._addItem(_)}});else if(h.type==="update")jr(function(){d._removeItem(h.oldValue),d._addItem(h.newValue)});else throw new Error("illegal state")}),d}return t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(n){throw new Error("not supported")},t.prototype.set=function(n,r){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var n=0;n<this._base.length;n++){var r=this._base[n],o=r[this._ogmInfoKey];o.reaction(),delete r[this._ogmInfoKey]}},t.prototype._getGroupArr=function(n){var r=e.prototype.get.call(this,n);return r===void 0&&(r=ee([],{name:"GroupArray["+this._keyToName(n)+"]",deep:!1}),e.prototype.set.call(this,n,r)),r},t.prototype._removeFromGroupArr=function(n,r){var o=e.prototype.get.call(this,n);o.length===1?e.prototype.delete.call(this,n):(r===o.length-1||(o[r]=o[o.length-1],o[r][this._ogmInfoKey].groupArrIndex=r),o.length--)},t.prototype._addItem=function(n){var r=this,o=this._groupBy(n),i=this._getGroupArr(o),a={groupByValue:o,groupArrIndex:i.length,reaction:Mw(function(){return r._groupBy(n)},function(s,l){var c=n[r._ogmInfoKey];r._removeFromGroupArr(c.groupByValue,c.groupArrIndex);var d=r._getGroupArr(s),f=d.length;d.push(n),c.groupByValue=s,c.groupArrIndex=f})};Object.defineProperty(n,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:a}),i.push(n)},t.prototype._removeItem=function(n){var r=n[this._ogmInfoKey];this._removeFromGroupArr(r.groupByValue,r.groupArrIndex),r.reaction(),delete n[this._ogmInfoKey]},t})(vg);Promise.resolve(),typeof queueMicrotask<"u"||typeof process<"u"&&process.nextTick;var Cv=function(){return Cv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cv.apply(this,arguments)},XH=function(){function e(t){this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=t}return e.prototype.add=function(t){Gc(Hn(this.undos),t)||(this.undos.push(t),Gc(this.curData,t)||(this.redos=[]),this.eventCenter.emit(Pe.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undoAble(),redoAble:this.redoAble()}}),this.undos.length>this.maxSize&&this.undos.shift())},e.prototype.undoAble=function(){return this.undos.length>1},e.prototype.undo=function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=Ye(n),n}},e.prototype.redoAble=function(){return this.redos.length>0},e.prototype.redo=function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=Ye(t),t}},e.prototype.watch=function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=WH(t,df(function(){var r=t.modelToHistoryData();r&&n.add(Cv({},r))},this.waitTime))},e}(),jC={exports:{}};(function(e){(function(t,n,r){if(!t)return;for(var o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,c=1;c<20;++c)o[111+c]="f"+c;for(c=0;c<=9;++c)o[c+96]=c.toString();function d(w,T,k){if(w.addEventListener){w.addEventListener(T,k,!1);return}w.attachEvent("on"+T,k)}function f(w){if(w.type=="keypress"){var T=String.fromCharCode(w.which);return w.shiftKey||(T=T.toLowerCase()),T}return o[w.which]?o[w.which]:i[w.which]?i[w.which]:String.fromCharCode(w.which).toLowerCase()}function h(w,T){return w.sort().join(",")===T.sort().join(",")}function p(w){var T=[];return w.shiftKey&&T.push("shift"),w.altKey&&T.push("alt"),w.ctrlKey&&T.push("ctrl"),w.metaKey&&T.push("meta"),T}function v(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function g(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function m(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function y(){if(!l){l={};for(var w in o)w>95&&w<112||o.hasOwnProperty(w)&&(l[o[w]]=w)}return l}function _(w,T,k){return k||(k=y()[w]?"keydown":"keypress"),k=="keypress"&&T.length&&(k="keydown"),k}function C(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function x(w,T){var k,I,X,te=[];for(k=C(w),X=0;X<k.length;++X)I=k[X],s[I]&&(I=s[I]),T&&T!="keypress"&&a[I]&&(I=a[I],te.push("shift")),m(I)&&te.push(I);return T=_(I,te,T),{key:I,modifiers:te,action:T}}function S(w,T){return w===null||w===n?!1:w===T?!0:S(w.parentNode,T)}function b(w){var T=this;if(w=w||n,!(T instanceof b))return new b(w);T.target=w,T._callbacks={},T._directMap={};var k={},I,X=!1,te=!1,E=!1;function P(W){W=W||{};var fe=!1,ye;for(ye in k){if(W[ye]){fe=!0;continue}k[ye]=0}fe||(E=!1)}function R(W,fe,ye,_e,Se,L){var J,q,de=[],pe=ye.type;if(!T._callbacks[W])return[];for(pe=="keyup"&&m(W)&&(fe=[W]),J=0;J<T._callbacks[W].length;++J)if(q=T._callbacks[W][J],!(!_e&&q.seq&&k[q.seq]!=q.level)&&pe==q.action&&(pe=="keypress"&&!ye.metaKey&&!ye.ctrlKey||h(fe,q.modifiers))){var ue=!_e&&q.combo==Se,Le=_e&&q.seq==_e&&q.level==L;(ue||Le)&&T._callbacks[W].splice(J,1),de.push(q)}return de}function $(W,fe,ye,_e){T.stopCallback(fe,fe.target||fe.srcElement,ye,_e)||W(fe,ye)===!1&&(v(fe),g(fe))}T._handleKey=function(W,fe,ye){var _e=R(W,fe,ye),Se,L={},J=0,q=!1;for(Se=0;Se<_e.length;++Se)_e[Se].seq&&(J=Math.max(J,_e[Se].level));for(Se=0;Se<_e.length;++Se){if(_e[Se].seq){if(_e[Se].level!=J)continue;q=!0,L[_e[Se].seq]=1,$(_e[Se].callback,ye,_e[Se].combo,_e[Se].seq);continue}q||$(_e[Se].callback,ye,_e[Se].combo)}var de=ye.type=="keypress"&&te;ye.type==E&&!m(W)&&!de&&P(L),te=q&&ye.type=="keydown"};function Y(W){typeof W.which!="number"&&(W.which=W.keyCode);var fe=f(W);if(fe){if(W.type=="keyup"&&X===fe){X=!1;return}T.handleKey(fe,p(W),W)}}function ie(){clearTimeout(I),I=setTimeout(P,1e3)}function be(W,fe,ye,_e){k[W]=0;function Se(pe){return function(){E=pe,++k[W],ie()}}function L(pe){$(ye,pe,W),_e!=="keyup"&&(X=f(pe)),setTimeout(P,10)}for(var J=0;J<fe.length;++J){var q=J+1===fe.length,de=q?L:Se(_e||x(fe[J+1]).action);ne(fe[J],de,_e,W,J)}}function ne(W,fe,ye,_e,Se){T._directMap[W+":"+ye]=fe,W=W.replace(/\s+/g," ");var L=W.split(" "),J;if(L.length>1){be(W,L,fe,ye);return}J=x(W,ye),T._callbacks[J.key]=T._callbacks[J.key]||[],R(J.key,J.modifiers,{type:J.action},_e,W,Se),T._callbacks[J.key][_e?"unshift":"push"]({callback:fe,modifiers:J.modifiers,action:J.action,seq:_e,level:Se,combo:W})}T._bindMultiple=function(W,fe,ye){for(var _e=0;_e<W.length;++_e)ne(W[_e],fe,ye)},d(w,"keypress",Y),d(w,"keydown",Y),d(w,"keyup",Y)}b.prototype.bind=function(w,T,k){var I=this;return w=w instanceof Array?w:[w],I._bindMultiple.call(I,w,T,k),I},b.prototype.unbind=function(w,T){var k=this;return k.bind.call(k,w,function(){},T)},b.prototype.trigger=function(w,T){var k=this;return k._directMap[w+":"+T]&&k._directMap[w+":"+T]({},w),k},b.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},b.prototype.stopCallback=function(w,T){var k=this;if((" "+T.className+" ").indexOf(" mousetrap ")>-1||S(T,k.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var I=w.composedPath()[0];I!==w.target&&(T=I)}return T.tagName=="INPUT"||T.tagName=="SELECT"||T.tagName=="TEXTAREA"||T.isContentEditable},b.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},b.addKeycodes=function(w){for(var T in w)w.hasOwnProperty(T)&&(o[T]=w[T]);l=null},b.init=function(){var w=b(n);for(var T in w)T.charAt(0)!=="_"&&(b[T]=function(k){return function(){return w[k].apply(w,arguments)}}(T))},b.init(),t.Mousetrap=b,e.exports&&(e.exports=b)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(jC);var UH=jC.exports;const YH=Vd(UH);var ai=function(){return ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ai.apply(this,arguments)},KH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},ao=null;function fb(e,t){return e.x+=t,e.y+=t,Qg(e.text)||(e.text.x+=t,e.text.y+=t),e}function hb(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),Qg(e.text)||(e.text.x+=t,e.text.y+=t),e}function qH(e,t){var n=e.x,r=e.y,o=e.text,i=o?{x:o.x+t,y:o.y+t,value:o.value}:void 0;return ai(ai({},e),{id:"",x:n+t,y:r+t,text:i})}function ZH(e,t){var n=e.startPoint,r=e.endPoint,o=e.pointsList,i=e.text,a=KH(e,["startPoint","endPoint","pointsList","text"]);a.id="";var s={x:n.x+t,y:n.y+t},l={x:r.x+t,y:r.y+t},c=An(o,function(f){return{x:f.x+t,y:f.y+t}}),d=i?ai(ai({},i),{x:i.x+t,y:i.y+t}):void 0;return ai(ai({},a),{startPoint:s,endPoint:l,pointsList:c,text:d})}var Da=40,ec=40;function JH(e,t){var n=e.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],function(){if(ec=Da,!(r!=null&&r.enabled)||t.textEditElement)return!0;var o=e.options.guards,i=t.getSelectElements(!1),a=o&&o.beforeClone?o.beforeClone(i):!0;return!a||i.nodes.length===0&&i.edges.length===0?(ao=null,!0):(ao=i,ao.nodes.forEach(function(s){return fb(s,Da)}),ao.edges.forEach(function(s){return hb(s,Da)}),!1)}),n.on(["cmd + v","ctrl + v"],function(){if(!(r!=null&&r.enabled)||t.textEditElement)return!0;if(ao&&(ao.nodes||ao.edges)){e.clearSelectElements();var o=e.addElements(ao,ec);if(!o)return!0;o.nodes.forEach(function(i){return e.selectElementById(i.id,!0)}),o.edges.forEach(function(i){return e.selectElementById(i.id,!0)}),ao.nodes.forEach(function(i){return fb(i,Da)}),ao.edges.forEach(function(i){return hb(i,Da)}),ec=ec+Da}return!1}),n.on(["cmd + z","ctrl + z"],function(){return!(r!=null&&r.enabled)||t.textEditElement?!0:(e.undo(),!1)}),n.on(["cmd + y","ctrl + y"],function(){return!(r!=null&&r.enabled)||t.textEditElement?!0:(e.redo(),!1)}),n.on(["backspace"],function(){if(!(r!=null&&r.enabled)||t.textEditElement)return!0;var o=t.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(i){return i.id&&e.deleteEdge(i.id)}),o.nodes.forEach(function(i){return i.id&&e.deleteNode(i.id)}),!1})}var QH=function(){function e(t){t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var n=t.lf;this.target=n.container,this.mousetrap=new YH(this.target),t.keyboard.enabled&&!n.options.isSilentMode&&this.enable(!0)}return e.prototype.initShortcuts=function(){var t=this,n,r=((n=this.options.keyboard)!==null&&n!==void 0?n:{}).shortcuts;if(r)if(Je(r))r.forEach(function(s){var l=s.keys,c=s.callback,d=s.action;return t.on(l,c,d)});else{var o=r.keys,i=r.callback,a=r.action;this.on(o,i,a)}},e.prototype.on=function(t,n,r){this.mousetrap.bind(this.getKeys(t),n,r)},Object.defineProperty(e.prototype,"disabled",{get:function(){var t,n;return((n=(t=this.options)===null||t===void 0?void 0:t.keyboard)===null||n===void 0?void 0:n.enabled)!==!0},enumerable:!1,configurable:!0}),e.prototype.off=function(t,n){this.mousetrap.unbind(this.getKeys(t),n)},e.prototype.enable=function(t){(this.disabled||t)&&(this.options.keyboard&&(this.options.keyboard.enabled=!0),this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))},e.prototype.disable=function(){this.disabled||(this.options.keyboard&&(this.options.keyboard.enabled=!1),this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))},e.prototype.getKeys=function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(r){return n.formatKey(r)})},e.prototype.formatKey=function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")},e}(),ni=function(){return ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ni.apply(this,arguments)},tc=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Uh=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Yh=Symbol("plugin registered by Logicflow.use"),Sv=function(){function e(t){var n=this,r;this.viewMap=new Map,this.components=[],this.extension={},this.setView=function(c,d){return n.viewMap.set(c,d)},this.getView=function(c){return n.viewMap.get(c)};var o=Ul.get(t),i=o.container,a=o.width,s=o.height;this.options=o,this.container=this.initContainer(i,a,s),this.graphModel=new VF(ni(ni({},o),{container:this.container})),this.plugins=(r=o.plugins)!==null&&r!==void 0?r:[];var l=this.graphModel.eventCenter;this.tool=new IH(this),this.dnd=new OH({lf:this}),this.history=new XH(l),this.keyboard=new QH({lf:this,keyboard:o.keyboard}),o.snapline!==!1&&(this.snaplineModel=new zF(this.graphModel),AH(l,this.snaplineModel)),o.isSilentMode||(JH(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(o.disabledPlugins)}return e.prototype.initContainer=function(t,n,r){var o=document.createElement("div");return o.style.position="relative",o.style.width=n?"".concat(n,"px"):"100%",o.style.height=r?"".concat(r,"px"):"100%",t.innerHTML="",t.appendChild(o),o},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return e.toStringTag},enumerable:!1,configurable:!0}),e.prototype.register=function(t,n,r){if(r===void 0&&(r=!0),typeof t!="string"){this.registerElement(t);return}var o={BaseEdge:Sf,BaseEdgeModel:Cf,BaseNode:Oi,BaseNodeModel:Ni,RectNode:sa,RectNodeModel:ds,CircleNode:od,CircleNodeModel:ed,PolygonNode:ad,PolygonNodeModel:td,TextNode:gv,TextNodeModel:ov,LineEdge:Ev,LineEdgeModel:tv,DiamondNode:hv,DiamondNodeModel:nv,PolylineEdge:fs,PolylineEdgeModel:cs,BezierEdge:wv,BezierEdgeModel:ev,EllipseNode:vv,EllipseNodeModel:rv,HtmlNode:yv,HtmlNodeModel:iv,h:U,type:t};if(this.viewMap.forEach(function(c){var d=c.extendKey;d&&(o[d]=c)}),this.graphModel.modelMap.forEach(function(c){var d=c.extendKey;d&&(o[d]=c)}),n){var i=n(o),a=i.view,s=i.model,l=a;r&&!l.isObserved&&(l.isObserved=!0,l=Mn(l)),this.setView(t,l),this.graphModel.setModel(t,s)}},e.prototype.registerElement=function(t){var n=t.view;t.isObserverView!==!1&&!n.isObserved&&(n.isObserved=!0,n=Mn(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)},e.prototype.batchRegister=function(t){var n=this;t===void 0&&(t=[]),qe(t,function(r){n.registerElement(r)})},e.prototype.defaultRegister=function(){var t=[{type:"rect",view:sa,model:ds},{type:"circle",view:od,model:ed},{type:"polygon",view:ad,model:td},{type:"text",view:gv,model:ov},{type:"ellipse",view:vv,model:rv},{type:"diamond",view:hv,model:nv},{type:"html",view:yv,model:iv},{type:"line",view:Ev,model:tv},{type:"polyline",view:fs,model:cs},{type:"bezier",view:wv,model:ev}];this.batchRegister(t)},e.prototype.addNode=function(t,n,r){return n===void 0&&(n=Pe.NODE_ADD),this.graphModel.addNode(t,n,r)},e.prototype.deleteNode=function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var r=n.getData(),o=this.options.guards,i=o!=null&&o.beforeDelete?o.beforeDelete(r):!0;return i&&this.graphModel.deleteNode(t),i},e.prototype.cloneNode=function(t){var n=this.graphModel.getNodeModelById(t),r=n==null?void 0:n.getData();if(r){var o=this.options.guards,i=o!=null&&o.beforeClone?o.beforeClone(r):!0;if(i)return this.graphModel.cloneNode(t)}},e.prototype.changeNodeId=function(t,n){return this.graphModel.changeNodeId(t,n)},e.prototype.changeNodeType=function(t,n){this.graphModel.changeNodeType(t,n)},e.prototype.getNodeModelById=function(t){return this.graphModel.getNodeModelById(t)},e.prototype.getNodeDataById=function(t){var n=this.getNodeModelById(t);return n==null?void 0:n.getData()},e.prototype.getNodeIncomingEdge=function(t){return this.graphModel.getNodeIncomingEdge(t)},e.prototype.getNodeOutgoingEdge=function(t){return this.graphModel.getNodeOutgoingEdge(t)},e.prototype.getNodeIncomingNode=function(t){return this.graphModel.getNodeIncomingNode(t)},e.prototype.getNodeOutgoingNode=function(t){return this.graphModel.getNodeOutgoingNode(t)},e.prototype.createFakeNode=function(t){var n=this.graphModel.modelMap.get(t.type);if(!n)return console.warn("不存在为".concat(t.type,"类型的节点")),null;var r=new n(ni(ni({},t),{virtual:!0}),this.graphModel);return this.graphModel.setFakeNode(r),r},e.prototype.removeFakeNode=function(){this.graphModel.removeFakeNode()},e.prototype.setNodeSnapLine=function(t){var n;(n=this.snaplineModel)===null||n===void 0||n.setNodeSnapLine(t)},e.prototype.removeNodeSnapLine=function(){var t;(t=this.snaplineModel)===null||t===void 0||t.clearSnapline()},e.prototype.setDefaultEdgeType=function(t){this.graphModel.setDefaultEdgeType(t)},e.prototype.addEdge=function(t){return this.graphModel.addEdge(t)},e.prototype.getEdgeDataById=function(t){var n=this.getEdgeModelById(t);return n==null?void 0:n.getData()},e.prototype.getEdgeModelById=function(t){return this.graphModel.getEdgeModelById(t)},e.prototype.getEdgeModels=function(t){var n=t.sourceNodeId,r=t.targetNodeId,o=[],i=this.graphModel.edges;return n&&r?qe(i,function(a){a.sourceNodeId===n&&a.targetNodeId===r&&o.push(a)}):n?qe(i,function(a){a.sourceNodeId===n&&o.push(a)}):r&&qe(i,function(a){a.targetNodeId===r&&o.push(a)}),o},e.prototype.changeEdgeId=function(t,n){return this.graphModel.changeEdgeId(t,n)},e.prototype.changeEdgeType=function(t,n){this.graphModel.changeEdgeType(t,n)},e.prototype.deleteEdge=function(t){var n=this.graphModel.getEdgeModelById(t);if(!n)return!1;var r=n.getData(),o=this.options.guards,i=o!=null&&o.beforeDelete?o.beforeDelete(r):!0;return i&&this.graphModel.deleteEdgeById(t),i},e.prototype.deleteEdgeByNodeId=function(t){var n=t.sourceNodeId,r=t.targetNodeId;n&&r?this.graphModel.deleteEdgeBySourceAndTarget(n,r):n?this.graphModel.deleteEdgeBySource(n):r&&this.graphModel.deleteEdgeByTarget(r)},e.prototype.getNodeEdges=function(t){return this.graphModel.getNodeEdges(t)},e.prototype.addElements=function(t,n){var r=this,o=t.nodes,i=t.edges;n===void 0&&(n=40),console.log("distance",n);var a={},s={nodes:[],edges:[]};return qe(o,function(l){var c=l.id,d=r.addNode(l);c&&(a[c]=d.id),s.nodes.push(d)}),qe(i,function(l){var c=l.sourceNodeId,d=l.targetNodeId;a[c]&&(c=a[c]),a[d]&&(d=a[d]);var f=r.graphModel.addEdge(ni(ni({},l),{sourceNodeId:c,targetNodeId:d}));s.edges.push(f)}),s},e.prototype.selectElementById=function(t,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),this.graphModel.selectElementById(t,n),!n&&r&&this.graphModel.toFront(t)},e.prototype.getSelectElements=function(t){return t===void 0&&(t=!0),this.graphModel.getSelectElements(t)},e.prototype.clearSelectElements=function(){this.graphModel.clearSelectElements()},e.prototype.getModelById=function(t){return this.graphModel.getElement(t)},e.prototype.getDataById=function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getData()},e.prototype.deleteElement=function(t){var n,r,o,i=this.getModelById(t);if(!i)return!1;var a=(n={},n[Wt.NODE]=this.deleteNode,n[Wt.EDGE]=this.deleteEdge,n);return(o=(r=a[i.BaseType])===null||r===void 0?void 0:r.call(this,t))!==null&&o!==void 0?o:!1},e.prototype.setElementZIndex=function(t,n){return this.graphModel.setElementZIndex(t,n)},e.prototype.getAreaElement=function(t,n,r,o,i){return r===void 0&&(r=!0),o===void 0&&(o=!0),i===void 0&&(i=!1),this.graphModel.getAreaElement(t,n,r,o,i).map(function(a){return a.getData()})},e.prototype.setProperties=function(t,n){var r;(r=this.graphModel.getElement(t))===null||r===void 0||r.setProperties(wn(n))},e.prototype.getProperties=function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()},e.prototype.deleteProperty=function(t,n){var r;(r=this.graphModel.getElement(t))===null||r===void 0||r.deleteProperty(n)},e.prototype.updateAttributes=function(t,n){this.graphModel.updateAttributes(t,n)},e.prototype.editText=function(t){this.graphModel.editText(t)},e.prototype.updateText=function(t,n){this.graphModel.updateText(t,n)},e.prototype.updateEditConfig=function(t){var n=this.graphModel,r=n.editConfigModel,o=n.transformModel;r.updateEditConfig(t),(t==null?void 0:t.stopMoveGraph)!==void 0&&o.updateTranslateLimits(t.stopMoveGraph),t!=null&&t.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)},e.prototype.getEditConfig=function(){return this.graphModel.editConfigModel.getConfig()},e.prototype.setTheme=function(t){this.graphModel.setTheme(t)},e.prototype.focusByElement=function(t){var n=void 0,r=this.getNodeModelById(t);if(r){var o=r.getData(),i=o.x,a=o.y;n={x:i,y:a}}var s=this.getEdgeModelById(t);if(s){var l=s.textPosition,i=l.x,a=l.y;n={x:i,y:a}}n&&this.focusByCoordinate(n)},e.prototype.focusByCoordinate=function(t){var n=this.graphModel,r=n.transformModel,o=n.width,i=n.height,a=t.x,s=t.y;r.focusOn(a,s,o,i)},e.prototype.focusOn=function(t){if(typeof t=="string")this.focusByElement(t);else if("x"in t&&"y"in t)this.focusByCoordinate(t);else{var n=t.id,r=t.coordinate;n&&this.focusByElement(n),r&&this.focusByCoordinate(r)}},e.prototype.resize=function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height},e.prototype.toFront=function(t){this.graphModel.toFront(t)},e.prototype.getPointByClient=function(t,n){if(typeof t=="object")return this.graphModel.getPointByClient(t);if(typeof n=="number")return this.graphModel.getPointByClient({x:t,y:n})},e.prototype.getGraphData=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.getGraphRawData();return this.adapterOut?this.adapterOut.apply(this,Uh([r],tc(t),!1)):r},e.prototype.getGraphRawData=function(){return this.graphModel.modelToGraphData()},e.prototype.clearData=function(){this.graphModel.clearData()},e.prototype.renderRawData=function(t){this.graphModel.graphDataToModel(wn(t)),this.options.history!==!1&&this.history.watch(this.graphModel),h3(K(YF,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Pe.GRAPH_RENDERED,{data:this.graphModel.modelToGraphData(),graphModel:this.graphModel})},e.prototype.render=function(t){var n=Ye(t);this.adapterIn&&(n=this.adapterIn(n)),this.renderRawData(n)},e.prototype.undo=function(){if(this.history.undoAble()){var t=wn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}},e.prototype.redo=function(){if(this.history.redoAble()){var t=wn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}},e.prototype.zoom=function(t,n){var r=this.graphModel.transformModel;return r.zoom(t,n)},e.prototype.resetZoom=function(){var t=this.graphModel.transformModel;t.resetZoom()},e.prototype.setZoomMiniSize=function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)},e.prototype.setZoomMaxSize=function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)},e.prototype.getTransform=function(){var t=this.graphModel.transformModel,n=t.SCALE_X,r=t.SCALE_Y,o=t.TRANSLATE_X,i=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:r,TRANSLATE_X:o,TRANSLATE_Y:i}},e.prototype.translate=function(t,n){var r=this.graphModel.transformModel;r.translate(t,n)},e.prototype.resetTranslate=function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,r=t.TRANSLATE_Y;this.translate(-n,-r)},e.prototype.translateCenter=function(){this.graphModel.translateCenter()},e.prototype.fitView=function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)},e.prototype.openEdgeAnimation=function(t){this.graphModel.openEdgeAnimation(t)},e.prototype.closeEdgeAnimation=function(t){this.graphModel.closeEdgeAnimation(t)},e.prototype.on=function(t,n){this.graphModel.eventCenter.on(t,n)},e.prototype.off=function(t,n){this.graphModel.eventCenter.off(t,n)},e.prototype.once=function(t,n){this.graphModel.eventCenter.once(t,n)},e.prototype.emit=function(t,n){this.graphModel.eventCenter.emit(t,n)},e.use=function(t,n){var r,o=t.pluginName;if(!o)throw new Error("请给插件指定 pluginName!");this.extensions.set(o,(r={},r[Yh]=Yh,r.extension=t,r.props=n,r))},e.prototype.installPlugins=function(t){var n=this;t===void 0&&(t=[]);var r=Array.from(e.extensions,function(i){var a=tc(i,2),s=a[1];return s}),o=Uh(Uh([],tc(this.plugins),!1),tc(r),!1);qe(o,function(i){var a,s;Yh in i?(a=i.extension,s=i.props):a=i;var l=a==null?void 0:a.pluginName;RE(t,l)===-1&&n.installPlugin(a,s)})},e.prototype.installPlugin=function(t,n){var r,o;if("pluginName"in t&&"install"in t){var i=t.pluginName,a=t.install,s=t.render;i&&(a&&a.call(t,this,e),s&&this.components.push(s.bind(t)),this.extension[i]=t);return}var l=t,c=l.pluginName,d=new l({lf:this,LogicFlow:e,props:n,options:(o=(r=this.options.pluginsOptions)===null||r===void 0?void 0:r[c])!==null&&o!==void 0?o:{}});d.render&&this.components.push(d.render.bind(d)),this.extension[c]=d},e.prototype.destroy=function(){this.graphModel.destroy()},e.extensions=new Map,e}();(function(e){e.toStringTag="LF.".concat(e.name)})(Sv||(Sv={}));const ya=Sv;function Mn(e){return yg(e)}var eW=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(t){var n=Math.random()*16|0,r=t==="x"?n:n&3|8;return r.toString(16)})},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),tW=(globalThis==null?void 0:globalThis._ids)||new eW;function ks(){return tW.next()}var VC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){VC(t,e);function t(n,r){return n.id||(n.id="Event_".concat(ks())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),e.call(this,n,r)||this}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var n=e.prototype.getConnectedTargetRules.call(this),r={message:"起始节点不能作为边的终点",validate:function(){return!1}};return n.push(r),n},t.extendKey="StartEventModel",t})(ed);(function(e){VC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="StartEventNode",t})(od);var zC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cd=function(){return cd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cd.apply(this,arguments)};(function(e){zC(t,e);function t(n,r){return n.id||(n.id="Event_".concat(ks())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),e.call(this,n,r)||this}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var n=e.prototype.getConnectedSourceRules.call(this),r={message:"结束节点不能作为边的起点",validate:function(){return!1}};return n.push(r),n},t.extendKey="EndEventModel",t})(ed);(function(e){zC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle(),o=n,i=o.x,a=o.y,s=o.r,l=e.prototype.getShape.call(this);return U("g",{},l,U("circle",cd(cd({},r),{cx:i,cy:a,r:s-5})))},t.extendKey="EndEventView",t})(od);var FC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){FC(t,e);function t(n,r){return n.id||(n.id="Flow_".concat(ks())),e.call(this,n,r)||this}return t.extendKey="SequenceFlowModel",t})(cs);(function(e){FC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="SequenceFlowEdge",t})(fs);var HC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ml=function(){return Ml=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ml.apply(this,arguments)};(function(e){HC(t,e);function t(n,r){var o=this;return n.id||(n.id="Gateway_".concat(ks())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),o=e.call(this,n,r)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return t.extendKey="ExclusiveGatewayModel",t})(td);(function(e){HC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var n=this.props.model,r=n,o=r.x,i=r.y,a=r.width,s=r.height,l=r.points,c=n.getNodeStyle();return U("g",{transform:"matrix(1 0 0 1 ".concat(o-a/2," ").concat(i-s/2,")")},U("polygon",Ml(Ml({},c),{x:o,y:i,points:l})),U("path",Ml({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},c)))},t.extendKey="ExclusiveGatewayNode",t})(ad);var WC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nv=function(){return Nv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Nv.apply(this,arguments)};(function(e){WC(t,e);function t(n,r){return n.id||(n.id="Activity_".concat(ks())),e.call(this,n,r)||this}return t.extendKey="ServiceTaskModel",t})(ds);(function(e){WC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getNodeStyle();return U("svg",{x:r-i/2+5,y:o-a/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},U("path",{fill:s.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return U("g",{},[U("rect",Nv({x:r-i/2,y:o-a/2,rx:s,ry:s,width:i,height:a},l)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t})(sa);var GC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dd=function(){return dd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},dd.apply(this,arguments)};(function(e){GC(t,e);function t(n,r){return n.id||(n.id="Activity_".concat(ks())),e.call(this,n,r)||this}return t.extendKey="UserTaskModel",t})(ds);(function(e){GC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getNodeStyle();return U("svg",{x:r-i/2+5,y:o-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},U("path",{fill:s.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return U("g",{},[U("rect",dd(dd({},l),{x:r-i/2,y:o-a/2,rx:s,ry:s,width:i,height:a})),this.getLabelShape()])},t.extendKey="UserTaskNode",t})(sa);var nW=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(t){var n=Math.random()*16|0,r=t==="x"?n:n&3|8;return r.toString(16)})},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),rW=(globalThis==null?void 0:globalThis._ids)||new nW;function pb(){return rW.next()}function XC(e){return Object.prototype.toString.call(e)}function oW(e){return"  ".repeat(e)}function fd(e){var t=e;return XC(e)==="[object Object]"?(t={},Object.keys(e).forEach(function(n){var r=n;n.charAt(0)==="-"&&(r=n.substring(1)),t[r]=fd(e[n])})):Array.isArray(e)&&(t=[],e.forEach(function(n,r){t[r]=fd(n)})),t}function iW(e){var t=e;try{typeof t!="string"&&(t=JSON.parse(e))}catch{t=JSON.stringify(fd(e)).replace(/"/g,"'")}return t}var Ri=`	
`;function wc(e,t,n){var r=oW(n);if(e!==0&&e!==!1&&!e)return Ri+r+"<".concat(t," />");var o="";if(t==="#text")return Ri+r+e;if(t==="#cdata-section")return Ri+r+"<![CDATA["+e+"]]>";if(t==="#comment")return Ri+r+"<!--"+e+"-->";if("".concat(t).charAt(0)==="-")return" "+t.substring(1)+'="'+iW(e)+'"';if(Array.isArray(e))e.forEach(function(l){o+=wc(l,t,n+1)});else if(XC(e)==="[object Object]"){var i=Object.keys(e),a="",s="";o+=(n===0?"":Ri+r)+"<"+t,i.forEach(function(l){l.charAt(0)==="-"?a+=wc(e[l],l,n+1):s+=wc(e[l],l,n+1)}),o+=a+(s!==""?">".concat(s).concat(Ri+r,"</").concat(t,">"):" />")}else o+=Ri+r+"<".concat(t,">").concat(e.toString(),"</").concat(t,">");return o}function UC(e){var t="";for(var n in e)t+=wc(e[n],n,0);return t}var $n=function(){};$n.ObjTree=function(){return this};$n.ObjTree.VERSION="0.23";$n.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;$n.ObjTree.prototype.attr_prefix="-";$n.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)};$n.ObjTree.prototype.parseHTTP=function(e,t,n){var r={};for(var o in t)r[o]=t[o];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),n){r.asynchronous=!0;var i=this,a=n,s=r.onComplete;r.onComplete=function(d){var f;d&&d.responseXML&&d.responseXML.documentElement&&(f=i.parseDOM(d.responseXML.documentElement)),a(f,d),s&&s(d)}}else r.asynchronous=!1;var l;if(typeof HTTP<"u"&&HTTP.Request){r.uri=e;var c=new HTTP.Request(r);c&&(l=c.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var c=new Ajax.Request(e,r);c&&(l=c.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)};$n.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),e.nodeType!=11){var r={};r[e.nodeName]=n,n=r}return n}};$n.ObjTree.prototype.parseElement=function(e){if(e.nodeType!=7){if(e.nodeType==3||e.nodeType==4||e.nodeType==8){var t=e.nodeValue.match(/[^\x00-\x20]/);return t==null?void 0:e.nodeValue}var n=null,r={};if(e.attributes&&e.attributes.length){n={};for(var o=0;o<e.attributes.length;o++){var i=e.attributes[o].nodeName;if(typeof i=="string"){var a=e.attributes[o].nodeValue;try{a=JSON.parse(e.attributes[o].nodeValue.replace(/'/g,'"'))}catch{a=e.attributes[o].nodeValue}a&&(i=this.attr_prefix+i,typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(e.childNodes&&e.childNodes.length){var s=!0;n&&(s=!1);for(var o=0;o<e.childNodes.length&&s;o++){var l=e.childNodes[o].nodeType;l==3||l==4||l==8||(s=!1)}if(s){n||(n="");for(var o=0;o<e.childNodes.length;o++)n+=e.childNodes[o].nodeValue}else{n||(n={});for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes[o].nodeName;if(typeof i=="string"){var a=this.parseElement(e.childNodes[o]);a&&(typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else n===null&&(n={});return n}};$n.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(n==1&&(e[t]=[]),e[t][e[t].length]=r):n==1?e[t]=r:n==2?e[t]=[e[t],r]:e[t][e[t].length]=r};$n.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t};$n.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?typeof i>"u"||i==null?n[n.length]="<"+o+" />":typeof i=="object"&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):typeof i=="object"?n[n.length]=this.hash_to_xml(o,i):n[n.length]=this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),s=n.join("");return typeof e>"u"||e==null||(n.length>0?s.match(/\n/)?s="<"+e+a+`>
`+s+"</"+e+`>
`:s="<"+e+a+">"+s+"</"+e+`>
`:s="<"+e+a+` />
`),s};$n.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];typeof o>"u"||o==null?n[n.length]="<"+e+" />":typeof o=="object"&&o.constructor==Array?n[n.length]=this.array_to_xml(e,o):typeof o=="object"?n[n.length]=this.hash_to_xml(e,o):n[n.length]=this.scalar_to_xml(e,o)}return n.join("")};$n.ObjTree.prototype.scalar_to_xml=function(e,t){return e=="#text"?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+`>
`};$n.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var YC=function(e){return new $n.ObjTree().parseXML(e)},aW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ov=function(){return Ov=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ov.apply(this,arguments)},Nf=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},wo;(function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"})(wo||(wo={}));var KC=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],vb=["properties","startPoint","endPoint","pointsList"];function gb(e){var t=e?vb.concat(e):vb;return function(n){function r(o){var i={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(a){return r(a)}):(Object.entries(o).forEach(function(a){var s=Nf(a,2),l=s[0],c=s[1];typeof c!="object"?l.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(l)?i[l]=c:i["-".concat(l)]=c:t.includes(l)?i["-".concat(l)]=r(c):i[l]=r(c)}),i)}return r(n)}}function hd(e){var t={};return Object.entries(e).forEach(function(n){var r=Nf(n,2),o=r[0],i=r[1];o.indexOf("-")===0?t[o.substring(1)]=fd(i):typeof i=="string"?t[o]=i:Object.prototype.toString.call(i)==="[object Object]"?t[o]=hd(i):Array.isArray(i)?t[o]=i.map(function(a){return hd(a)}):t[o]=i}),t}function sW(e,t,n){var r=new Map;t.nodes.forEach(function(i){var a,s={"-id":i.id};if(!((a=i.text)===null||a===void 0)&&a.value&&(s["-name"]=i.text.value),i.properties){var l=gb(n)(i.properties);Object.assign(s,l)}r.set(i.id,s),e[i.type]?Array.isArray(e[i.type])?e[i.type].push(s):e[i.type]=[e[i.type],s]:e[i.type]=s});var o=t.edges.map(function(i){var a,s,l=r.get(i.targetNodeId);l["bpmn:incoming"]?Array.isArray(l["bpmn:incoming"])?l["bpmn:incoming"].push(i.id):l["bpmn:incoming"]=[l["bpmn:incoming"],i.id]:l["bpmn:incoming"]=i.id;var c={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((a=i.text)===null||a===void 0)&&a.value&&(c["-name"]=(s=i.text)===null||s===void 0?void 0:s.value),i.properties){var d=gb(n)(i.properties);Object.assign(c,d)}return c});t.edges.forEach(function(i){var a=r.get(i.sourceNodeId);a["bpmn:outgoing"]?Array.isArray(a["bpmn:outgoing"])?a["bpmn:outgoing"].push(i.id):a["bpmn:outgoing"]=[a["bpmn:outgoing"],i.id]:a["bpmn:outgoing"]=i.id}),e[wo.FLOW]=o}function lW(e,t){e["bpmndi:BPMNEdge"]=t.edges.map(function(n){var r,o=n.id,i=n.pointsList.map(function(s){var l=s.x,c=s.y;return{"-x":l,"-y":c}}),a={"-id":"".concat(o,"_di"),"-bpmnElement":o,"di:waypoint":i};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),e["bpmndi:BPMNShape"]=t.nodes.map(function(n){var r,o=n.id,i=100,a=80,s=n.x,l=n.y,c=Ai.shapeConfigMap.get(n.type);c&&(i=c.width,a=c.height),s-=i/2,l-=a/2;var d={"-id":"".concat(o,"_di"),"-bpmnElement":o,"dc:Bounds":{"-x":s,"-y":l,"-width":i,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),d})}function uW(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach(function(i){if(i.indexOf("bpmn:")===0){var a=o[i];if(i===wo.FLOW){var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=dW(a,s)}else{var l=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(cW(a,l,i))}}})}return{nodes:t,edges:n}}function cW(e,t,n){var r=[];if(Array.isArray(e))e.forEach(function(a){var s;Array.isArray(t)?s=t.find(function(c){return c["-bpmnElement"]===a["-id"]}):s=t;var l=mb(s,n,a);r.push(l)});else{var o=void 0;Array.isArray(t)?o=t.find(function(a){return a["-bpmnElement"]===e["-id"]}):o=t;var i=mb(o,n,e);r.push(i)}return r}function mb(e,t,n){var r=Number(e["dc:Bounds"]["-x"]),o=Number(e["dc:Bounds"]["-y"]),i=n["-name"],a=Ai.shapeConfigMap.get(t);a&&(r+=a.width/2,o+=a.height/2);var s;Object.entries(n).forEach(function(f){var h=Nf(f,2),p=h[0],v=h[1];KC.indexOf(p)===-1&&(s||(s={}),s[p]=v)}),s&&(s=hd(s));var l;if(i&&(l={x:r,y:o,value:i},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var c=e["bpmndi:BPMNLabel"]["dc:Bounds"];l.x=Number(c["-x"])+Number(c["-width"])/2,l.y=Number(c["-y"])+Number(c["-height"])/2}var d={id:e["-bpmnElement"],type:t,x:r,y:o,properties:s};return l&&(d.text=l),d}function dW(e,t){var n=[];if(Array.isArray(e))e.forEach(function(o){var i;Array.isArray(t)?i=t.find(function(a){return a["-bpmnElement"]===o["-id"]}):i=t,n.push(yb(i,o))});else{var r=void 0;Array.isArray(t)?r=t.find(function(o){return o["-bpmnElement"]===e["-id"]}):r=t,n.push(yb(r,e))}return n}function yb(e,t){var n,r=t["-name"]?"".concat(t["-name"]):"";if(r){var o=e["bpmndi:BPMNLabel"]["dc:Bounds"],i=0;r.split(`
`).forEach(function(l){i<l.length&&(i=l.length)}),n={value:r,x:Number(o["-x"])+i*10/2,y:Number(o["-y"])+7}}var a;Object.entries(t).forEach(function(l){var c=Nf(l,2),d=c[0],f=c[1];KC.indexOf(d)===-1&&(a||(a={}),a[d]=f)}),a&&(a=hd(a));var s={id:t["-id"],type:wo.FLOW,pointsList:e["di:waypoint"].map(function(l){return{x:Number(l["-x"]),y:Number(l["-y"])}}),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:a};return n&&(s.text=n),s}var Ai=function(){function e(t){var n=t.lf,r=this;this.adapterOut=function(o,i){var a=Ov({},r.processAttributes);sW(a,o,i);var s={"-id":"BPMNPlane_1","-bpmnElement":a["-id"]};lW(s,o);var l=r.definitionAttributes;l["bpmn:process"]=a,l["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s};var c={"bpmn:definitions":l};return c},this.adapterIn=function(o){if(o)return uW(o)},n.adapterIn=function(o){return r.adapterIn(o)},n.adapterOut=function(o,i){return r.adapterOut(o,i)},this.processAttributes={"-isExecutable":"true","-id":"Process_".concat(pb())},this.definitionAttributes={"-id":"Definitions_".concat(pb()),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return e.prototype.setCustomShape=function(t,n){e.shapeConfigMap.set(t,n)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();Ai.shapeConfigMap.set(wo.START,{width:Vy.width,height:Vy.height});Ai.shapeConfigMap.set(wo.END,{width:zy.width,height:zy.height});Ai.shapeConfigMap.set(wo.GATEWAY,{width:Fy.width,height:Fy.height});Ai.shapeConfigMap.set(wo.SYSTEM,{width:Hy.width,height:Hy.height});Ai.shapeConfigMap.set(wo.USER,{width:Wy.width,height:Wy.height});(function(e){aW(t,e);function t(n){var r=e.call(this,n)||this;r.adapterXmlIn=function(i){var a=YC(i);return r.adapterIn(a)},r.adapterXmlOut=function(i,a){var s=r.adapterOut(i,a);return UC(s)};var o=n.lf;return o.adapterIn=r.adapterXmlIn,o.adapterOut=r.adapterXmlOut,r}return t.pluginName="bpmnXmlAdapter",t})(Ai);var fW=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,function(n){var r=Math.random()*16|0,o=n==="x"?r:r&3|8;return o.toString(16)});return t},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),hW=(globalThis==null?void 0:globalThis._ids)||new fW;function pW(){return hW.next()}U("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),U("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),U("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});U("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});U("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var vW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fi=function(){return Fi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fi.apply(this,arguments)},gW=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},mW=Tr,yW=function(e){vW(t,e);function t(n){var r=e.call(this)||this;return r.updatePosition=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.x,c=s.y;r.nodeModel.x=l+i/2,r.nodeModel.y=c+a/2,r.nodeModel.moveText(i/2,a/2)},r.getResize=function(o){var i=o.index,a=o.deltaX,s=o.deltaY,l=o.width,c=o.height,d=o.PCTResizeInfo,f=o.pct,h=f===void 0?1:f,p=o.freezeWidth,v=p===void 0?!1:p,g=o.freezeHeight,m=g===void 0?!1:g,y={width:l,height:c,deltaX:a,deltaY:s};if(d){var _=4,C=0,x=0;switch(i){case 0:x=(a*-1-s)/_;break;case 1:x=(a-s)/_;break;case 2:x=(a+s)/_;break;case 3:x=(a*-1+s)/_;break}x!==0&&(C=Math.round(x/d.ResizeBasis.basisHeight*1e5)/1e3),d.ResizePCT.widthPCT=Math.max(Math.min(d.ResizePCT.widthPCT+C,d.ScaleLimit.maxScaleLimit),d.ScaleLimit.minScaleLimit),d.ResizePCT.heightPCT=Math.max(Math.min(d.ResizePCT.heightPCT+C,d.ScaleLimit.maxScaleLimit),d.ScaleLimit.minScaleLimit);var S=Math.round(d.ResizePCT.widthPCT*d.ResizeBasis.basisWidth/100),b=Math.round(d.ResizePCT.heightPCT*d.ResizeBasis.basisHeight/100);switch(i){case 0:a=l-S,s=c-b;break;case 1:a=S-l,s=c-b;break;case 2:a=S-l,s=b-c;break;case 3:a=l-S,s=b-c;break}return y.width=S,y.height=b,y.deltaX=a/h,y.deltaY=s/h,y}switch(i){case 0:y.width=v?l:l-a*h,y.height=m?c:c-s*h;break;case 1:y.width=v?l:l+a*h,y.height=m?c:c-s*h;break;case 2:y.width=v?l:l+a*h,y.height=m?c:c+s*h;break;case 3:y.width=v?l:l-a*h,y.height=m?c:c+s*h;break}return y},r.updateEdgePointByAnchors=function(){var o=r.nodeModel,i=o.id,a=o.anchors,s=r.getNodeEdges(i);s.sourceEdges.forEach(function(l){var c=a.find(function(d){return d.id===l.sourceAnchorId});c&&l.updateStartPoint({x:c.x,y:c.y})}),s.targetEdges.forEach(function(l){var c=a.find(function(d){return d.id===l.targetAnchorId});c&&l.updateEndPoint({x:c.x,y:c.y})})},r.updateRect=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.x,c=s.y,d=s.width,f=s.height,h=s.radius,p=s.PCTResizeInfo,v=r.nodeModel,g=v.minWidth,m=v.minHeight,y=v.maxWidth,_=v.maxHeight,C=r.index,x=g===y,S=m===_,b=r.getResize({index:C,deltaX:i,deltaY:a,width:d,height:f,PCTResizeInfo:p,pct:1,freezeWidth:x,freezeHeight:S});if(b.width<g||b.width>y||b.height<m||b.height>_){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:x?0:b.deltaX,deltaY:S?0:b.deltaY}),r.nodeModel.width=b.width,r.nodeModel.height=b.height,r.nodeModel.setProperties({nodeSize:{width:b.width,height:b.height}});var w={x:l,y:c,width:d,height:f,radius:h},T={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:h};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:i,deltaY:a,beforeNode:w,afterNode:T})},r.updateEllipse=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.rx,c=s.ry,d=s.x,f=s.y,h=s.PCTResizeInfo,p=r.index,v=r.nodeModel,g=v.minWidth,m=v.minHeight,y=v.maxWidth,_=v.maxHeight,C=g===y,x=m===_,S=l,b=c,w=r.getResize({index:p,deltaX:i,deltaY:a,width:S,height:b,PCTResizeInfo:h,pct:1/2,freezeWidth:C,freezeHeight:x});if(w.width<g/2||w.width>y/2||w.height<m/2||w.height>_/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:C?0:w.deltaX,deltaY:x?0:w.deltaY}),r.nodeModel.rx=w.width,r.nodeModel.ry=w.height,r.nodeModel.setProperties({nodeSize:{rx:w.width,ry:w.height}});var T={x:d,y:f},k={rx:w.width,ry:w.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:i,deltaY:a,beforeNode:Fi(Fi({},T),{rx:l,ry:c}),afterNode:k})},r.updateDiamond=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.rx,c=s.ry,d=s.x,f=s.y,h=s.PCTResizeInfo,p=r.index,v=r.nodeModel,g=v.minWidth,m=v.minHeight,y=v.maxWidth,_=v.maxHeight,C=g===y,x=m===_,S=l,b=c,w=r.getResize({index:p,deltaX:i,deltaY:a,width:S,height:b,PCTResizeInfo:h,pct:1/2,freezeWidth:C,freezeHeight:x});if(w.width<g/2||w.width>y/2||w.height<m/2||w.height>_/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:C?0:w.deltaX,deltaY:x?0:w.deltaY}),r.nodeModel.rx=w.width,r.nodeModel.ry=w.height,r.nodeModel.setProperties({nodeSize:{rx:w.width,ry:w.height}});var T={x:d,y:f,rx:l,ry:c},k={rx:w.width,ry:w.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:i,deltaY:a,beforeNode:T,afterNode:k})},r.eventEmit=function(o){var i=o.deltaX,a=o.deltaY,s=o.beforeNode,l=o.afterNode,c=r.nodeModel,d=c.id,f=c.modelType,h=c.type,p=Fi({id:d,modelType:f,type:h},s),v=Fi({id:d,modelType:f,type:h},l);r.graphModel.eventCenter.emit("node:resize",{preData:p,data:v,deltaX:i,deltaY:a,index:r.index,model:r.nodeModel})},r.onDragging=function(o){var i,a=o.deltaX,s=o.deltaY,l=r.graphModel.transformModel,c=r.nodeModel.modelType;i=gW(l.fixDeltaXY(a,s),2),a=i[0],s=i[1],c===ot.RECT_NODE||c===ot.HTML_NODE?r.updateRect({deltaX:a,deltaY:s}):c===ot.ELLIPSE_NODE?r.updateEllipse({deltaX:a,deltaY:s}):c===ot.DIAMOND_NODE&&r.updateDiamond({deltaX:a,deltaY:s})},r.onDragEnd=function(){var o=r.graphModel.gridSize,i=o===void 0?1:o,a=i*Math.round(r.nodeModel.x/i),s=i*Math.round(r.nodeModel.y/i);r.nodeModel.moveTo(a,s),r.updateEdgePointByAnchors()},r.index=n.index,r.nodeModel=n.model,r.graphModel=n.graphModel,r.dragHandler=new mW({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:1}),r}return t.prototype.getNodeEdges=function(n){for(var r=this.graphModel,o=r.edges,i=[],a=[],s=0;s<o.length;s++){var l=o[s];l.sourceNodeId===n?i.push(l):o[s].targetNodeId===n&&a.push(l)}return{sourceEdges:i,targetEdges:a}},t.prototype.render=function(){var n=this.props,r=n.x,o=n.y,i=n.index,a=n.model,s=a.getControlPointStyle();return K("g",{className:"lf-resize-control-".concat(i),children:K(mr,Fi({className:"lf-node-control",x:r,y:o},s,{onMouseDown:this.dragHandler.handleMouseDown}))})},t}(ut),_W=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pd=function(){return pd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},pd.apply(this,arguments)},Of=function(e){_W(t,e);function t(){var n=e.call(this)||this;return n.state={},n}return t.prototype.getResizeControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=r.x,a=r.y,s=r.width,l=r.height,c={minX:i-s/2,minY:a-l/2,maxX:i+s/2,maxY:a+l/2},d=c.minX,f=c.minY,h=c.maxX,p=c.maxY,v=[{x:d,y:f},{x:h,y:f},{x:h,y:p},{x:d,y:p}];return v.map(function(g,m){return K(yW,pd({index:m},g,{model:r,graphModel:o}))})},t.prototype.getGroupSolid=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getResizeOutlineStyle();return K(mr,pd({},s,{x:r,y:o,width:i,height:a}))},t.prototype.render=function(){return K("g",{className:"lf-resize-control",children:[this.getGroupSolid(),this.getResizeControl()]})},t}(ut),qC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bW=function(e){qC(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.rx=i.rx,o.ry=i.ry),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},i={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},t}(rv),wW=function(e){qC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return K(Of,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model,o=n.graphModel.editConfigModel.isSilentMode;return K("g",{children:[this.getResizeShape(),r.isSelected&&!o?this.getControlGroup():""]})},t}(vv),ZC={type:"ellipse",view:wW,model:bW},JC=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Av=function(){return Av=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Av.apply(this,arguments)},xW=function(e){JC(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.rx=i.rx,o.ry=i.ry),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},i={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},t}(nv),EW=function(e){JC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return K(Of,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){var n=this.props.model,r=n.points,o=n.getNodeStyle();return K("g",{children:K(vm,Av({},o,{points:r}))})},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return K("g",{children:[this.getResizeShape(),r&&!o?this.getControlGroup():""]})},t}(hv),QC={type:"diamond",view:EW,model:xW},eS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(e){eS(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.width=i.width,o.height=i.height),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.width,basisHeight:this.height},i={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},t})(iv);(function(e){eS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return K(Of,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return K("g",{children:[this.getResizeShape(),r&&!o?this.getControlGroup():""]})},t})(yv);var tS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nS=function(e){tS(t,e);function t(n,r){var o=e.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.width=i.width,o.height=i.height),o}return t.prototype.initNodeData=function(n){e.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var n=e.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.width,basisHeight:this.height},i={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},t}(ds),rS=function(e){tS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return K(Of,{model:r,graphModel:o})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return K("g",{children:[this.getResizeShape(),r&&!o?this.getControlGroup():""]})},t}(sa),Mo={type:"rect",view:rS,model:nS},oS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vd=function(){return vd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},vd.apply(this,arguments)},Li=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},$i=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},_b=500,bb=300,CW=-1e4;(function(e){oS(t,e);function t(){var n=e.apply(this,$i([],Li(arguments),!1))||this;return n.isGroup=!0,n.isFolded=!1,n.unfoldedWidth=_b,n.unfoldedHeight=bb,n.childrenLastFoldStatus={},n}return t.prototype.initNodeData=function(n){var r=this;e.prototype.initNodeData.call(this,n);var o=[];Je(n.children)&&(o=n.children),this.children=new Set(o),this.width=_b,this.height=bb,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=CW,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=!!this.properties.isFolded,setTimeout(function(){r.isFolded&&r.foldGroup(r.isFolded)})},t.prototype.getResizeOutlineStyle=function(){var n=e.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},t.prototype.foldGroup=function(n){var r=this;if(n!==this.isFolded){this.setProperty("isFolded",n),this.isFolded=n,n?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHeight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHeight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=$i($i([],Li(this.incoming.edges),!1),Li(this.outgoing.edges),!1);this.children.forEach(function(i){var a=r.graphModel.getElement(i);if(a){var s=a.isFolded;if(a.isGroup&&!a.isFolded&&a.foldGroup(n),a.isGroup&&!n){var l=r.childrenLastFoldStatus[i];l!==void 0&&l!==a.isFolded&&a.foldGroup(l)}r.childrenLastFoldStatus[i]=!!s,a.visible=!n;var c=a.incoming.edges,d=a.outgoing.edges;o=$i($i($i([],Li(o),!1),Li(c),!1),Li(d),!1)}}),this.foldEdge(n,o)}},t.prototype.getAnchorStyle=function(n){var r=e.prototype.getAnchorStyle.call(this,n);return r.stroke="transparent",r.fill="transparent",r.hover.fill="transparent",r.hover.stroke="transparent",r},t.prototype.foldEdge=function(n,r){var o=this;r.forEach(function(i,a){var s=i.id,l=i.sourceNodeId,c=i.targetNodeId,d=i.startPoint,f=i.endPoint,h=i.type,p=i.text,v=i.getProperties(),g={id:"".concat(s,"__").concat(a),sourceNodeId:l,targetNodeId:c,startPoint:d,endPoint:f,type:h,properties:v,text:p==null?void 0:p.value};i.virtual&&o.graphModel.deleteEdgeById(i.id);var m=o.graphModel.group.getNodeGroup(c);m||(m=o.graphModel.getNodeModelById(c));var y=o.graphModel.group.getNodeGroup(l);y||(y=o.graphModel.getNodeModelById(l)),n&&i.visible!==!1&&(o.children.has(l)||o.id===l?(g.startPoint=void 0,g.sourceNodeId=o.id):(g.endPoint=void 0,g.targetNodeId=o.id),(m.id!==o.id||y.id!==o.id)&&o.createVirtualEdge(g),i.visible=!1),!n&&i.visible===!1&&(m&&m.isGroup&&m.isFolded?(g.targetNodeId=m.id,g.endPoint=void 0,o.createVirtualEdge(g)):y&&y.isGroup&&y.isFolded?(g.sourceNodeId=y.id,g.startPoint=void 0,o.createVirtualEdge(g)):i.visible=!0)})},t.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isFoldedEdge=!0},t.prototype.isInRange=function(n){var r=n.minX,o=n.minY,i=n.maxX,a=n.maxY;return r>=this.x-this.width/2&&i<=this.x+this.width/2&&o>=this.y-this.height/2&&a<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(n){var r=n.minX,o=n.minY,i=n.maxX,a=n.maxY;return{x:r>=this.x-this.width/2&&i<=this.x+this.width/2,y:o>=this.y-this.height/2&&a<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(n){this.setProperty("groupAddable",n)},t.prototype.addChild=function(n){this.children.add(n),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},t.prototype.removeChild=function(n){this.children.delete(n),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var n=this,r=e.prototype.getData.call(this);r.children=[],console.log("this.children",this.children),this.children.forEach(function(i){var a=n.graphModel.getNodeModelById(i);a&&!a.virtual&&r.children.push(i)});var o=r.properties;return o==null||delete o.groupAddable,o==null||delete o.isFolded,r},t.prototype.getHistoryData=function(){var n=e.prototype.getData.call(this);n.children=$i([],Li(this.children),!1),n.isGroup=!0;var r=n.properties;return r==null||delete r.groupAddable,r!=null&&r.isFolded&&(n.x=n.x+this.unfoldedWidth/2-this.foldedWidth/2,n.y=n.y+this.unfoldedHeight/2-this.foldedHeight/2),n},t.prototype.isAllowAppendIn=function(n){return console.info("_nodeData",n),!0},t.prototype.toBack=function(){this.zIndex--},t})(nS);(function(e){oS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var n=this.props.model,r=n.resizable,o=n.properties;return r&&!o.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddableShape=function(){var n=this.props.model,r=n.width,o=n.height,i=n.x,a=n.y,s=n.radius,l=n.properties,c=n.getAddableOutlineStyle;if(!l.groupAddable)return null;var d=this.props.model.getNodeStyle().strokeWidth,f=d===void 0?0:d,h=c(),p=r+f+8,v=o+f+8;return U("rect",vd(vd({},h),{width:p,height:v,x:i-p/2,y:a-v/2,rx:s,ry:s}))},t.prototype.getFoldIcon=function(){var n=this.props.model,r=n.x-n.width/2+5,o=n.y-n.height/2+5;if(!n.foldable)return null;var i=U("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:n.properties.isFolded?"M ".concat(r+3,",").concat(o+6," ").concat(r+11,",").concat(o+6," M").concat(r+7,",").concat(o+2," ").concat(r+7,",").concat(o+10):"M ".concat(r+3,",").concat(o+6," ").concat(r+11,",").concat(o+6," ")});return U("g",{},[U("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:n.x-n.width/2+5,y:n.y-n.height/2+5,onClick:function(){n.foldGroup(!n.properties.isFolded)}}),i])},t.prototype.getResizeShape=function(){return U("g",{},[this.getAddableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t})(rS);var wb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tl=function(){return Tl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tl.apply(this,arguments)};function SW(e){var t=function(r){wb(o,r);function o(i,a){i.id||(i.id="Flow_".concat(pW()));var s=Tl(Tl(Tl({},{}),i.properties),{isDefaultFlow:!1});return i.properties=s,r.call(this,i,a)||this}return o.extendKey="SequenceFlowModel",o}(cs),n=function(r){wb(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var i=this.props.model,a=i.properties.isDefaultFlow;return a?U("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):U("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(fs);return{type:"bpmn:sequenceFlow",view:n,model:t}}SW();var xb={width:40,height:40},Eb={width:40,height:40},Cb={width:100,height:80},gd={width:100,height:80},Sb={width:100,height:80},Nb={width:100,height:80},Ob={width:100,height:80},Ab={width:100,height:80},Mb={width:100,height:80},Tb={width:100,height:80},Bn=function(){};Bn.ObjTree=function(){return this};Bn.ObjTree.VERSION="0.23";Bn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Bn.ObjTree.prototype.attr_prefix="-";Bn.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e),t=n.documentElement);if(t){var o=this.parseDOM(t);return o}};Bn.ObjTree.prototype.parseHTTP=function(e,t,n){var r={};for(var o in t)r[o]=t[o];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),n){r.asynchronous=!0;var i=this,a=n,s=r.onComplete;r.onComplete=function(d){var f;d&&d.responseXML&&d.responseXML.documentElement&&(f=i.parseDOM(d.responseXML.documentElement)),a(f,d),s&&s(d)}}else r.asynchronous=!1;var l;if(typeof HTTP<"u"&&HTTP.Request){r.uri=e;var c=new HTTP.Request(r);c&&(l=c.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var c=new Ajax.Request(e,r);c&&(l=c.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)};Bn.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),e.nodeType!==11){var r={};r[e.nodeName]=n,n=r}return n}};Bn.ObjTree.prototype.parseElement=function(e){if(e.nodeType!==7){if(e.nodeType===3||e.nodeType===4||e.nodeType===8){var t=e.nodeValue.match(/[^\x00-\x20]/);return t==null?void 0:e.nodeValue}var n=null,r={};if(e.attributes&&e.attributes.length){n={};for(var o=0;o<e.attributes.length;o++){var i=e.attributes[o].nodeName;if(typeof i=="string"){var a=e.attributes[o].nodeValue;try{a=JSON.parse(e.attributes[o].nodeValue.replace(/'/g,'"'))}catch{a=e.attributes[o].nodeValue}a!=null&&(i=this.attr_prefix+i,typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(e.childNodes&&e.childNodes.length){var s=!0;n&&(s=!1);for(var o=0;o<e.childNodes.length&&s;o++){var l=e.childNodes[o].nodeType;l===3||l===4||l===8||(s=!1)}if(s){n||(n="");for(var o=0;o<e.childNodes.length;o++)n+=e.childNodes[o].nodeValue}else{n||(n={});for(var o=0;o<e.childNodes.length;o++){var i=e.childNodes[o].nodeName;if(typeof i=="string"){var a=this.parseElement(e.childNodes[o]);a&&(typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else n===null&&(n={});return n}};Bn.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(n===1&&(e[t]=[]),e[t][e[t].length]=r):n===1?e[t]=r:n===2?e[t]=[e[t],r]:e[t][e[t].length]=r};Bn.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t};Bn.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(os(t,o)){var i=t[o];o.charAt(0)!==this.attr_prefix?typeof i>"u"||i==null?n[n.length]="<".concat(o," />"):typeof i=="object"&&i.constructor===Array?n[n.length]=this.array_to_xml(o,i):typeof i=="object"?n[n.length]=this.hash_to_xml(o,i):n[n.length]=this.scalar_to_xml(o,i):r[r.length]=" ".concat(o.substring(1),'="').concat(this.xml_escape(i),'"')}var a=r.join(""),s=n.join("");return typeof e>"u"||e==null||(n.length>0?s.match(/\n/)?s="<".concat(e).concat(a,`>
`).concat(s,"</").concat(e,`>
`):s="<".concat(e).concat(a,">").concat(s,"</").concat(e,`>
`):s="<".concat(e).concat(a,` />
`)),s};Bn.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];typeof o>"u"||o==null?n[n.length]="<".concat(e," />"):typeof o=="object"&&o.constructor===Array?n[n.length]=this.array_to_xml(e,o):typeof o=="object"?n[n.length]=this.hash_to_xml(e,o):n[n.length]=this.scalar_to_xml(e,o)}return n.join("")};Bn.ObjTree.prototype.scalar_to_xml=function(e,t){return e==="#text"?this.xml_escape(t):"<".concat(e,">").concat(this.xml_escape(t),"</").concat(e,`>
`)};Bn.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var NW=function(e){return new Bn.ObjTree().parseXML(e)};function iS(e){return Object.prototype.toString.call(e)}function Pb(e){return"  ".repeat(e)}function md(e){return iS(e)==="[object Object]"?Object.keys(e).reduce(function(t,n){var r=n;return n.charAt(0)==="-"&&(r=n.substring(1)),t[r]=md(e[n]),t},{}):Array.isArray(e)?e.map(function(t){return md(t)}):e}function OW(e){var t=e;try{typeof t!="string"&&(t=JSON.parse(e))}catch{t=JSON.stringify(md(e)).replace(/"/g,"'")}return t}var Db=`	
`;function xc(e,t,n){var r=Pb(n),o="",i=Db+r;if(t==="-json")return"";if(t==="#text")return i+e;if(t==="#cdata-section")return"".concat(i,"<![CDATA[").concat(e,"]]>");if(t==="#comment")return"".concat(i,"<!--").concat(e,"-->");if("".concat(t).charAt(0)==="-")return" ".concat(t.substring(1),'="').concat(OW(e),'"');if(Array.isArray(e))o+=e.map(function(c){return xc(c,t,n+1)}).join("");else if(iS(e)==="[object Object]"){var a=Object.keys(e),s="",l=e["-json"]?Db+Pb(n+1)+e["-json"]:"";o+="".concat(n===0?"":i,"<").concat(t),a.forEach(function(c){c.charAt(0)==="-"?s+=xc(e[c],c,n+1):l+=xc(e[c],c,n+1)}),o+=s+(l!==""?">".concat(l).concat(i,"</").concat(t,">"):" />")}else o+="".concat(i,"<").concat(t,">").concat(e.toString(),"</").concat(t,">");return o}function AW(e){var t="";for(var n in e)t+=xc(e[n],n,0);return t}var MW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mv=function(){return Mv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Mv.apply(this,arguments)},kb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},ym=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_n=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Br=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Tn;(function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",e.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",e.BOUNDARY="bpmn:boundaryEvent",e.PARALLEL_GATEWAY="bpmn:parallelGateway",e.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",e.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow",e.SUBPROCESS="bpmn:subProcess"})(Tn||(Tn={}));var aS=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],TW=["properties","startPoint","endPoint","pointsList"],yd={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},sS=function(e,t){var n=Object.keys(t||{});return n.forEach(function(r){if(e[r]){var o=t[r],i=o.in,a=o.out;i&&(e[r].in=i),a&&(e[r].out=a)}else e[r]=t[r]}),e},dr={"bpmn:startEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=dr[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:intermediateCatchEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=dr[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:intermediateThrowEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=dr[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:boundaryEvent":{out:function(e){var t,n,r=e.properties;return((n=(t=dr[r.definitionType])===null||t===void 0?void 0:t.out)===null||n===void 0?void 0:n.call(t,e))||{}}},"bpmn:sequenceFlow":{out:function(e){var t=e.properties,n=t.expressionType,r=t.condition;return r?n==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'.concat(r,"}]]></bpmn:conditionExpression>")}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'.concat(r,"</bpmn:conditionExpression>")}:{json:""}}},"bpmn:timerEventDefinition":{out:function(e){var t=e.properties,n=t.timerType,r=t.timerValue,o=t.definitionId,i=function(){return"<bpmn:".concat(n,' xsi:type="bpmn:tFormalExpression">').concat(r,"</bpmn:").concat(n,">")};return{json:'<bpmn:timerEventDefinition id="'.concat(o,'"').concat(n&&r?">".concat(i(),"</bpmn:timerEventDefinition>"):"/>")}},in:function(e,t){var n,r,o,i,a=e,s=t["-id"],l="",c="";try{for(var d=ym(Object.keys(t)),f=d.next();!f.done;f=d.next()){var h=f.value;h.includes("bpmn:")&&(o=_n(h.split(":"),2),l=o[1],c=(i=t[h])===null||i===void 0?void 0:i["#text"])}}catch(p){n={error:p}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return{"-definitionId":s,"-definitionType":a,"-timerType":l,"-timerValue":c}}},"bpmn:conditionExpression":{in:function(e,t){var n,r="",o="";return t["#cdata-section"]?(o="cdata",r=((n=/^\$\{(.*)\}$/g.exec(t["#cdata-section"]))===null||n===void 0?void 0:n[1])||""):t["#text"]&&(o="normal",r=t["#text"]),{"-condition":r,"-expressionType":o}}}};function PW(e){var t=e??{},n=t.retainedAttrsFields,r=t.excludeFields,o=t.transformer,i=new Set(Br(Br([],_n(TW),!1),_n(n||[]),!1)),a={in:new Set(Br(Br([],_n(yd.in),!1),_n((r==null?void 0:r.in)||[]),!1)),out:new Set(Br(Br([],_n(yd.out),!1),_n((r==null?void 0:r.out)||[]),!1))};return dr=sS(dr,o),function(s){var l=s.nodes,c=s.edges;function d(f,h){var p,v;if((f==null?void 0:f.flag)!==1){var g;if((g=dr[f.type])&&g.out){var m=g.out(f),y=Object.keys(m);y.length>0&&y.forEach(function(k){f[k]=m[k]})}f!=null&&f.children&&(f.children=f.children.map(function(k){var I=l.find(function(X){return X.id===k})||c.find(function(X){return X.id===k});return I||{}}));var _={};if(typeof f=="string")return f;if(Array.isArray(f))return f.map(function(k){return d(k,"")}).filter(function(k){return k!=null});try{for(var C=ym(Object.entries(f)),x=C.next();!x.done;x=C.next()){var S=_n(x.value,2),b=S[0],w=S[1];if((w==null?void 0:w.flag)===1)return;var T=[h,b].filter(function(k){return k}).join(".");a.out.has(T)||(typeof w!="object"?b.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(b)?_[b]=w:_["-".concat(b)]=w:i.has(T)?_["-".concat(b)]=d(w,T):_[b]=d(w,T))}}catch(k){p={error:k}}finally{try{x&&!x.done&&(v=C.return)&&v.call(C)}finally{if(p)throw p.error}}return _}}return d(s,"")}}function _d(e){var t,n,r={};try{for(var o=ym(Object.entries(e)),i=o.next();!i.done;i=o.next()){var a=_n(i.value,2),s=a[0],l=a[1];s.indexOf("-")===0?r[s.substring(1)]=md(l):typeof l=="string"?r[s]=l:Object.prototype.toString.call(l)==="[object Object]"?r[s]=_d(l):Array.isArray(l)?r[s]=l.map(function(c){return _d(c)}):r[s]=l}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function DW(e,t,n){var r,o=new Map,i=PW(n)(t);i.nodes.forEach(function(s){var l=s["-id"],c=s["-type"],d=s.text,f=s.children,h=kb(s,["-id","-type","text","children"]),p={"-id":l};d!=null&&d["-value"]&&(p["-name"]=d["-value"]),h["-json"]&&(p["-json"]=h["-json"]),h["-properties"]&&Object.assign(p,h["-properties"]),f&&(p.children=f),e[c]||(e[c]=[]),e[c].push(p),o.set(l,p)});var a=i.edges.map(function(s){var l=s["-id"],c=s["-sourceNodeId"],d=s["-targetNodeId"],f=s.text,h=kb(s,["-id","-sourceNodeId","-targetNodeId","text"]),p=o.get(d);p["bpmn:incoming"]||(p["bpmn:incoming"]=[]),p["bpmn:incoming"].push(l);var v={"-id":l,"-sourceRef":c,"-targetRef":d};return f!=null&&f["-value"]&&(v["-name"]=f["-value"]),h["-json"]&&(v["-json"]=h["-json"]),h["-properties"]&&Object.assign(v,h["-properties"]),v});return t.edges.forEach(function(s){var l=s.sourceNodeId,c=s.id,d=o.get(l);d["bpmn:outgoing"]||(d["bpmn:outgoing"]=[]),d["bpmn:outgoing"].push(c)}),(r=e["bpmn:subProcess"])===null||r===void 0||r.forEach(function(s){var l={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},c=[];s.children.forEach(function(g){var m,y=o.get(g["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(C){y[C]&&y[C].forEach(function(x){l[C].add(x)})});var _=(m=e[g["-type"]])===null||m===void 0?void 0:m.findIndex(function(C){return C["-id"]===g["-id"]});_>=0&&e[g["-type"]].splice(_,1),o.delete(g["-id"]),s[g["-type"]]||(s[g["-type"]]=[]),s[g["-type"]].push(y)});var d=l["bpmn:incoming"],f=l["bpmn:outgoing"];f.forEach(function(g){d.has(g)&&c.push(g)});for(var h=function(g){var m=a.findIndex(function(y){return y["-id"]===c[g]});m>=0?(s["bpmn:sequenceFlow"]||(s["bpmn:sequenceFlow"]=[]),s["bpmn:sequenceFlow"].push(a[m]),a.splice(m,1)):g++,p=g},p,v=0;v<c.length;)h(v),v=p;delete s.children}),e[Tn.FLOW]=a,e}function kW(e,t){e["bpmndi:BPMNEdge"]=t.edges.map(function(n){var r,o=n.id,i=n.pointsList.map(function(s){var l=s.x,c=s.y;return{"-x":l,"-y":c}}),a={"-id":"".concat(o,"_di"),"-bpmnElement":o,"di:waypoint":i};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),e["bpmndi:BPMNShape"]=t.nodes.map(function(n){var r,o=n.id,i=100,a=80,s=n.x,l=n.y,c=Xn.shapeConfigMap.get(n.type);c&&(i=c.width,a=c.height),s-=i/2,l-=a/2;var d={"-id":"".concat(o,"_di"),"-bpmnElement":o,"dc:Bounds":{"-x":s,"-y":l,"-width":i,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),d})}var RW=["bpmn:incoming","bpmn:outgoing"];function LW(e,t){var n=[],r=[],o=new Map,i=t??{},a=i.transformer,s=i.excludeFields,l={in:new Set(Br(Br([],_n(yd.in),!1),_n((s==null?void 0:s.in)||[]),!1)),out:new Set(Br(Br([],_n(yd.out),!1),_n((s==null?void 0:s.out)||[]),!1))};dr=sS(dr,a);var c=e["bpmn:definitions"];if(c){var d=c["bpmn:process"];(function(h,p){p.forEach(function(v){try{Object.keys(h).forEach(function(g){try{v(g)}catch(m){console.error(m)}})}catch(g){console.error(g)}})})(d,[function(h){function p(g){g["-children"]||(g["-children"]=[]),Object.keys(g).forEach(function(m){var y;m.indexOf("bpmn:")===0&&!RW.includes(m)&&(d[m]||(d[m]=[]),!Array.isArray(d[m])&&(d[m]=[d[m]]),Array.isArray(g[m])?(y=d[m]).push.apply(y,Br([],_n(g[m]),!1)):d[m].push(g[m]),Array.isArray(g[m])?g[m].forEach(function(_){!m.includes("Flow")&&g["-children"].push(_["-id"])}):!m.includes("Flow")&&g["-children"].push(g[m]["-id"]),delete g[m])})}if(h==="bpmn:subProcess"){var v=d[h];Array.isArray(v)?v.forEach(function(g){h==="bpmn:subProcess"&&p(g)}):p(v)}},function(h){var p=function(g){Object.keys(g).forEach(function(m){var y,_;if(m.includes("bpmn:")){var C={};dr[m]&&dr[m].in?(C=(_=(y=dr[m]).in)===null||_===void 0?void 0:_.call(y,m,N.cloneDeep(g[m])),delete g[m]):v(g[m]);var x=void 0;(x=Reflect.ownKeys(C)).length>0&&x.forEach(function(S){Reflect.set(g,S,C[S])})}})};function v(g){o.set(g["-id"],g),Array.isArray(g)?g.forEach(function(m){v(m)}):typeof g=="object"&&p(g)}v(d[h])},function(h){if(h.indexOf("bpmn:")===0){var p=d[h];if(h==="bpmn:sequenceFlow"){var v=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=BW(p,v)}else{var g=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(h==="bpmn:boundaryEvent"){var m=d[h],y=function(_){var C=_["-attachedToRef"],x=o.get(C);x["-boundaryEvents"]||(x["-boundaryEvents"]=[]),x["-boundaryEvents"].push(_["-id"])};Array.isArray(m)?m.forEach(function(_){y(_)}):y(m)}n=n.concat($W(p,g,h))}}}])}var f=function(h,p,v){Object.keys(h).forEach(function(g){var m=v?"".concat(v,".").concat(g):g;p.has(m)?delete h[g]:typeof h[g]=="object"&&f(h[g],p,m)})};return n.forEach(function(h){var p,v;if(!((p=t==null?void 0:t.mapping)===null||p===void 0)&&p.in){var g=(v=t==null?void 0:t.mapping)===null||v===void 0?void 0:v.in,m=h.type;g[m]&&(h.type=g[m])}f(h,l.in,"")}),r.forEach(function(h){var p,v;if(!((p=t==null?void 0:t.mapping)===null||p===void 0)&&p.in){var g=(v=t==null?void 0:t.mapping)===null||v===void 0?void 0:v.in,m=h.type;g[m]&&(h.type=g[m])}f(h,l.in,"")}),{nodes:n,edges:r}}function $W(e,t,n){var r=[];if(Array.isArray(e))e.forEach(function(a){var s;Array.isArray(t)?s=t.find(function(c){return c["-bpmnElement"]===a["-id"]}):s=t;var l=Rb(s,n,a);r.push(l)});else{var o=void 0;Array.isArray(t)?o=t.find(function(a){return a["-bpmnElement"]===e["-id"]}):o=t;var i=Rb(o,n,e);r.push(i)}return r}function Rb(e,t,n){var r=Number(e["dc:Bounds"]["-x"]),o=Number(e["dc:Bounds"]["-y"]),i=n["-children"],a=n["-name"],s=Xn.shapeConfigMap.get(t);s&&(r+=s.width/2,o+=s.height/2);var l={};Object.entries(n).forEach(function(h){var p=_n(h,2),v=p[0],g=p[1];aS.includes(v)||(l[v]=g)}),l=_d(l);var c;if(a&&(c={x:r,y:o,value:a},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var d=e["bpmndi:BPMNLabel"]["dc:Bounds"];c.x=Number(d["-x"])+Number(d["-width"])/2,c.y=Number(d["-y"])+Number(d["-height"])/2}var f={id:e["-bpmnElement"],type:t,x:r,y:o,properties:l};return i&&(f.children=i),c&&(f.text=c),f}function BW(e,t){var n=[];if(Array.isArray(e))e.forEach(function(o){var i;Array.isArray(t)?i=t.find(function(a){return a["-bpmnElement"]===o["-id"]}):i=t,n.push(Lb(i,o))});else{var r=void 0;Array.isArray(t)?r=t.find(function(o){return o["-bpmnElement"]===e["-id"]}):r=t,n.push(Lb(r,e))}return n}function Lb(e,t){var n,r=t["-name"]?"".concat(t["-name"]):"";if(r){var o=e["bpmndi:BPMNLabel"]["dc:Bounds"],i=0;r.split(`
`).forEach(function(c){i<c.length&&(i=c.length)}),n={value:r,x:Number(o["-x"])+i*10/2,y:Number(o["-y"])+7}}var a={};Object.entries(t).forEach(function(c){var d=_n(c,2),f=d[0],h=d[1];aS.includes(f)||(a[f]=h)}),a=_d(a);var s=e["di:waypoint"].map(function(c){return{x:Number(c["-x"]),y:Number(c["-y"])}}),l={id:t["-id"],type:Tn.FLOW,pointsList:s,sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:a};return n&&(l.text=n),l}var Xn=function(){function e(t){var n=t.lf,r=this;this.adapterOut=function(o,i){var a,s,l=Mv({},r.processAttributes);DW(l,o,i);var c={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};kW(c,o);var d=r.definitionAttributes;d["bpmn:process"]=l,d["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c};var f={"bpmn:definitions":d};if(!((a=i==null?void 0:i.mapping)===null||a===void 0)&&a.out){var h=(s=i==null?void 0:i.mapping)===null||s===void 0?void 0:s.out,p=function(v){Array.isArray(v)&&v.forEach(function(g){return p(g)}),typeof v=="object"&&Object.keys(v).forEach(function(g){var m;(m=h[g])?(v[m]=N.cloneDeep(v[g]),delete v[g],p(v[m])):p(v[g])})};p(f)}return f},this.adapterIn=function(o,i){if(o)return LW(o,i)},n.adapterIn=this.adapterIn,n.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return e.prototype.setCustomShape=function(t,n){e.shapeConfigMap.set(t,n)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();Xn.shapeConfigMap.set(Tn.START,{width:xb.width,height:xb.height});Xn.shapeConfigMap.set(Tn.END,{width:Eb.width,height:Eb.height});Xn.shapeConfigMap.set(Tn.INTERMEDIATE_CATCH,{width:gd.width,height:gd.height});Xn.shapeConfigMap.set(Tn.INTERMEDIATE_THROW,{width:gd.width,height:gd.height});Xn.shapeConfigMap.set(Tn.BOUNDARY,{width:Cb.width,height:Cb.height});Xn.shapeConfigMap.set(Tn.PARALLEL_GATEWAY,{width:Sb.width,height:Sb.height});Xn.shapeConfigMap.set(Tn.INCLUSIVE_GATEWAY,{width:Nb.width,height:Nb.height});Xn.shapeConfigMap.set(Tn.EXCLUSIVE_GATEWAY,{width:Ob.width,height:Ob.height});Xn.shapeConfigMap.set(Tn.SYSTEM,{width:Ab.width,height:Ab.height});Xn.shapeConfigMap.set(Tn.USER,{width:Mb.width,height:Mb.height});Xn.shapeConfigMap.set(Tn.SUBPROCESS,{width:Tb.width,height:Tb.height});(function(e){MW(t,e);function t(n){var r=e.call(this,n)||this;r.adapterXmlIn=function(a){var s=NW(a);return r.adapterIn(s,r.props)},r.adapterXmlOut=function(a){var s=r.adapterOut(a,r.props);return AW(s)};var o=n.lf,i=n.props;return o.adapterIn=r.adapterXmlIn,o.adapterOut=r.adapterXmlOut,r.props=i,r}return t.pluginName="BPMNAdapter",t})(Xn);function IW(e,t,n){var r=t.x,o=t.y,i=e.x,a=e.y,s=i-r,l=a-o,c=s*Math.cos(n)-l*Math.sin(n),d=s*Math.sin(n)+l*Math.cos(n),f=c+r,h=d+o;return{x:f,y:h}}var jW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bd=function(){return bd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bd.apply(this,arguments)},VW=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},zW=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},FW=function(e){jW(t,e);function t(){var n=e.apply(this,zW([],VW(arguments),!1))||this;return n.childrenPositionMap=new Map,n.onNodeRotate=function(r){var o=r.model,i=n.props,a=i.model,s=i.graphModel,l=a.transformWithContainer,c=a.isRestrict,d=n.childrenPositionMap;if(!(!l||c)&&o.id===a.id){var f={x:a.x,y:a.y};qe(Array.from(a.children),function(h){var p=s.getNodeModelById(h);if(p){var v={x:p.x,y:p.y};d.has(p.id)?v=d.get(p.id):d.set(p.id,v);var g=o.rotate*(180/Math.PI);g<0&&(g+=360);var m=g*(Math.PI/180),y=IW(v,f,m);p.moveTo(y.x,y.y),p.rotate=o.rotate}})}},n.onNodeResize=function(r){var o=r.deltaX,i=r.deltaY,a=r.index,s=r.model,l=r.preData,c=n.props,d=c.model,f=c.graphModel,h=d.transformWithContainer,p=d.isRestrict;if(!(!h||p)&&s.id===d.id){var v=l.properties,g=v||{},m=g.width,y=g.height;qe(Array.from(d.children),function(_){var C=f.getNodeModelById(_);if(C){var x=C.width/m*o,S=C.height/y*i;DC({deltaX:x,deltaY:S,index:a,nodeModel:C,graphModel:f,cancelCallback:function(){}})}})}},n.onNodeMouseMove=function(r){var o=r.deltaX,i=r.deltaY,a=r.data,s=n.props,l=s.model,c=s.graphModel,d=c.transformModel,f=d.SCALE_X,h=d.SCALE_Y;if(a.id===l.id){var p=n.getNodesInGroup(l,c);c.moveNodes(p,o/f,i/h,!0)}},n.graphRendered=function(){var r=n.props.model;r.isCollapsed&&r.toggleCollapse(!0)},n}return t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);var n=this.props.graphModel.eventCenter;n.on("node:rotate",this.onNodeRotate),n.on("node:resize",this.onNodeResize),n.on("node:mousemove",this.onNodeMouseMove),n.on("graph:rendered",this.graphRendered)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this);var n=this.props.graphModel.eventCenter;n.off("node:rotate",this.onNodeRotate),n.off("node:resize",this.onNodeResize),n.off("node:mousemove",this.onNodeMouseMove),n.off("graph:rendered",this.graphRendered)},t.prototype.getNodesInGroup=function(n,r){var o=this,i=[];return n.isGroup&&qe(Array.from(n.children),function(a){i.push(a);var s=r.getNodeModelById(a);s!=null&&s.isGroup&&(i=i.concat(o.getNodesInGroup(s,r)))}),i},t.prototype.getResizeControl=function(){var n=this.props.model,r=n.resizable,o=n.isCollapsed,i=r&&!o;return i?e.prototype.getResizeControl.call(this):null},t.prototype.getAppendAreaShape=function(){var n=this.props.model,r=n.width,o=n.height,i=n.x,a=n.y,s=n.radius,l=n.groupAddable;if(!l)return null;var c=n.getNodeStyle().strokeWidth,d=c===void 0?0:c,f=n.getAddableOutlineStyle(),h=r+d+8,p=o+d+8;return U("rect",bd(bd({},f),{width:h,height:p,x:i-h/2,y:a-p/2,rx:s,ry:s}))},t.prototype.getCollapseIcon=function(n,r){return"M ".concat(n+3,",").concat(r+6," ").concat(n+11,",").concat(r+6," M").concat(n+7,",").concat(r+2," ").concat(n+7,",").concat(r+10)},t.prototype.getExpandIcon=function(n,r){return"M ".concat(n+3,",").concat(r+6," ").concat(n+11,",").concat(r+6," ")},t.prototype.getOperateIcon=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=r-i/2+10,l=o-a/2+10;if(!n.collapsible)return null;var c=n!=null&&n.isCollapsed?this.getCollapseIcon(s,l):this.getExpandIcon(s,l),d=U("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c});return U("g",{},[U("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#f4f5f6",stroke:"#cecece",cursor:"pointer",x:s,y:l,onClick:function(){n.toggleCollapse(!n.isCollapsed)}}),d])},t.prototype.getShape=function(){return U("g",{},[this.getAppendAreaShape(),e.prototype.getShape.call(this),this.getOperateIcon()])},t}(sa),HW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wd=function(){return wd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},wd.apply(this,arguments)},Kh=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Ks=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},qs=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},WW=400,GW=230,XW=80,UW=60,YW=-1e4,KW=function(e){HW(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.isGroup=!0,o.isRestrict=!1,o.autoResize=!1,o.collapsible=!0,o.isCollapsed=!1,o.groupAddable=!1,o.transformWithContainer=!1,o.childrenLastCollapseStateDict=new Map,o.childrenLastCollapseStateDict=new Map,o.initNodeData(n),o.setAttributes(),o}return t.prototype.initNodeData=function(n){var r;e.prototype.initNodeData.call(this,n);var o=(r=n.properties)!==null&&r!==void 0?r:{},i=o.children,a=o.width,s=o.height,l=o.collapsedWidth,c=o.collapsedHeight,d=o.collapsible,f=o.isCollapsed,h=o.zIndex,p=o.isRestrict,v=o.autoResize,g=o.autoToFront,m=o.transformWithContainer;this.children=i?new Set(i):new Set,this.zIndex=h??YW,this.isCollapsed=f??!1;var y=a??WW,_=s??GW;this.width=y,this.height=_,this.expandWidth=y,this.expandHeight=_,this.collapsedWidth=l??XW,this.collapsedHeight=c??UW,this.isRestrict=p??!1,this.transformWithContainer=m??!1,this.autoResize=v??!1,this.collapsible=d??!0,this.autoToFront=g??!1,this.text.editable=!1,this.text.draggable=!1},t.prototype.setAttributes=function(){e.prototype.setAttributes.call(this)},t.prototype.getData=function(){var n=this,r=e.prototype.getData.call(this),o=[];return qe(Array.from(this.children),function(i){var a=n.graphModel.getNodeModelById(i);a&&!a.virtual&&o.push(i)}),r.children=o,r.properties&&(r.properties.children=o,r.properties.isCollapsed=this.isCollapsed),r},t.prototype.getHistoryData=function(){var n=e.prototype.getHistoryData.call(this);n.children=Array.from(this.children),n.isGroup=!0;var r=this,o=r.x,i=r.y,a=r.collapsedWidth,s=r.collapsedHeight,l=r.expandWidth,c=r.expandHeight,d=r.isCollapsed;return d&&(n.x=o+l/2-a/2,n.y=i+c/2-s/2,n.text&&(n.text.x=n.text.x+l/2-a/2,n.text.y=n.text.y+c/2-s/2)),n},t.prototype.toggleCollapse=function(n){var r=this,o=!!n;this.isCollapsed=o,o?this.collapse():this.expand();var i=qs(qs([],Ks(this.incoming.edges),!1),Ks(this.outgoing.edges),!1),a=Array.from(this.children);qe(a,function(s){var l,c,d=r.graphModel.elementsModelMap.get(s);if(d){var f=d.isCollapsed;if(d.isGroup){var h=d;if(h.isCollapsed||h.toggleCollapse(n),!n){var p=(l=r.childrenLastCollapseStateDict)===null||l===void 0?void 0:l.get(s);p!==void 0&&p!==d.isCollapsed&&h.toggleCollapse(p)}}if((c=r.childrenLastCollapseStateDict)===null||c===void 0||c.set(s,!!f),d.visible=!n,d.BaseType===Wt.NODE){var v=d.incoming.edges,g=d.outgoing.edges;i=qs(qs(qs([],Ks(i),!1),Ks(v),!1),Ks(g),!1)}}}),this.collapseEdge(o,i)},t.prototype.collapse=function(){var n=this,r=n.x,o=n.y,i=n.text,a=n.width,s=n.height,l=n.collapsedWidth,c=n.collapsedHeight;this.x=r-a/2+l/2,this.y=o-s/2+c/2,this.text.x=i.x-a/2+l/2,this.text.y=i.y-s/2+c/2,this.expandWidth=a,this.expandHeight=s,this.width=l,this.height=c},t.prototype.expand=function(){var n=this,r=n.x,o=n.y,i=n.text,a=n.expandWidth,s=n.expandHeight,l=n.collapsedWidth,c=n.collapsedHeight;this.width=a,this.height=s,this.x=r+this.width/2-l/2,this.y=o+this.height/2-c/2,this.text.x=i.x+this.width/2-l/2,this.text.y=i.y+this.height/2-c/2},t.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isCollapsedEdge=!0},t.prototype.collapseEdge=function(n,r){var o=this,i=this.graphModel;qe(r,function(a,s){var l,c=a.getData(),d=c.targetNodeId,f=c.sourceNodeId,h=wd(wd({},c),{id:"".concat(c.id,"__").concat(s),text:(l=c.text)===null||l===void 0?void 0:l.value});a.virtual&&i.deleteEdgeById(a.id);var p=i.dynamicGroup.getGroupByNodeId(d);p||(p=i.getNodeModelById(d));var v=i.dynamicGroup.getGroupByNodeId(f);v||(v=i.getNodeModelById(f)),n&&a.visible&&(o.children.has(f)||o.id===f?(h.startPoint=void 0,h.sourceNodeId=o.id):(h.endPoint=void 0,h.targetNodeId=o.id),(p.id!==o.id||v.id!==o.id)&&o.createVirtualEdge(h),a.visible=!1),!n&&!a.visible&&(p&&p.isGroup&&p.isCollapsed?(h.targetNodeId=p.id,h.endPoint=void 0,o.createVirtualEdge(h)):v&&v.isGroup&&v.isCollapsed?(h.sourceNodeId=v.id,h.startPoint=void 0,o.createVirtualEdge(h)):a.visible=!0)})},t.prototype.isAllowAppendIn=function(n){return!0},t.prototype.setAllowAppendChild=function(n){this.groupAddable=n},t.prototype.addChild=function(n){this.children.add(n);var r=this.getData();this.graphModel.eventCenter.emit("group:add-node",{data:r})},t.prototype.removeChild=function(n){this.children.delete(n);var r=this.getData();this.graphModel.eventCenter.emit("group:remove-node",{data:r})},t.prototype.toBack=function(){this.zIndex--},t.prototype.getResizeOutlineStyle=function(){var n=e.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},t.prototype.getAnchorStyle=function(){var n=e.prototype.getAnchorStyle.call(this);return n.stroke="transparent",n.fill="transparent",n.hover&&(n.hover.fill="transparent",n.hover.stroke="transparent"),n},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#feb663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},Kh([ee],t.prototype,"isCollapsed",void 0),Kh([ee],t.prototype,"groupAddable",void 0),Kh([ee],t.prototype,"transformWithContainer",void 0),t}(ds);function qW(e,t){var n=e.minX,r=e.minY,o=e.maxX,i=e.maxY,a=t.x,s=t.y,l=t.width,c=t.height;return n>=a-l/2&&o<=a+l/2&&r>=s-c/2&&i<=s+c/2}function ZW(e,t,n,r){var o=e.minX,i=e.minY,a=e.maxX,s=e.maxY,l=t.x,c=t.y,d=t.width,f=t.height,h=o+d/2,p=i+f/2,v=a-d/2,g=s-f/2;return{x:l+n>=h&&l+n<=v,y:c+r>=p&&c+r<=g}}var xd=function(){return xd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xd.apply(this,arguments)},ka=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Ra=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},_a={type:"dynamic-group",view:FW,model:KW},JW=-1e3,nc=-1e4,QW=function(){function e(t){var n=t.lf,r=t.options,o=this;this.topGroupZIndex=nc,this.nodeGroupMap=new Map,this.addNodeToGroup=function(i){var a=i.data,s=o.nodeGroupMap.get(a.id);if(s){var l=o.lf.getNodeModelById(s);l.removeChild(a.id),o.nodeGroupMap.delete(a.id),l.setAllowAppendChild(!1)}var c=o.lf.getNodeModelById(a.id),d=c==null?void 0:c.getBounds();if(c&&d){if(c.isGroup){var f=c;qe(Array.from(f.children),function(v){o.nodeGroupMap.set(v,a.id)}),o.calibrateTopGroupZIndex([a]),o.onNodeSelect({data:a,isSelected:!1,isMultiple:!1})}var l=o.getGroupByBounds(d,a);if(l){var h=l.isAllowAppendIn(a);console.log("isAllowAppendIn",h),h?(l.addChild(a.id),o.nodeGroupMap.set(a.id,l.id),l.setAllowAppendChild(!0)):o.lf.emit("group:not-allowed",{group:l.getData(),node:a})}}},this.removeNodeFromGroup=function(i){var a=i.data,s=i.model;s.isGroup&&a.children&&qe(Array.from(a.children),function(d){o.nodeGroupMap.delete(d),o.lf.deleteNode(d)});var l=o.nodeGroupMap.get(a.id);if(l){var c=o.lf.getNodeModelById(l);c&&c.removeChild(a.id),o.nodeGroupMap.delete(a.id)}},this.setActiveGroup=function(i){var a=i.data,s=o.lf.getNodeModelById(a.id),l=s==null?void 0:s.getBounds();if(s&&l){var c=o.getGroupByBounds(l,a);if(o.activeGroup&&o.activeGroup.setAllowAppendChild(!1),!c||s.isGroup&&c.id===a.id)return;var d=c.isAllowAppendIn(a);if(!d)return;o.activeGroup=c,console.log("this.activeGroup",o.activeGroup),o.activeGroup.setAllowAppendChild(!0)}},this.onNodeSelect=function(i){var a=i.data,s=i.isMultiple,l=i.isSelected,c=o.lf.getNodeModelById(a.id);if(o.sendNodeToFront(c),o.topGroupZIndex>JW){var d=o.lf.graphModel.nodes;o.topGroupZIndex=nc;var f=lC(ll(d,function(m){return!!m.isGroup}),"zIndex"),h=0;qe(f,function(m){m.zIndex!==h&&(o.topGroupZIndex++,h=m.zIndex),m.setZIndex(o.topGroupZIndex)})}if(s&&l)if(c!=null&&c.isGroup){var p=c.children;qe(Array.from(p),function(m){var y=o.lf.getNodeModelById(m);y==null||y.setSelected(!1)})}else{var v=o.nodeGroupMap.get(a.id);if(v){var g=o.lf.getNodeModelById(v);g!=null&&g.isSelected&&(c==null||c.setSelected(!1))}}},this.onNodeMove=function(i){var a=i.deltaX,s=i.deltaY,l=i.data,c=l.id,d=l.x,f=l.y,h=l.properties;if(h){var p=h.width,v=h.height,g=o.nodeGroupMap.get(c);if(g){var m=o.lf.getNodeModelById(g);if(!(!m||!m.isRestrict||!m.autoResize)){var y=d+a/2,_=f+s/2,C=y-p/2,x=_-v/2,S=y+p/2,b=_+v/2,w=!1,T=m.getBounds(),k=Object.assign({},T);if(C<k.minX&&(k.minX=C,w=!0),x<k.minY&&(k.minY=x,w=!0),S>k.maxX&&(k.maxX=S,w=!0),b>k.maxY&&(k.maxY=b,w=!0),!!w){var I=k.minX+(k.maxX-k.minX)/2,X=k.minY+(k.maxY-k.minY)/2,te=k.maxX-k.minX,E=k.maxY-k.minY;m.moveTo(I,X),m.width=te,m.height=E}}}}},this.onGraphRendered=function(i){var a=i.data;console.log("data",a),qe(a.nodes,function(s){s.children&&qe(s.children,function(l){o.nodeGroupMap.set(l,s.id)})}),o.calibrateTopGroupZIndex(a.nodes)},n.register(_a),this.lf=n,wt(this,r),this.init()}return e.prototype.getGroupByNodeId=function(t){var n=this.nodeGroupMap.get(t);if(n)return this.lf.getNodeModelById(n)},e.prototype.getGroupByBounds=function(t,n){var r=this.lf.graphModel.nodes,o=ll(r,function(l){return!!l.isGroup&&qW(t,l)&&l.id!==n.id}),i=o.length;if(i<=1)return o[0];for(var a=o[i-1],s=i-2;s>=0;s--)o[s].zIndex>a.zIndex&&(a=o[s]);return a},e.prototype.sendNodeToFront=function(t){var n=this;if(!(!t||!t.isGroup)&&(this.topGroupZIndex++,t.setZIndex(this.topGroupZIndex),t.children)){var r=t.children;qe(Array.from(r),function(o){var i=n.lf.getNodeModelById(o);n.sendNodeToFront(i)})}},e.prototype.getMaxZIndex=function(t){var n=this,r=nc;if(t.isGroup&&(r=Math.max(r,t.zIndex)),t.children){var o=t.children;qe(Array.from(o),function(i){var a=n.lf.getNodeModelById(i);if(a!=null&&a.isGroup){var s=n.getMaxZIndex(a);r=Math.max(r,s)}})}return r},e.prototype.calibrateTopGroupZIndex=function(t){var n=this,r=nc;if(qe(t,function(s){var l=n.lf.getNodeModelById(s.id);if(l){var c=n.getMaxZIndex(l);c>r&&(r=c)}}),!(this.topGroupZIndex>=r)){var o=this.lf.graphModel.nodes,i=ll(o,function(s){return!!s.isGroup}),a=this.topGroupZIndex;qe(i,function(s){s.zIndex>a&&(a=s.zIndex)}),this.topGroupZIndex=a}},e.prototype.removeChildrenInGroupNodeData=function(t){var n,r=Ye(t);return delete r.children,!((n=r.properties)===null||n===void 0)&&n.children&&delete r.properties.children,r},e.prototype.initGroupChildNodes=function(t,n,r,o){var i=this,a=[],s=[],l=[];qe(Array.from(n),function(f){var h=i.lf.getNodeModelById(f);if(h){var p=h.children,v=h.getData(),g=Pe.NODE_GROUP_COPY||"node:group-copy-add",m=qH(i.removeChildrenInGroupNodeData(v),o),y=i.lf.addNode(m,g);if(r.addChild(y.id),t[f]=y.id,a.push(y),l.push.apply(l,Ra([],ka(Ra(Ra([],ka(y.incoming.edges),!1),ka(y.outgoing.edges),!1)),!1)),p instanceof Set){var _=i.initGroupChildNodes(t,p,y,o),C=_.childNodes,x=_.edgesData;a.push.apply(a,Ra([],ka(C),!1)),s.push.apply(s,Ra([],ka(x),!1))}}}),console.log("allRelatedEdges -->>",l);var c=ll(l,function(f){return os(t,f.sourceNodeId)&&os(t,f.targetNodeId)}),d=An(c,function(f){return f.getData()});return{childNodes:a,edgesData:s.concat(d)}},e.prototype.createEdge=function(t,n,r){var o,i,a=t.sourceNodeId,s=t.targetNodeId,l=(o=n[a])!==null&&o!==void 0?o:a,c=(i=n[s])!==null&&i!==void 0?i:s,d=Ye(t);return t.id&&typeof t.text=="object"&&t.text!==null&&(d=ZH(t,r)),this.lf.graphModel.addEdge(xd(xd({},d),{sourceNodeId:l,targetNodeId:c}))},e.prototype.checkGroupBoundsWithChildren=function(t,n,r,o,i){if(t.children)for(var a=t.children,s=t.x,l=t.y,c=s+n/2,d=l+r/2,f=c-o/2,h=d-i/2,p=c+o/2,v=d+i/2,g=Array.from(a),m=0;m<g.length;m++){var y=g[m],_=this.lf.getNodeModelById(y);if(_){var C=_.getBounds(),x=C.minX,S=C.minY,b=C.maxX,w=C.maxY,T=f<=x&&h<=S&&p>=b&&v>=w;if(!T)return!1}}return!0},e.prototype.init=function(){var t=this,n=this.lf,r=n.graphModel;r.addNodeMoveRules(function(o,i,a){if(o.isGroup)return!0;var s=t.nodeGroupMap.get(o.id),l=t.lf.getNodeModelById(s);if(l&&l.isRestrict){if(l.autoResize)return!0;var c=l.getBounds();return ZW(c,o,i,a)}return!0}),r.addNodeResizeRules(function(o,i,a,s,l){return o.isGroup&&o.isRestrict?t.checkGroupBoundsWithChildren(o,i,a,s,l):!0}),r.dynamicGroup=this,n.on("node:add,node:drop,node:dnd-add",this.addNodeToGroup),n.on("node:delete",this.removeNodeFromGroup),n.on("node:drag,node:dnd-drag",this.setActiveGroup),n.on("node:click",this.onNodeSelect),n.on("node:mousemove",this.onNodeMove),n.on("graph:rendered",this.onGraphRendered),n.on("graph:updated",function(o){var i=o.data;return console.log("data",i)}),n.on("group:add-node",function(o){var i=o.data;return console.log("group:add-node",i)}),n.addElements=function(o,i){var a=o.nodes,s=o.edges;i===void 0&&(i=40);var l={},c={nodes:[],edges:[]},d=[];return qe(a,function(f){var h,p,v=f.id,g=(p=(h=f.properties)===null||h===void 0?void 0:h.children)!==null&&p!==void 0?p:f.children,m=n.addNode(t.removeChildrenInGroupNodeData(f));if(v&&(l[v]=m.id),c.nodes.push(m),m.isGroup){var y=t.initGroupChildNodes(l,g,m,i).edgesData;d.push.apply(d,Ra([],ka(y),!1))}}),qe(d,function(f){t.createEdge(f,l,i)}),console.log("selectedEdges --->>>",s),qe(s,function(f){c.edges.push(t.createEdge(f,l,i))}),c},this.render()},e.prototype.render=function(){},e.prototype.destroy=function(){this.lf.off("node:add,node:drop,node:dnd-add",this.addNodeToGroup),this.lf.off("node:delete",this.removeNodeFromGroup),this.lf.off("node:drag,node:dnd-drag",this.setActiveGroup),this.lf.off("node:click",this.onNodeSelect),this.lf.off("node:mousemove",this.onNodeMove),this.lf.off("graph:rendered",this.onGraphRendered)},e.pluginName="dynamicGroup",e}(),hs;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(hs||(hs={}));var eG=function(e,t,n,r){r===void 0&&(r=0);var o=nG(e,t,n);return o<=r};function $b(e){return e*e}function qh(e,t){return $b(e.x-t.x)+$b(e.y-t.y)}var tG=function(e,t,n){var r=qh(t,n);if(r===0)return qh(e,t);var o=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return o=Math.max(0,Math.min(1,o)),qh(e,{x:t.x+o*(n.x-t.x),y:t.y+o*(n.y-t.y)})},nG=function(e,t,n){return Math.sqrt(tG(e,t,n))},rG=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i={minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n};return i},oG=function(e,t){var n;return e.x===t.x?n=hs.VERTICAL:e.y===t.y&&(n=hs.HORIZONTAL),n},iG=function(e,t,n){var r=rG(e),o=oG(t,n),i=Math.max(t.x,n.x),a=Math.min(t.x,n.x),s=Math.max(t.y,n.y),l=Math.min(t.y,n.y),c=e.x,d=e.y,f=e.width,h=e.height;if(o===hs.HORIZONTAL){if(i>=r.maxX&&a<=r.minX)return{startCrossPoint:{x:t.x>n.x?c+f/2:c-f/2,y:t.y},endCrossPoint:{x:t.x>n.x?c-f/2:c+f/2,y:t.y}}}else if(o===hs.VERTICAL&&s>=r.maxY&&l<=r.minY)return{startCrossPoint:{x:t.x,y:t.y>n.y?d+h/2:d-h/2},endCrossPoint:{x:t.x,y:t.y>n.y?d-h/2:d+h/2}}},aG=function(e,t,n){n===void 0&&(n=0);for(var r=e.x,o=e.y,i=t.pointsList,a=0;a<i.length-1;a++)if(eG({x:r,y:o},i[a],i[a+1],n)){var s=iG(e,i[a],i[a+1]);if(s)return{crossIndex:a+1,crossPoints:s}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Bb=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Zh=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},sG=function(){function e(t){var n=t.lf;this._lf=n,this.deviation=20,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return e.prototype.eventHandler=function(){var t=this;this.dndAdd&&this._lf.on("node:dnd-add",function(n){var r=n.data;t.insetNode(r)}),this.dropAdd&&this._lf.on("node:drop",function(n){for(var r=n.data,o=t._lf.graphModel.edges,i=r.id,a=!0,s=0;s<o.length;s++)if(o[s].sourceNodeId===i||o[s].targetNodeId===i){a=!1;break}a&&t.insetNode(r)})},e.prototype.checkRuleBeforeInsetNode=function(t,n,r,o,i){var a=this._lf.getNodeModelById(t),s=this._lf.getNodeModelById(n),l=a.getAnchorInfo(r),c=s.getAnchorInfo(o),d=a.isAllowConnectedAsSource(i,l,c),f=s.isAllowConnectedAsTarget(i,l,c),h=ss(d),p=h.isAllPass,v=h.msg,g=ss(f),m=g.isAllPass,y=g.msg;return{isPass:p&&m,sourceMsg:v,targetMsg:y}},e.prototype.insetNode=function(t){var n=this,r=this._lf.graphModel.edges,o=this._lf.getNodeModelById(t.id),i=o==null?void 0:o.getDefaultAnchor(),a=!i||i.length===0;if(a){this._lf.graphModel.eventCenter.emit(Pe.CONNECTION_NOT_ALLOWED,{data:t,msg:"自定义类型节点不显示锚点，也不允许其他节点连接到此节点"});return}if(o)for(var s=0;s<r.length;s++){var l=aG(o,r[s],this.deviation),c=l.crossIndex,d=l.crossPoints;if(c>=0){var f=r[s],h=f.sourceNodeId,p=f.targetNodeId,v=f.id,g=f.type,m=f.pointsList,y=f.sourceAnchorId,_=f.targetAnchorId,C=Ye(m[0]),x=Ye(d.startCrossPoint);this._lf.deleteEdge(v);var S=this.checkRuleBeforeInsetNode(h,p,y,_,t);if(this._lf.addEdge({type:g,sourceNodeId:h,targetNodeId:t.id,startPoint:C,endPoint:x,pointsList:Zh(Zh([],Bb(m.slice(0,c)),!1),[d.startCrossPoint],!1)}),this._lf.addEdge({type:g,sourceNodeId:t.id,targetNodeId:p,startPoint:Ye(d.endCrossPoint),endPoint:Ye(m[m.length-1]),pointsList:Zh([d.endCrossPoint],Bb(m.slice(c)),!1)}),S.isPass)break;this._lf.graphModel.eventCenter.emit(Pe.CONNECTION_NOT_ALLOWED,{data:t,msg:S.targetMsg||S.sourceMsg}),setTimeout(function(){n._lf.undo()},200);break}}},e.pluginName="insertNodeInPolyline",e}(),lG=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pl=function(){return Pl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pl.apply(this,arguments)},uG=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},cG=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},dG=function(e){lG(t,e);function t(n){var r=e.call(this,n)||this;r.textRef=Gd(),r.setHoverOn=function(){var l=r.props.element;l.isDragging||r.state.isHovered||(r.setState({isHovered:!0}),l.setHovered(!0))},r.setHoverOff=function(){var l=r.props.element;r.state.isHovered&&(r.setState({isHovered:!1}),l.setHovered(!1))},r.handleMouseDown=function(l){var c,d=r.props,f=d.label,h=d.graphModel,p=h.editConfigModel.nodeTextDraggable;((c=f.draggable)!==null&&c!==void 0?c:p)&&!r.state.isDragging&&!r.state.isEditing&&r.stepDrag.handleMouseDown(l)},r.handleMouseUp=function(l){r.state.isDragging&&r.stepDrag.handleMouseUp(l)},r.handleDragging=function(l){var c=l.deltaX,d=l.deltaY;r.state.isDragging||r.setState({isDragging:!0});var f=r.props,h=f.label,p=f.graphModel,v=p.transformModel,g=cG(v.fixDeltaXY(c,d),2),m=g[0],y=g[1];r.setElementModelLabelInfo({x:h.x+m,y:h.y+y}),p.eventCenter.emit("label:drag",{data:h.getData(),model:h})},r.handleDragEnd=function(){r.setState({isDragging:!1})},r.handleClick=function(l){var c=r.props,d=c.label,f=c.element,h=c.graphModel;f.setSelected(!r.state.isSelected),r.setState({isSelected:!r.state.isSelected}),r.setElementModelLabelInfo({isSelected:!0}),h.eventCenter.emit("label:click",{data:d.getData(),e:l,model:f})},r.handleDbClick=function(l){var c=r.props,d=c.label,f=c.element,h=c.graphModel;if(h.eventCenter.emit("label:dblclick",{data:d.getData(),e:l,model:f}),!d.editable){f.setSelected(!0);return}if(f.setSelected(),f.setElementState(gt.TEXT_EDIT),r.setState({isEditing:!0}),r.textRef.current){r.textRef.current.contentEditable="true",r.textRef.current.focus();var p=document.createRange(),v=window.getSelection();p.selectNodeContents(r.textRef.current),p.collapse(!1),v==null||v.removeAllRanges(),v==null||v.addRange(p)}},r.handleBlur=function(l){var c=r.props,d=c.label,f=c.element,h=c.graphModel.eventCenter;h.emit("label:blur",{e:l,model:f,data:d.getData(),element:r.textRef.current}),r.setState({isDragging:!1,isHovered:!1,isSelected:!1})},r.reCalcLabelSize=function(){};var o=n.label,i=n.graphModel,a=i.gridSize,s=i.eventCenter;return r.stepDrag=new Tr({onDragging:r.handleDragging,onDragEnd:r.handleDragEnd,step:a,eventType:"LABEL",model:o,eventCenter:s}),r.state={isEditing:!1,isHovered:!1,isDragging:!1,isSelected:!1},r}return t.prototype.setElementModelLabelInfo=function(n){var r=this.props,o=r.label,i=r.element,a=r.graphModel,s=i.properties._label,l=s,c=Yg(l,function(h){return h.id===o.id}),d=l[c];l[c]=Pl(Pl({},d),n);var f=a.getElement(i.id);f==null||f.setProperty("_label",l)},t.prototype.componentDidMount=function(){var n=this,r=this.props,o=r.label,i=r.element,a=r.graphModel;a.eventCenter.on("blank:click,node:click,edge:click,label:click",function(s){var l,c,d,f,h=s.data;if(((h==null?void 0:h.type)!=="label"||h.type==="label"&&h.id!==o.id||n.state.isSelected)&&n.setState({isSelected:!1}),((h==null?void 0:h.type)!=="label"||h.type=="label"&&h.id!==o.id)&&n.state.isEditing){n.setState({isEditing:!1});var p=(c=(l=n.textRef.current)===null||l===void 0?void 0:l.innerText)!==null&&c!==void 0?c:"",v=(f=(d=n.textRef.current)===null||d===void 0?void 0:d.innerHTML)!==null&&f!==void 0?f:"";n.setElementModelLabelInfo({value:p,content:v,isSelected:!1}),i.setElementState(gt.DEFAULT)}((h==null?void 0:h.type)!=="label"||h.type=="label"&&h.id!==o.id)&&n.textRef.current&&(n.textRef.current.contentEditable="false")})},t.prototype.componentDidUpdate=function(){},t.prototype.componentWillUnmount=function(){var n=this.props.graphModel;n.eventCenter.off("blank:click,node:click,edge:click")},t.prototype.render=function(){var n,r=this.props,o=r.label,i=r.element,a=r.graphModel,s=this.state,l=s.isDragging,c=s.isHovered,d=s.isSelected,f=s.isEditing,h=a.transformModel,p=h.getTransformStyle().transform,v=o.id,g=o.x,m=o.y,y=o.zIndex,_=o.vertical,C=o.style,x=o.rotate,S=o.content,b=o.labelWidth,w=o.textOverflowMode,T=b??(i.BaseType==="node"?i.width-20:80),k={left:"".concat(g-T/2,"px"),top:"".concat(m-10,"px"),width:"".concat(T,"px"),height:"20px",zIndex:y??1,transform:x?"".concat(p," rotate(").concat(x,"deg)"):"".concat(p," rotate(").concat(_?-.25:0,"turn)")};return K("div",{id:"element-container-".concat(v),className:lv("lf-label-editor-container"),style:k,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onDblClick:this.handleDbClick,onBlur:this.handleBlur,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,children:K("div",{ref:this.textRef,id:"editor-container-".concat(v),className:lv("lf-label-editor",(n={"lf-label-editor-dragging":l,"lf-label-editor-editing":f,"lf-label-editor-hover":!f&&(c||d)},n["lf-label-editor-".concat(w)]=!f,n)),style:Pl({maxWidth:"".concat(T,"px"),boxSizing:"border-box",display:"inline-block",background:f||i.BaseType==="edge"?"#fff":"transparent"},C),dangerouslySetInnerHTML:{__html:S}})})},t=uG([Mn],t),t}(ut),cr=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},fG=ui,hG=function(){function e(t,n,r){var o;this.type="label",this.content="",this.value="",this.style={},this.vertical=!1,this.editable=!0,this.draggable=!0,this.textOverflowMode="default",this.element=n,this.graphModel=r,this.id=(o=t.id)!==null&&o!==void 0?o:fG(),this.initLabelData(t)}return e.prototype.initLabelData=function(t){wt(this,t)},e.prototype.getData=function(){return{id:this.id,x:this.x,y:this.y,type:"label",content:this.content,value:this.value,rotate:this.rotate,style:$r(this.style),draggable:this.draggable,editable:this.editable,labelWidth:this.labelWidth,textOverflowMode:this.textOverflowMode,vertical:this.vertical}},cr([ee],e.prototype,"x",void 0),cr([ee],e.prototype,"y",void 0),cr([ee],e.prototype,"content",void 0),cr([ee],e.prototype,"value",void 0),cr([ee],e.prototype,"rotate",void 0),cr([ee],e.prototype,"style",void 0),cr([ee],e.prototype,"zIndex",void 0),cr([ee],e.prototype,"vertical",void 0),cr([ee],e.prototype,"editable",void 0),cr([ee],e.prototype,"draggable",void 0),cr([ee],e.prototype,"labelWidth",void 0),cr([ee],e.prototype,"textOverflowMode",void 0),e}(),lS={exports:{}};(function(e){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"classList"in document.createElement("_")||function(t){if("Element"in t){var n="classList",r="prototype",o=t.Element[r],i=Object,a=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[r].indexOf||function(v){for(var g=0,m=this.length;g<m;g++)if(g in this&&this[g]===v)return g;return-1},l=function(v,g){this.name=v,this.code=DOMException[v],this.message=g},c=function(v,g){if(g==="")throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(g))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(v,g)},d=function(v){for(var g=a.call(v.getAttribute("class")||""),m=g?g.split(/\s+/):[],y=0,_=m.length;y<_;y++)this.push(m[y]);this._updateClassName=function(){v.setAttribute("class",this.toString())}},f=d[r]=[],h=function(){return new d(this)};if(l[r]=Error[r],f.item=function(v){return this[v]||null},f.contains=function(v){return v+="",c(this,v)!==-1},f.add=function(){var v=arguments,g=0,m=v.length,y,_=!1;do y=v[g]+"",c(this,y)===-1&&(this.push(y),_=!0);while(++g<m);_&&this._updateClassName()},f.remove=function(){var v=arguments,g=0,m=v.length,y,_=!1,C;do for(y=v[g]+"",C=c(this,y);C!==-1;)this.splice(C,1),_=!0,C=c(this,y);while(++g<m);_&&this._updateClassName()},f.toggle=function(v,g){v+="";var m=this.contains(v),y=m?g!==!0&&"remove":g!==!1&&"add";return y&&this[y](v),g===!0||g===!1?g:!m},f.toString=function(){return this.join(" ")},i.defineProperty){var p={get:h,enumerable:!0,configurable:!0};try{i.defineProperty(o,n,p)}catch(v){v.number===-2146823252&&(p.enumerable=!1,i.defineProperty(o,n,p))}}else i[r].__defineGetter__&&o.__defineGetter__(n,h)}}(self);/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */(function(t){if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{new Blob;return}catch{}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(o){var i=function(w){return Object.prototype.toString.call(w).match(/^\[object\s(.*)\]$/)[1]},a=function(){this.data=[]},s=function(T,k,I){this.data=T,this.size=T.length,this.type=k,this.encoding=I},l=a.prototype,c=s.prototype,d=o.FileReaderSync,f=function(w){this.code=this[this.name=w]},h="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),p=h.length,v=o.URL||o.webkitURL||o,g=v.createObjectURL,m=v.revokeObjectURL,y=v,_=o.btoa,C=o.atob,x=o.ArrayBuffer,S=o.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(s.fake=c.fake=!0;p--;)f.prototype[h[p]]=p+1;return v.createObjectURL||(y=o.URL=function(w){var T=document.createElementNS("http://www.w3.org/1999/xhtml","a"),k;return T.href=w,"origin"in T||(T.protocol.toLowerCase()==="data:"?T.origin=null:(k=w.match(b),T.origin=k&&k[1])),T}),y.createObjectURL=function(w){var T=w.type,k;if(T===null&&(T="application/octet-stream"),w instanceof s)return k="data:"+T,w.encoding==="base64"?k+";base64,"+w.data:w.encoding==="URI"?k+","+decodeURIComponent(w.data):_?k+";base64,"+_(w.data):k+","+encodeURIComponent(w.data);if(g)return g.call(v,w)},y.revokeObjectURL=function(w){w.substring(0,5)!=="data:"&&m&&m.call(v,w)},l.append=function(w){var T=this.data;if(S&&(w instanceof x||w instanceof S)){for(var k="",I=new S(w),X=0,te=I.length;X<te;X++)k+=String.fromCharCode(I[X]);T.push(k)}else if(i(w)==="Blob"||i(w)==="File")if(d){var E=new d;T.push(E.readAsBinaryString(w))}else throw new f("NOT_READABLE_ERR");else w instanceof s?w.encoding==="base64"&&C?T.push(C(w.data)):w.encoding==="URI"?T.push(decodeURIComponent(w.data)):w.encoding==="raw"&&T.push(w.data):(typeof w!="string"&&(w+=""),T.push(unescape(encodeURIComponent(w))))},l.getBlob=function(w){return arguments.length||(w=null),new s(this.data.join(""),w,"raw")},l.toString=function(){return"[object BlobBuilder]"},c.slice=function(w,T,k){var I=arguments.length;return I<3&&(k=null),new s(this.data.slice(w,I>1?T:this.data.length),k,this.encoding)},c.toString=function(){return"[object Blob]"},c.close=function(){this.size=0,delete this.data},a}(t);t.Blob=function(o,i){var a=i&&i.type||"",s=new n;if(o)for(var l=0,c=o.length;l<c;l++)Uint8Array&&o[l]instanceof Uint8Array?s.append(o[l].buffer):s.append(o[l]);var d=s.getBlob(a);return!d.slice&&d.webkitSlice&&(d.slice=d.webkitSlice),d};var r=Object.getPrototypeOf||function(o){return o.__proto__};t.Blob.prototype=r(new t.Blob)})(typeof self<"u"&&self||typeof window<"u"&&window||dh.content||dh),function(t,n){var r=typeof process<"u"&&process&&process.versions&&process.versions.electron;r?t.MediumEditor=n:e.exports=n}(dh,function(){function t(n,r){return this.init(n,r)}return t.extensions={},function(n){function r(l,c){var d,f=Array.prototype.slice.call(arguments,2);c=c||{};for(var h=0;h<f.length;h++){var p=f[h];if(p)for(d in p)p.hasOwnProperty(d)&&typeof p[d]<"u"&&(l||c.hasOwnProperty(d)===!1)&&(c[d]=p[d])}return c}var o=!1;try{var i=document.createElement("div"),a=document.createTextNode(" ");i.appendChild(a),o=i.contains(a)}catch{}var s={isIE:navigator.appName==="Microsoft Internet Explorer"||navigator.appName==="Netscape"&&new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!==null,isEdge:/Edge\/\d+/.exec(navigator.userAgent)!==null,isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:n.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(l){return!!(s.isMac&&l.metaKey||!s.isMac&&l.ctrlKey)},isKey:function(l,c){var d=s.getKeyCode(l);return Array.isArray(c)===!1?d===c:c.indexOf(d)!==-1},getKeyCode:function(l){var c=l.which;return c===null&&(c=l.charCode!==null?l.charCode:l.keyCode),c},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var c=[!0].concat(Array.prototype.slice.call(arguments));return r.apply(this,c)},defaults:function(){var c=[!1].concat(Array.prototype.slice.call(arguments));return r.apply(this,c)},createLink:function(l,c,d,f){var h=l.createElement("a");return s.moveTextRangeIntoElement(c[0],c[c.length-1],h),h.setAttribute("href",d),f&&(f==="_blank"&&h.setAttribute("rel","noopener noreferrer"),h.setAttribute("target",f)),h},findOrCreateMatchingTextNodes:function(l,c,d){for(var f=l.createTreeWalker(c,NodeFilter.SHOW_ALL,null,!1),h=[],p=0,v=!1,g=null,m=null;(g=f.nextNode())!==null;)if(!(g.nodeType>3))if(g.nodeType===3){if(!v&&d.start<p+g.nodeValue.length&&(v=!0,m=s.splitStartNodeIfNeeded(g,d.start,p)),v&&s.splitEndNodeIfNeeded(g,m,d.end,p),v&&p===d.end)break;if(v&&p>d.end+1)throw new Error("PerformLinking overshot the target!");v&&h.push(m||g),p+=g.nodeValue.length,m!==null&&(p+=m.nodeValue.length,f.nextNode()),m=null}else g.tagName.toLowerCase()==="img"&&(!v&&d.start<=p&&(v=!0),v&&h.push(g));return h},splitStartNodeIfNeeded:function(l,c,d){return c!==d?l.splitText(c-d):null},splitEndNodeIfNeeded:function(l,c,d,f){var h,p;h=f+l.nodeValue.length+(c?c.nodeValue.length:0)-1,p=d-f-(c?l.nodeValue.length:0),h>=d&&f!==h&&p!==0&&(c||l).splitText(p)},splitByBlockElements:function(l){if(l.nodeType!==3&&l.nodeType!==1)return[];var c=[],d=t.util.blockContainerElementNames.join(",");if(l.nodeType===3||l.querySelectorAll(d).length===0)return[l];for(var f=0;f<l.childNodes.length;f++){var h=l.childNodes[f];if(h.nodeType===3)c.push(h);else if(h.nodeType===1){var p=h.querySelectorAll(d);p.length===0?c.push(h):c=c.concat(t.util.splitByBlockElements(h))}}return c},findAdjacentTextNodeWithContent:function(c,d,f){var h=!1,p,v=f.createNodeIterator(c,NodeFilter.SHOW_TEXT,null,!1);for(p=v.nextNode();p;){if(p===d)h=!0;else if(h&&p.nodeType===3&&p.nodeValue&&p.nodeValue.trim().length>0)break;p=v.nextNode()}return p},findPreviousSibling:function(l){if(!l||s.isMediumEditorElement(l))return!1;for(var c=l.previousSibling;!c&&!s.isMediumEditorElement(l.parentNode);)l=l.parentNode,c=l.previousSibling;return c},isDescendant:function(c,d,f){if(!c||!d)return!1;if(c===d)return!!f;if(c.nodeType!==1)return!1;if(o||d.nodeType!==3)return c.contains(d);for(var h=d.parentNode;h!==null;){if(h===c)return!0;h=h.parentNode}return!1},isElement:function(c){return!!(c&&c.nodeType===1)},throttle:function(l,c){var d=50,f,h,p,v=null,g=0,m=function(){g=Date.now(),v=null,p=l.apply(f,h),v||(f=h=null)};return!c&&c!==0&&(c=d),function(){var y=Date.now(),_=c-(y-g);return f=this,h=arguments,_<=0||_>c?(v&&(clearTimeout(v),v=null),g=y,p=l.apply(f,h),v||(f=h=null)):v||(v=setTimeout(m,_)),p}},traverseUp:function(l,c){if(!l)return!1;do{if(l.nodeType===1){if(c(l))return l;if(s.isMediumEditorElement(l))return!1}l=l.parentNode}while(l);return!1},htmlEntities:function(l){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(l,c){var d,f,h,p,v,g,m,y=!1,_=["insertHTML",!1,c];if(!t.util.isEdge&&l.queryCommandSupported("insertHTML"))try{return l.execCommand.apply(l,_)}catch{}if(d=l.getSelection(),d.rangeCount){if(f=d.getRangeAt(0),m=f.commonAncestorContainer,s.isMediumEditorElement(m)&&!m.firstChild)f.selectNode(m.appendChild(l.createTextNode("")));else if(m.nodeType===3&&f.startOffset===0&&f.endOffset===m.nodeValue.length||m.nodeType!==3&&m.innerHTML===f.toString()){for(;!s.isMediumEditorElement(m)&&m.parentNode&&m.parentNode.childNodes.length===1&&!s.isMediumEditorElement(m.parentNode);)m=m.parentNode;f.selectNode(m)}for(f.deleteContents(),h=l.createElement("div"),h.innerHTML=c,p=l.createDocumentFragment();h.firstChild;)v=h.firstChild,g=p.appendChild(v);f.insertNode(p),g&&(f=f.cloneRange(),f.setStartAfter(g),f.collapse(!0),t.selection.selectRange(l,f)),y=!0}return l.execCommand.callListeners&&l.execCommand.callListeners(_,y),y},execFormatBlock:function(l,c){var d=s.getTopBlockContainer(t.selection.getSelectionStart(l)),f;if(c==="blockquote"){if(d&&(f=Array.prototype.slice.call(d.childNodes),f.some(function(h){return s.isBlockContainer(h)})))return l.execCommand("outdent",!1,null);if(s.isIE)return l.execCommand("indent",!1,c)}if(d&&c===d.nodeName.toLowerCase()&&(c="p"),s.isIE&&(c="<"+c+">"),d&&d.nodeName.toLowerCase()==="blockquote"){if(s.isIE&&c==="<p>")return l.execCommand("outdent",!1,c);if((s.isFF||s.isEdge)&&c==="p")return f=Array.prototype.slice.call(d.childNodes),f.some(function(h){return!s.isBlockContainer(h)})&&l.execCommand("formatBlock",!1,c),l.execCommand("outdent",!1,c)}return l.execCommand("formatBlock",!1,c)},setTargetBlank:function(l,c){var d,f=c||!1;if(l.nodeName.toLowerCase()==="a")l.target="_blank",l.rel="noopener noreferrer";else for(l=l.getElementsByTagName("a"),d=0;d<l.length;d+=1)(f===!1||f===l[d].attributes.href.value)&&(l[d].target="_blank",l[d].rel="noopener noreferrer")},removeTargetBlank:function(l,c){var d;if(l.nodeName.toLowerCase()==="a")l.removeAttribute("target"),l.removeAttribute("rel");else for(l=l.getElementsByTagName("a"),d=0;d<l.length;d+=1)c===l[d].attributes.href.value&&(l[d].removeAttribute("target"),l[d].removeAttribute("rel"))},addClassToAnchors:function(l,c){var d=c.split(" "),f,h;if(l.nodeName.toLowerCase()==="a")for(h=0;h<d.length;h+=1)l.classList.add(d[h]);else{var p=l.getElementsByTagName("a");if(p.length===0){var v=s.getClosestTag(l,"a");l=v?[v]:[]}else l=p;for(f=0;f<l.length;f+=1)for(h=0;h<d.length;h+=1)l[f].classList.add(d[h])}},isListItem:function(l){if(!l)return!1;if(l.nodeName.toLowerCase()==="li")return!0;for(var c=l.parentNode,d=c.nodeName.toLowerCase();d==="li"||!s.isBlockContainer(c)&&d!=="div";){if(d==="li")return!0;if(c=c.parentNode,c)d=c.nodeName.toLowerCase();else return!1}return!1},cleanListDOM:function(l,c){if(c.nodeName.toLowerCase()==="li"){var d=c.parentElement;d.parentElement.nodeName.toLowerCase()==="p"&&(s.unwrap(d.parentElement,l),t.selection.moveCursor(l,c.firstChild,c.firstChild.textContent.length))}},splitOffDOMTree:function(l,c,d){for(var f=c,h=null,p=!d;f!==l;){var v=f.parentNode,g=v.cloneNode(!1),m=p?f:v.firstChild,y;for(h&&(p?g.appendChild(h):y=h),h=g;m;){var _=m.nextSibling;m===f?(m.hasChildNodes()?m=m.cloneNode(!1):m.parentNode.removeChild(m),m.textContent&&h.appendChild(m),m=p?_:null):(m.parentNode.removeChild(m),(m.hasChildNodes()||m.textContent)&&h.appendChild(m),m=_)}y&&h.appendChild(y),f=v}return h},moveTextRangeIntoElement:function(l,c,d){if(!l||!c)return!1;var f=s.findCommonRoot(l,c);if(!f)return!1;if(c===l){var h=l.parentNode,p=l.nextSibling;return h.removeChild(l),d.appendChild(l),p?h.insertBefore(d,p):h.appendChild(d),d.hasChildNodes()}for(var v=[],g,m,y,_=0;_<f.childNodes.length;_++)if(y=f.childNodes[_],!g)s.isDescendant(y,l,!0)&&(g=y);else if(s.isDescendant(y,c,!0)){m=y;break}else v.push(y);var C=m.nextSibling,x=f.ownerDocument.createDocumentFragment();return g===l?(g.parentNode.removeChild(g),x.appendChild(g)):x.appendChild(s.splitOffDOMTree(g,l)),v.forEach(function(S){S.parentNode.removeChild(S),x.appendChild(S)}),m===c?(m.parentNode.removeChild(m),x.appendChild(m)):x.appendChild(s.splitOffDOMTree(m,c,!0)),d.appendChild(x),m.parentNode===f?f.insertBefore(d,m):C?f.insertBefore(d,C):f.appendChild(d),d.hasChildNodes()},depthOfNode:function(l){for(var c=0,d=l;d.parentNode!==null;)d=d.parentNode,c++;return c},findCommonRoot:function(l,c){for(var d=s.depthOfNode(l),f=s.depthOfNode(c),h=l,p=c;d!==f;)d>f?(h=h.parentNode,d-=1):(p=p.parentNode,f-=1);for(;h!==p;)h=h.parentNode,p=p.parentNode;return h},isElementAtBeginningOfBlock:function(l){for(var c,d;!s.isBlockContainer(l)&&!s.isMediumEditorElement(l);){for(d=l;d=d.previousSibling;)if(c=d.nodeType===3?d.nodeValue:d.textContent,c.length>0)return!1;l=l.parentNode}return!0},isMediumEditorElement:function(l){return l&&l.getAttribute&&!!l.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(l){return s.traverseUp(l,function(c){return s.isMediumEditorElement(c)})},isBlockContainer:function(l){return l&&l.nodeType!==3&&s.blockContainerElementNames.indexOf(l.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(l){return s.traverseUp(l,function(c){return s.isBlockContainer(c)||s.isMediumEditorElement(c)})},getTopBlockContainer:function(l){var c=s.isBlockContainer(l)?l:!1;return s.traverseUp(l,function(d){return s.isBlockContainer(d)&&(c=d),!c&&s.isMediumEditorElement(d)?(c=d,!0):!1}),c},getFirstSelectableLeafNode:function(l){for(;l&&l.firstChild;)l=l.firstChild;if(l=s.traverseUp(l,function(d){return s.emptyElementNames.indexOf(d.nodeName.toLowerCase())===-1}),l.nodeName.toLowerCase()==="table"){var c=l.querySelector("th, td");c&&(l=c)}return l},getFirstTextNode:function(l){return s.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),s._getFirstTextNode(l)},_getFirstTextNode:function(l){if(l.nodeType===3)return l;for(var c=0;c<l.childNodes.length;c++){var d=s._getFirstTextNode(l.childNodes[c]);if(d!==null)return d}return null},ensureUrlHasProtocol:function(l){return l.indexOf("://")===-1?"http://"+l:l},warn:function(){n.console!==void 0&&typeof n.console.warn=="function"&&n.console.warn.apply(n.console,arguments)},deprecated:function(l,c,d){var f=l+" is deprecated, please use "+c+" instead.";d&&(f+=" Will be removed in "+d),s.warn(f)},deprecatedMethod:function(l,c,d,f){s.deprecated(l,c,f),typeof this[c]=="function"&&this[c].apply(this,d)},cleanupAttrs:function(l,c){c.forEach(function(d){l.removeAttribute(d)})},cleanupTags:function(l,c){c.indexOf(l.nodeName.toLowerCase())!==-1&&l.parentNode.removeChild(l)},unwrapTags:function(l,c){c.indexOf(l.nodeName.toLowerCase())!==-1&&t.util.unwrap(l,document)},getClosestTag:function(l,c){return s.traverseUp(l,function(d){return d.nodeName.toLowerCase()===c.toLowerCase()})},unwrap:function(l,c){for(var d=c.createDocumentFragment(),f=Array.prototype.slice.call(l.childNodes),h=0;h<f.length;h++)d.appendChild(f[h]);d.childNodes.length?l.parentNode.replaceChild(d,l):l.parentNode.removeChild(l)},guid:function(){function l(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}};t.util=s}(window),function(){var n=function(r){t.util.extend(this,r)};n.extend=function(r){var o=this,i;r&&r.hasOwnProperty("constructor")?i=r.constructor:i=function(){return o.apply(this,arguments)},t.util.extend(i,o);var a=function(){this.constructor=i};return a.prototype=o.prototype,i.prototype=new a,r&&t.util.extend(i.prototype,r),i},n.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(r){return this.base.options[r]}},["execAction","on","off","subscribe","trigger"].forEach(function(r){n.prototype[r]=function(){return this.base[r].apply(this.base,arguments)}}),t.Extension=n}(),function(){function n(o){return t.util.isBlockContainer(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var r={findMatchingSelectionParent:function(o,i){var a=i.getSelection(),s,l;return a.rangeCount===0?!1:(s=a.getRangeAt(0),l=s.commonAncestorContainer,t.util.traverseUp(l,o))},getSelectionElement:function(o){return this.findMatchingSelectionParent(function(i){return t.util.isMediumEditorElement(i)},o)},exportSelection:function(o,i){if(!o)return null;var a=null,s=i.getSelection();if(s.rangeCount>0){var l=s.getRangeAt(0),c=l.cloneRange(),d;c.selectNodeContents(o),c.setEnd(l.startContainer,l.startOffset),d=c.toString().length,a={start:d,end:d+l.toString().length},this.doesRangeStartWithImages(l,i)&&(a.startsWithImage=!0);var f=this.getTrailingImageCount(o,a,l.endContainer,l.endOffset);if(f&&(a.trailingImageCount=f),d!==0){var h=this.getIndexRelativeToAdjacentEmptyBlocks(i,o,l.startContainer,l.startOffset);h!==-1&&(a.emptyBlocksIndex=h)}}return a},importSelection:function(o,i,a,s){if(!(!o||!i)){var l=a.createRange();l.setStart(i,0),l.collapse(!0);var c=i,d=[],f=0,h=!1,p=!1,v=0,g=!1,m,y=!1,_=null;for((s||o.startsWithImage||typeof o.emptyBlocksIndex<"u")&&(y=!0);!g&&c;){if(c.nodeType>3){c=d.pop();continue}if(c.nodeType===3&&!p)m=f+c.length,!h&&o.start>=f&&o.start<=m&&(y||o.start<m?(l.setStart(c,o.start-f),h=!0):_=c),h&&o.end>=f&&o.end<=m&&(o.trailingImageCount?p=!0:(l.setEnd(c,o.end-f),g=!0)),f=m;else{if(o.trailingImageCount&&p&&(c.nodeName.toLowerCase()==="img"&&v++,v===o.trailingImageCount)){for(var C=0;c.parentNode.childNodes[C]!==c;)C++;l.setEnd(c.parentNode,C+1),g=!0}if(!g&&c.nodeType===1)for(var x=c.childNodes.length-1;x>=0;)d.push(c.childNodes[x]),x-=1}g||(c=d.pop())}!h&&_&&(l.setStart(_,_.length),l.setEnd(_,_.length)),typeof o.emptyBlocksIndex<"u"&&(l=this.importSelectionMoveCursorPastBlocks(a,i,o.emptyBlocksIndex,l)),s&&(l=this.importSelectionMoveCursorPastAnchor(o,l)),this.selectRange(a,l)}},importSelectionMoveCursorPastAnchor:function(o,i){var a=function(f){return f.nodeName.toLowerCase()==="a"};if(o.start===o.end&&i.startContainer.nodeType===3&&i.startOffset===i.startContainer.nodeValue.length&&t.util.traverseUp(i.startContainer,a)){for(var s=i.startContainer,l=i.startContainer.parentNode;l!==null&&l.nodeName.toLowerCase()!=="a";)l.childNodes[l.childNodes.length-1]!==s?l=null:(s=l,l=l.parentNode);if(l!==null&&l.nodeName.toLowerCase()==="a"){for(var c=null,d=0;c===null&&d<l.parentNode.childNodes.length;d++)l.parentNode.childNodes[d]===l&&(c=d);i.setStart(l.parentNode,c+1),i.collapse(!0)}}return i},importSelectionMoveCursorPastBlocks:function(o,i,a,s){var l=o.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1),c=s.startContainer,d,f,h=0;for(a=a||1,c.nodeType===3&&t.util.isBlockContainer(c.previousSibling)?d=c.previousSibling:d=t.util.getClosestBlockContainer(c);l.nextNode();)if(!f)d===l.currentNode&&(f=l.currentNode);else if(f=l.currentNode,h++,h===a||f.textContent.length>0)break;return f||(f=d),s.setStart(t.util.getFirstSelectableLeafNode(f),0),s},getIndexRelativeToAdjacentEmptyBlocks:function(o,i,a,s){if(a.textContent.length>0&&s>0)return-1;var l=a;if(l.nodeType!==3&&(l=a.childNodes[s]),l){if(!t.util.isElementAtBeginningOfBlock(l))return-1;var c=t.util.findPreviousSibling(l);if(c){if(c.nodeValue)return-1}else return-1}for(var d=t.util.getClosestBlockContainer(a),f=o.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1),h=0;f.nextNode();){var p=f.currentNode.textContent==="";if((p||h>0)&&(h+=1),f.currentNode===d)return h;p||(h=0)}return h},doesRangeStartWithImages:function(o,i){if(o.startOffset!==0||o.startContainer.nodeType!==1)return!1;if(o.startContainer.nodeName.toLowerCase()==="img")return!0;var a=o.startContainer.querySelector("img");if(!a)return!1;for(var s=i.createTreeWalker(o.startContainer,NodeFilter.SHOW_ALL,null,!1);s.nextNode();){var l=s.currentNode;if(l===a)break;if(l.nodeValue)return!1}return!0},getTrailingImageCount:function(o,i,a,s){if(s===0||a.nodeType!==1||a.nodeName.toLowerCase()!=="img"&&!a.querySelector("img"))return 0;for(var l=a.childNodes[s-1];l.hasChildNodes();)l=l.lastChild;for(var c=o,d=[],f=0,h=!1,p=!1,v=!1,g,m=0;!v&&c;){if(c.nodeType>3){c=d.pop();continue}if(c.nodeType===3&&!p)m=0,g=f+c.length,!h&&i.start>=f&&i.start<=g&&(h=!0),h&&i.end>=f&&i.end<=g&&(p=!0),f=g;else if(c.nodeName.toLowerCase()==="img"&&m++,c===l)v=!0;else if(c.nodeType===1)for(var y=c.childNodes.length-1;y>=0;)d.push(c.childNodes[y]),y-=1;v||(c=d.pop())}return m},selectionContainsContent:function(o){var i=o.getSelection();if(!i||i.isCollapsed||!i.rangeCount)return!1;if(i.toString().trim()!=="")return!0;var a=this.getSelectedParentElement(i.getRangeAt(0));return!!(a&&(a.nodeName.toLowerCase()==="img"||a.nodeType===1&&a.querySelector("img")))},selectionInContentEditableFalse:function(o){var i,a=this.findMatchingSelectionParent(function(s){var l=s&&s.getAttribute("contenteditable");return l==="true"&&(i=!0),s.nodeName!=="#text"&&l==="false"},o);return!i&&a},getSelectionHtml:function(i){var a,s="",l=i.getSelection(),c,d;if(l.rangeCount){for(d=i.createElement("div"),a=0,c=l.rangeCount;a<c;a+=1)d.appendChild(l.getRangeAt(a).cloneContents());s=d.innerHTML}return s},getCaretOffsets:function(i,a){var s,l;return a||(a=window.getSelection().getRangeAt(0)),s=a.cloneRange(),l=a.cloneRange(),s.selectNodeContents(i),s.setEnd(a.endContainer,a.endOffset),l.selectNodeContents(i),l.setStart(a.endContainer,a.endOffset),{left:s.toString().length,right:l.toString().length}},rangeSelectsSingleNode:function(o){var i=o.startContainer;return i===o.endContainer&&i.hasChildNodes()&&o.endOffset===o.startOffset+1},getSelectedParentElement:function(o){return o?this.rangeSelectsSingleNode(o)&&o.startContainer.childNodes[o.startOffset].nodeType!==3?o.startContainer.childNodes[o.startOffset]:o.startContainer.nodeType===3?o.startContainer.parentNode:o.startContainer:null},getSelectedElements:function(o){var i=o.getSelection(),a,s,l;if(!i.rangeCount||i.isCollapsed||!i.getRangeAt(0).commonAncestorContainer)return[];if(a=i.getRangeAt(0),a.commonAncestorContainer.nodeType===3){for(s=[],l=a.commonAncestorContainer;l.parentNode&&l.parentNode.childNodes.length===1;)s.push(l.parentNode),l=l.parentNode;return s}return[].filter.call(a.commonAncestorContainer.getElementsByTagName("*"),function(c){return typeof i.containsNode=="function"?i.containsNode(c,!0):!0})},selectNode:function(o,i){var a=i.createRange();a.selectNodeContents(o),this.selectRange(i,a)},select:function(o,i,a,s,l){var c=o.createRange();return c.setStart(i,a),s?c.setEnd(s,l):c.collapse(!0),this.selectRange(o,c),c},clearSelection:function(o,i){i?o.getSelection().collapseToStart():o.getSelection().collapseToEnd()},moveCursor:function(o,i,a){this.select(o,i,a)},getSelectionRange:function(o){var i=o.getSelection();return i.rangeCount===0?null:i.getRangeAt(0)},selectRange:function(o,i){var a=o.getSelection();a.removeAllRanges(),a.addRange(i)},getSelectionStart:function(o){var i=o.getSelection().anchorNode,a=i&&i.nodeType===3?i.parentNode:i;return a}};t.selection=r}(),function(){function n(o,i){return o?o.some(function(a){if(typeof a.getInteractionElements!="function")return!1;var s=a.getInteractionElements();return s?(Array.isArray(s)||(s=[s]),s.some(function(l){return t.util.isDescendant(l,i,!0)})):!1}):!1}var r=function(o){this.base=o,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};r.prototype={InputEventOnContenteditableSupported:!t.util.isIE&&!t.util.isEdge,attachDOMEvent:function(o,i,a,s){var l=this.base.options.contentWindow,c=this.base.options.ownerDocument;o=t.util.isElement(o)||[l,c].indexOf(o)>-1?[o]:o,Array.prototype.forEach.call(o,(function(d){d.addEventListener(i,a,s),this.events.push([d,i,a,s])}).bind(this))},detachDOMEvent:function(o,i,a,s){var l,c,d=this.base.options.contentWindow,f=this.base.options.ownerDocument;o&&(o=t.util.isElement(o)||[d,f].indexOf(o)>-1?[o]:o,Array.prototype.forEach.call(o,(function(h){l=this.indexOfListener(h,i,a,s),l!==-1&&(c=this.events.splice(l,1)[0],c[0].removeEventListener(c[1],c[2],c[3]))}).bind(this)))},indexOfListener:function(o,i,a,s){var l,c,d;for(l=0,c=this.events.length;l<c;l=l+1)if(d=this.events[l],d[0]===o&&d[1]===i&&d[2]===a&&d[3]===s)return l;return-1},detachAllDOMEvents:function(){for(var o=this.events.pop();o;)o[0].removeEventListener(o[1],o[2],o[3]),o=this.events.pop()},detachAllEventsFromElement:function(o){for(var i=this.events.filter(function(c){return c&&c[0].getAttribute&&c[0].getAttribute("medium-editor-index")===o.getAttribute("medium-editor-index")}),a=0,s=i.length;a<s;a++){var l=i[a];this.detachDOMEvent(l[0],l[1],l[2],l[3])}},attachAllEventsToElement:function(o){this.listeners.editableInput&&(this.contentCache[o.getAttribute("medium-editor-index")]=o.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(i){this.attachDOMEvent(o,i.name,i.handler.bind(this))},this)},enableCustomEvent:function(o){this.disabledEvents[o]!==void 0&&delete this.disabledEvents[o]},disableCustomEvent:function(o){this.disabledEvents[o]=!0},attachCustomEvent:function(o,i){this.setupListener(o),this.customEvents[o]||(this.customEvents[o]=[]),this.customEvents[o].push(i)},detachCustomEvent:function(o,i){var a=this.indexOfCustomListener(o,i);a!==-1&&this.customEvents[o].splice(a,1)},indexOfCustomListener:function(o,i){return!this.customEvents[o]||!this.customEvents[o].length?-1:this.customEvents[o].indexOf(i)},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(o,i,a){this.customEvents[o]&&!this.disabledEvents[o]&&this.customEvents[o].forEach(function(s){s(i,a)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(o){o.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=(function(o){this.handleDocumentExecCommand(o)}).bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var o=this.options.ownerDocument;if(!(!this.execCommandListener||!o.execCommand.listeners)){var i=o.execCommand.listeners.indexOf(this.execCommandListener);i!==-1&&o.execCommand.listeners.splice(i,1),o.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var o=this.options.ownerDocument;if(!o.execCommand.listeners){var i=function(s,l){o.execCommand.listeners&&o.execCommand.listeners.forEach(function(c){c({command:s[0],value:s[2],args:s,result:l})})},a=function(){var s=o.execCommand.orig.apply(this,arguments);if(!o.execCommand.listeners)return s;var l=Array.prototype.slice.call(arguments);return i(l,s),s};a.orig=o.execCommand,a.listeners=[],a.callListeners=i,o.execCommand=a}},unwrapExecCommand:function(){var o=this.options.ownerDocument;o.execCommand.orig&&(o.execCommand=o.execCommand.orig)},setupListener:function(o){if(!this.listeners[o]){switch(o){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(i){this.contentCache[i.getAttribute("medium-editor-index")]=i.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste);break}this.listeners[o]=!0}},attachToEachElement:function(o,i){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(a){this.attachDOMEvent(a,o,i.bind(this))},this),this.eventsCache.push({name:o,handler:i})},cleanupElement:function(o){var i=o.getAttribute("medium-editor-index");i&&(this.detachAllEventsFromElement(o),this.contentCache&&delete this.contentCache[i])},focusElement:function(o){o.focus(),this.updateFocus(o,{target:o,type:"focus"})},updateFocus:function(o,i){var a=this.base.getFocusedElement(),s;a&&i.type==="click"&&this.lastMousedownTarget&&(t.util.isDescendant(a,this.lastMousedownTarget,!0)||n(this.base.extensions,this.lastMousedownTarget))&&(s=a),s||this.base.elements.some(function(c){return!s&&t.util.isDescendant(c,o,!0)&&(s=c),!!s},this);var l=!t.util.isDescendant(a,o,!0)&&!n(this.base.extensions,o);s!==a&&(a&&l&&(a.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,a)),s&&(s.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,s))),l&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(o,i){if(this.contentCache){var a=o.getAttribute("medium-editor-index"),s=o.innerHTML;s!==this.contentCache[a]&&this.triggerCustomEvent("editableInput",i,o),this.contentCache[a]=s}},handleDocumentSelectionChange:function(o){if(o.currentTarget&&o.currentTarget.activeElement){var i=o.currentTarget.activeElement,a;this.base.elements.some(function(s){return t.util.isDescendant(s,i,!0)?(a=s,!0):!1},this),a&&this.updateInput(a,{target:i,currentTarget:a})}},handleDocumentExecCommand:function(){var o=this.base.getFocusedElement();o&&this.updateInput(o,{target:o,currentTarget:o})},handleBodyClick:function(o){this.updateFocus(o.target,o)},handleBodyFocus:function(o){this.updateFocus(o.target,o)},handleBodyMousedown:function(o){this.lastMousedownTarget=o.target},handleInput:function(o){this.updateInput(o.currentTarget,o)},handleClick:function(o){this.triggerCustomEvent("editableClick",o,o.currentTarget)},handleBlur:function(o){this.triggerCustomEvent("editableBlur",o,o.currentTarget)},handleKeypress:function(o){if(this.triggerCustomEvent("editableKeypress",o,o.currentTarget),this.keypressUpdateInput){var i={target:o.target,currentTarget:o.currentTarget};setTimeout((function(){this.updateInput(i.currentTarget,i)}).bind(this),0)}},handleKeyup:function(o){this.triggerCustomEvent("editableKeyup",o,o.currentTarget)},handleMouseover:function(o){this.triggerCustomEvent("editableMouseover",o,o.currentTarget)},handleDragging:function(o){this.triggerCustomEvent("editableDrag",o,o.currentTarget)},handleDrop:function(o){this.triggerCustomEvent("editableDrop",o,o.currentTarget)},handlePaste:function(o){this.triggerCustomEvent("editablePaste",o,o.currentTarget)},handleKeydown:function(o){if(this.triggerCustomEvent("editableKeydown",o,o.currentTarget),t.util.isKey(o,t.util.keyCode.SPACE))return this.triggerCustomEvent("editableKeydownSpace",o,o.currentTarget);if(t.util.isKey(o,t.util.keyCode.ENTER)||o.ctrlKey&&t.util.isKey(o,t.util.keyCode.M))return this.triggerCustomEvent("editableKeydownEnter",o,o.currentTarget);if(t.util.isKey(o,t.util.keyCode.TAB))return this.triggerCustomEvent("editableKeydownTab",o,o.currentTarget);if(t.util.isKey(o,[t.util.keyCode.DELETE,t.util.keyCode.BACKSPACE]))return this.triggerCustomEvent("editableKeydownDelete",o,o.currentTarget)}},t.Events=r}(),function(){var n=t.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(r){n.isBuiltInButton(r)?t.Extension.call(this,this.defaults[r]):t.Extension.call(this,r)},init:function(){t.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return typeof this.action=="function"?this.action(this.base.options):this.action},getAria:function(){return typeof this.aria=="function"?this.aria(this.base.options):this.aria},getTagNames:function(){return typeof this.tagNames=="function"?this.tagNames(this.base.options):this.tagNames},createButton:function(){var r=this.document.createElement("button"),o=this.contentDefault,i=this.getAria(),a=this.getEditorOption("buttonLabels");return r.classList.add("medium-editor-action"),r.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(s){r.classList.add(s)}),r.setAttribute("data-action",this.getAction()),i&&(r.setAttribute("title",i),r.setAttribute("aria-label",i)),this.attrs&&Object.keys(this.attrs).forEach(function(s){r.setAttribute(s,this.attrs[s])},this),a==="fontawesome"&&this.contentFA&&(o=this.contentFA),r.innerHTML=o,r},handleClick:function(r){r.preventDefault(),r.stopPropagation();var o=this.getAction();o&&this.execAction(o)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var r=null;return this.useQueryState&&(r=this.base.queryCommandState(this.getAction())),r},isAlreadyApplied:function(r){var o=!1,i=this.getTagNames(),a,s;return this.knownState===!1||this.knownState===!0?this.knownState:(i&&i.length>0&&(o=i.indexOf(r.nodeName.toLowerCase())!==-1),!o&&this.style&&(a=this.style.value.split("|"),s=this.window.getComputedStyle(r,null).getPropertyValue(this.style.prop),a.forEach(function(l){this.knownState||(o=s.indexOf(l)!==-1,(o||this.style.prop!=="text-decoration")&&(this.knownState=o))},this)),o)}});n.isBuiltInButton=function(r){return typeof r=="string"&&t.extensions.button.prototype.defaults.hasOwnProperty(r)},t.extensions.button=n}(),function(){t.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var n=t.extensions.button.extend({init:function(){t.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.hideToolbarDefaultActions()},setToolbarPosition:function(){var r=this.base.getExtensionByName("toolbar");r&&r.setToolbarPosition()}});t.extensions.form=n}(),function(){var n=t.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(r){r.preventDefault(),r.stopPropagation();var o=t.selection.getSelectionRange(this.document);return o.startContainer.nodeName.toLowerCase()==="a"||o.endContainer.nodeName.toLowerCase()==="a"||t.util.getClosestTag(t.selection.getSelectedParentElement(o),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(r){t.util.isKey(r,t.util.keyCode.K)&&t.util.isMetaCtrlKey(r)&&!r.shiftKey&&this.handleClick(r)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var r=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return r.push('<a href="#" class="medium-editor-toolbar-save">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),r.push('<a href="#" class="medium-editor-toolbar-close">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),r.join("")},isDisplayed:function(){return t.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){t.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(r){var o=this.getInput(),i=this.getAnchorTargetCheckbox(),a=this.getAnchorButtonCheckbox();if(r=r||{value:""},typeof r=="string"&&(r={value:r}),this.base.saveSelection(),this.hideToolbarDefaultActions(),t.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),o.value=r.value,o.focus(),i&&(i.checked=r.target==="_blank"),a){var s=r.buttonClass?r.buttonClass.split(" "):[];a.checked=s.indexOf(this.customClassOption)!==-1}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var r=this.getAnchorTargetCheckbox(),o=this.getAnchorButtonCheckbox(),i={value:this.getInput().value.trim()};return this.linkValidation&&(i.value=this.checkLinkFormat(i.value)),i.target="_self",r&&r.checked&&(i.target="_blank"),o&&o.checked&&(i.buttonClass=this.customClassOption),i},doFormSave:function(){var r=this.getFormOpts();this.completeFormSave(r)},completeFormSave:function(r){this.base.restoreSelection(),this.execAction(this.action,r),this.base.checkSelection()},ensureEncodedUri:function(r){return r===decodeURI(r)?encodeURI(r):r},ensureEncodedUriComponent:function(r){return r===decodeURIComponent(r)?encodeURIComponent(r):r},ensureEncodedParam:function(r){var o=r.split("="),i=o[0],a=o[1];return i+(a===void 0?"":"="+this.ensureEncodedUriComponent(a))},ensureEncodedQuery:function(r){return r.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(r){var o=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,i=o.test(r),a="",s=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,l=r.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),c=l[1],d=l[2],f=l[3];if(s.test(r))return"tel:"+r;if(!i){var h=c.split("/")[0];(h.match(/.+(\.|:).+/)||h==="localhost")&&(a="http://")}return a+this.ensureEncodedUri(c)+(d===void 0?"":"?"+this.ensureEncodedQuery(d))+(f===void 0?"":"#"+f)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(r){var o=r.querySelector(".medium-editor-toolbar-close"),i=r.querySelector(".medium-editor-toolbar-save"),a=r.querySelector(".medium-editor-toolbar-input");this.on(r,"click",this.handleFormClick.bind(this)),this.on(a,"keyup",this.handleTextboxKeyup.bind(this)),this.on(o,"click",this.handleCloseClick.bind(this)),this.on(i,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var r=this.document,o=r.createElement("div");return o.className="medium-editor-toolbar-form",o.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),o.innerHTML=this.getTemplate(),this.attachFormEvents(o),o},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(r){if(r.keyCode===t.util.keyCode.ENTER){r.preventDefault(),this.doFormSave();return}r.keyCode===t.util.keyCode.ESCAPE&&(r.preventDefault(),this.doFormCancel())},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});t.extensions.anchor=n}(),function(){var n=t.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var r=this.document.createElement("div");return r.id="medium-editor-anchor-preview-"+this.getEditorId(),r.className="medium-editor-anchor-preview",r.innerHTML=this.getTemplate(),this.on(r,"click",this.handleClick.bind(this)),r},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(r){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||r.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=r.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=r.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=r,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(r){r=r||this.activeAnchor;var o=this.window.innerWidth,i=this.anchorPreview.offsetHeight,a=r.getBoundingClientRect(),s=this.diffLeft,l=this.diffTop,c=this.getEditorOption("elementsContainer"),d=["absolute","fixed"].indexOf(window.getComputedStyle(c).getPropertyValue("position"))>-1,f={},h,p,v,g,m;h=this.anchorPreview.offsetWidth/2;var y=this.base.getExtensionByName("toolbar");y&&(s=y.diffLeft,l=y.diffTop),p=s-h,d?(g=c.getBoundingClientRect(),["top","left"].forEach(function(_){f[_]=a[_]-g[_]}),f.width=a.width,f.height=a.height,a=f,o=g.width,m=c.scrollTop):m=this.window.pageYOffset,v=a.left+a.width/2,m+=i+a.top+a.height-l-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(m)+"px",this.anchorPreview.style.right="initial",v<h?(this.anchorPreview.style.left=p+h+"px",this.anchorPreview.style.right="initial"):o-v<h?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=p+v+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(r){var o=this.base.getExtensionByName("anchor"),i=this.activeAnchor;o&&i&&(r.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay((function(){if(i){var a={value:i.attributes.href.value,target:i.getAttribute("target"),buttonClass:i.getAttribute("class")};o.showForm(a),i=null}}).bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(r){var o=t.util.getClosestTag(r.target,"a");if(o!==!1){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(o.outerHTML)||/href=["']#\S+["']/.test(o.outerHTML)))return!0;var i=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==o&&this.detachPreviewHandlers(),this.anchorToPreview=o,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay((function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}).bind(this))}},handlePreviewMouseover:function(){this.lastOver=new Date().getTime(),this.hovering=!0},handlePreviewMouseout:function(r){(!r.relatedTarget||!/anchor-preview/.test(r.relatedTarget.className))&&(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var r=new Date().getTime()-this.lastOver;r>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=new Date().getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});t.extensions.anchorPreview=n}(),function(){var n,r,o,i,a;n=[" ","	",`
`,"\r"," "," "," "," "," ","\u2028","\u2029"],r="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",o="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+r+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+r+"))",i=new RegExp("^("+r+")$","i"),a=new RegExp(o,"gi");function s(c){return!t.util.getClosestTag(c,"a")}var l=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var c=0,d=0;d<this.window._mediumEditors.length;d++){var f=this.window._mediumEditors[d];f!==null&&f.getExtensionByName("autoLink")!==void 0&&c++}return c===1},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(c,d){this.performLinking(d)},onKeypress:function(c){this.disableEventHandling||t.util.isKey(c,[t.util.keyCode.SPACE,t.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout((function(){try{var d=this.base.exportSelection();this.performLinking(c.target)&&this.base.importSelection(d,!0)}catch(f){window.console&&window.console.error("Failed to perform linking",f),this.disableEventHandling=!0}}).bind(this),0))},performLinking:function(c){var d=t.util.splitByBlockElements(c),f=!1;d.length===0&&(d=[c]);for(var h=0;h<d.length;h++)f=this.removeObsoleteAutoLinkSpans(d[h])||f,f=this.performLinkingWithinElement(d[h])||f;return this.base.events.updateInput(c,{target:c,currentTarget:c}),f},removeObsoleteAutoLinkSpans:function(c){if(!c||c.nodeType===3)return!1;for(var d=c.querySelectorAll('span[data-auto-link="true"]'),f=!1,h=0;h<d.length;h++){var p=d[h].textContent;if(p.indexOf("://")===-1&&(p=t.util.ensureUrlHasProtocol(p)),d[h].getAttribute("data-href")!==p&&s(d[h])){f=!0;var v=p.replace(/\s+$/,"");if(d[h].getAttribute("data-href")===v){var g=p.length-v.length,m=t.util.splitOffDOMTree(d[h],this.splitTextBeforeEnd(d[h],g));d[h].parentNode.insertBefore(m,d[h].nextSibling)}else t.util.unwrap(d[h],this.document)}}return f},splitTextBeforeEnd:function(c,d){for(var f=this.document.createTreeWalker(c,NodeFilter.SHOW_TEXT,null,!1),h=!0;h;)h=f.lastChild()!==null;for(var p,v,g;d>0&&g!==null;)p=f.currentNode,v=p.nodeValue,v.length>d?(g=p.splitText(v.length-d),d=0):(g=f.previousNode(),d-=v.length);return g},performLinkingWithinElement:function(c){for(var d=this.findLinkableText(c),f=!1,h=0;h<d.length;h++){var p=t.util.findOrCreateMatchingTextNodes(this.document,c,d[h]);this.shouldNotLink(p)||this.createAutoLink(p,d[h].href)}return f},shouldNotLink:function(c){for(var d=!1,f=0;f<c.length&&d===!1;f++)d=!!t.util.traverseUp(c[f],function(h){return h.nodeName.toLowerCase()==="a"||h.getAttribute&&h.getAttribute("data-auto-link")==="true"});return d},findLinkableText:function(c){for(var d=c.textContent,f=null,h=[];(f=a.exec(d))!==null;){var p=!0,v=f.index+f[0].length;p=(f.index===0||n.indexOf(d[f.index-1])!==-1)&&(v===d.length||n.indexOf(d[v])!==-1),p=p&&(f[0].indexOf("/")!==-1||i.test(f[0].split(".").pop().split("?").shift())),p&&h.push({href:f[0],start:f.index,end:v})}return h},createAutoLink:function(c,d){d=t.util.ensureUrlHasProtocol(d);var f=t.util.createLink(this.document,c,d,this.getEditorOption("targetBlank")?"_blank":null),h=this.document.createElement("span");for(h.setAttribute("data-auto-link","true"),h.setAttribute("data-href",d),f.insertBefore(h,f.firstChild);f.childNodes.length>1;)h.appendChild(f.childNodes[1])}});t.extensions.autoLink=l}(),function(){var n="medium-editor-dragover";function r(i){var a=t.util.getContainerEditorElement(i),s=Array.prototype.slice.call(a.parentElement.querySelectorAll("."+n));s.forEach(function(l){l.classList.remove(n)})}var o=t.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(i){i.preventDefault(),i.dataTransfer.dropEffect="copy";var a=i.target.classList?i.target:i.target.parentElement;r(a),i.type==="dragover"&&a.classList.add(n)},handleDrop:function(i){i.preventDefault(),i.stopPropagation(),this.base.selectElement(i.target);var a=this.base.exportSelection();a.start=a.end,this.base.importSelection(a),i.dataTransfer.files&&Array.prototype.slice.call(i.dataTransfer.files).forEach(function(s){this.isAllowedFile(s)&&s.type.match("image")&&this.insertImageFile(s)},this),r(i.target)},isAllowedFile:function(i){return this.allowedTypes.some(function(a){return!!i.type.match(a)})},insertImageFile:function(i){if(typeof FileReader=="function"){var a=new FileReader;a.readAsDataURL(i),a.addEventListener("load",(function(s){var l=this.document.createElement("img");l.src=s.target.result,t.util.insertHTMLCommand(this.document,l.outerHTML)}).bind(this))}}});t.extensions.fileDragging=o}(),function(){var n=t.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(r){var o=r.key.charCodeAt(0);this.keys[o]||(this.keys[o]=[]),this.keys[o].push(r)},this)},handleKeydown:function(r){var o=t.util.getKeyCode(r);if(this.keys[o]){var i=t.util.isMetaCtrlKey(r),a=!!r.shiftKey,s=!!r.altKey;this.keys[o].forEach(function(l){l.meta===i&&l.shift===a&&(l.alt===s||l.alt===void 0)&&(r.preventDefault(),r.stopPropagation(),typeof l.command=="function"?l.command.apply(this):l.command!==!1&&this.execAction(l.command))},this)}}});t.extensions.keyboardCommands=n}(),function(){var n=t.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var o=this.document.queryCommandValue("fontName")+"";this.showForm(o)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(r){var o=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),o.value=r||"",o.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var r=this.document,o=r.createElement("div"),i=r.createElement("select"),a=r.createElement("a"),s=r.createElement("a"),l;o.className="medium-editor-toolbar-form",o.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(o,"click",this.handleFormClick.bind(this));for(var c=0;c<this.fonts.length;c++)l=r.createElement("option"),l.innerHTML=this.fonts[c],l.value=this.fonts[c],i.appendChild(l);return i.className="medium-editor-toolbar-select",o.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",o.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",o.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),o},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){t.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("face")&&r.removeAttribute("face")})},handleFontChange:function(){var r=this.getSelect().value;r===""?this.clearFontName():this.execAction("fontName",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});t.extensions.fontName=n}(),function(){var n=t.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var o=this.document.queryCommandValue("fontSize")+"";this.showForm(o)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(r){var o=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),o.value=r||"",o.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var r=this.document,o=r.createElement("div"),i=r.createElement("input"),a=r.createElement("a"),s=r.createElement("a");return o.className="medium-editor-toolbar-form",o.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(o,"click",this.handleFormClick.bind(this)),i.setAttribute("type","range"),i.setAttribute("min","1"),i.setAttribute("max","7"),i.className="medium-editor-toolbar-input",o.appendChild(i),this.on(i,"change",this.handleSliderChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",o.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",o.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),o},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){t.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("size")&&r.removeAttribute("size")})},handleSliderChange:function(){var r=this.getInput().value;r==="4"?this.clearFontSize():this.execAction("fontSize",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});t.extensions.fontSize=n}(),function(){var n="%ME_PASTEBIN%",r=null,o=null,i=function(c){c.stopPropagation()};function a(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function s(c,d,f){var h=c.clipboardData||d.clipboardData||f.dataTransfer,p={};if(!h)return p;if(h.getData){var v=h.getData("Text");v&&v.length>0&&(p["text/plain"]=v)}if(h.types)for(var g=0;g<h.types.length;g++){var m=h.types[g];p[m]=h.getData(m)}return p}var l=t.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){t.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(c){this.on(c,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(c,d){this.on(d,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(c,d){if(!c.defaultPrevented){var f=s(c,this.window,this.document),h=f["text/html"],p=f["text/plain"];this.window.clipboardData&&c.clipboardData===void 0&&!h&&(h=p),(h||p)&&(c.preventDefault(),this.doPaste(h,p,d))}},doPaste:function(c,d,f){var h,p="",v;if(this.cleanPastedHTML&&c)return this.cleanPaste(c);if(d){if(this.getEditorOption("disableReturn")||f&&f.getAttribute("data-disable-return"))p=t.util.htmlEntities(d);else if(h=d.split(/[\r\n]+/g),h.length>1)for(v=0;v<h.length;v+=1)h[v]!==""&&(p+="<p>"+t.util.htmlEntities(h[v])+"</p>");else p=t.util.htmlEntities(h[0]);t.util.insertHTMLCommand(this.document,p)}},handlePasteBinPaste:function(c){if(c.defaultPrevented){this.removePasteBin();return}var d=s(c,this.window,this.document),f=d["text/html"],h=d["text/plain"],p=o;if(!this.cleanPastedHTML||f){c.preventDefault(),this.removePasteBin(),this.doPaste(f,h,p),this.trigger("editablePaste",{currentTarget:p,target:p},p);return}setTimeout((function(){this.cleanPastedHTML&&(f=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(f,h,p),this.trigger("editablePaste",{currentTarget:p,target:p},p)}).bind(this),0)},handleKeydown:function(c,d){t.util.isKey(c,t.util.keyCode.V)&&t.util.isMetaCtrlKey(c)&&(c.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(d))},createPasteBin:function(c){var d,f=t.selection.getSelectionRange(this.document),h=this.window.pageYOffset;o=c,f&&(d=f.getClientRects(),d.length?h+=d[0].top:f.startContainer.getBoundingClientRect!==void 0?h+=f.startContainer.getBoundingClientRect().top:h+=f.getBoundingClientRect().top),r=f;var p=this.document.createElement("div");p.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),p.setAttribute("style","border: 1px red solid; position: absolute; top: "+h+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),p.setAttribute("contentEditable",!0),p.innerHTML=n,this.document.body.appendChild(p),this.on(p,"focus",i),this.on(p,"focusin",i),this.on(p,"focusout",i),p.focus(),t.selection.selectNode(p,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(p,"paste",this.boundHandlePaste)},removePasteBin:function(){r!==null&&(t.selection.selectRange(this.document,r),r=null),o!==null&&(o=null);var c=this.getPasteBin();c&&c&&(this.off(c,"focus",i),this.off(c,"focusin",i),this.off(c,"focusout",i),this.off(c,"paste",this.boundHandlePaste),c.parentElement.removeChild(c))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var c=this.getPasteBin();if(!c||c.firstChild&&c.firstChild.id==="mcepastebin")return!1;var d=c.innerHTML;return!d||d===n?!1:d},cleanPaste:function(c){var d,f,h,p,v=/<p|<br|<div/.test(c),g=[].concat(this.preCleanReplacements||[],a(),this.cleanReplacements||[]);for(d=0;d<g.length;d+=1)c=c.replace(g[d][0],g[d][1]);if(!v)return this.pasteHTML(c);for(h=this.document.createElement("div"),h.innerHTML="<p>"+c.split("<br><br>").join("</p><p>")+"</p>",f=h.querySelectorAll("a,p,div,br"),d=0;d<f.length;d+=1)switch(p=f[d],p.innerHTML=p.innerHTML.replace(/\n/gi," "),p.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(p);break;case"br":this.filterLineBreak(p);break}this.pasteHTML(h.innerHTML)},pasteHTML:function(c,d){d=t.util.defaults({},d,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var f,h,p,v,g=this.document.createDocumentFragment();for(g.appendChild(this.document.createElement("body")),v=g.querySelector("body"),v.innerHTML=c,this.cleanupSpans(v),f=v.querySelectorAll("*"),p=0;p<f.length;p+=1)h=f[p],h.nodeName.toLowerCase()==="a"&&this.getEditorOption("targetBlank")&&t.util.setTargetBlank(h),t.util.cleanupAttrs(h,d.cleanAttrs),t.util.cleanupTags(h,d.cleanTags),t.util.unwrapTags(h,d.unwrapTags);t.util.insertHTMLCommand(this.document,v.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(c){return c&&(c.nodeName.toLowerCase()==="p"||c.nodeName.toLowerCase()==="div")},filterCommonBlocks:function(c){/^\s*$/.test(c.textContent)&&c.parentNode&&c.parentNode.removeChild(c)},filterLineBreak:function(c){this.isCommonBlock(c.previousElementSibling)?this.removeWithParent(c):this.isCommonBlock(c.parentNode)&&(c.parentNode.firstChild===c||c.parentNode.lastChild===c)?this.removeWithParent(c):c.parentNode&&c.parentNode.childElementCount===1&&c.parentNode.textContent===""&&this.removeWithParent(c)},removeWithParent:function(c){c&&c.parentNode&&(c.parentNode.parentNode&&c.parentNode.childElementCount===1?c.parentNode.parentNode.removeChild(c.parentNode):c.parentNode.removeChild(c))},cleanupSpans:function(c){var d,f,h,p=c.querySelectorAll(".replace-with"),v=function(g){return g&&g.nodeName!=="#text"&&g.getAttribute("contenteditable")==="false"};for(d=0;d<p.length;d+=1)f=p[d],h=this.document.createElement(f.classList.contains("bold")?"b":"i"),f.classList.contains("bold")&&f.classList.contains("italic")?h.innerHTML="<i>"+f.innerHTML+"</i>":h.innerHTML=f.innerHTML,f.parentNode.replaceChild(h,f);for(p=c.querySelectorAll("span"),d=0;d<p.length;d+=1){if(f=p[d],t.util.traverseUp(f,v))return!1;t.util.unwrap(f,this.document)}}});t.extensions.paste=l}(),function(){var n=t.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(r,o){this.initElement(o)},initElement:function(r){r.getAttribute("data-placeholder")||r.setAttribute("data-placeholder",this.text),this.updatePlaceholder(r)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(r,o){this.cleanupElement(o)},cleanupElement:function(r){r.getAttribute("data-placeholder")===this.text&&r.removeAttribute("data-placeholder")},showPlaceholder:function(r){r&&(t.util.isFF&&r.childNodes.length===0?(r.classList.add("medium-editor-placeholder-relative"),r.classList.remove("medium-editor-placeholder")):(r.classList.add("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(r){r&&(r.classList.remove("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(r,o){if(r.querySelector("img, blockquote, ul, ol, table")||r.textContent.replace(/^\s+|\s+$/g,"")!=="")return this.hidePlaceholder(r);o||this.showPlaceholder(r)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(r,o){var i=this.hideOnClick&&o===this.base.getFocusedElement();this.updatePlaceholder(o,i)},handleFocus:function(r,o){this.hidePlaceholder(o)},handleBlur:function(r,o){this.updatePlaceholder(o)}});t.extensions.placeholder=n}(),function(){var n=t.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(r,o){return this.base.extensions.forEach(function(i){if(i!==this)return r.apply(o||this,arguments)},this)},createToolbar:function(){var r=this.document.createElement("div");return r.id="medium-editor-toolbar-"+this.getEditorId(),r.className="medium-editor-toolbar",this.static?r.className+=" static-toolbar":this.relativeContainer?r.className+=" medium-editor-relative-toolbar":r.className+=" medium-editor-stalker-toolbar",r.appendChild(this.createToolbarButtons()),this.forEachExtension(function(o){o.hasForm&&r.appendChild(o.getForm())}),this.attachEventHandlers(),r},createToolbarButtons:function(){var r=this.document.createElement("ul"),o,i,a,s,l,c;return r.id="medium-editor-toolbar-actions"+this.getEditorId(),r.className="medium-editor-toolbar-actions",r.style.display="block",this.buttons.forEach(function(d){typeof d=="string"?(l=d,c=null):(l=d.name,c=d),s=this.base.addBuiltInExtension(l,c),s&&typeof s.getButton=="function"&&(i=s.getButton(this.base),o=this.document.createElement("li"),t.util.isElement(i)?o.appendChild(i):o.innerHTML=i,r.appendChild(o))},this),a=r.querySelectorAll("button"),a.length>0&&(a[0].classList.add(this.firstButtonClass),a[a.length-1].classList.add(this.lastButtonClass)),r},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=t.util.throttle((function(){this.base.isActive&&this.positionToolbarIfShown()}).bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(r){if(r&&r.target&&t.util.isDescendant(this.getToolbarElement(),r.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout((function(){this.checkState()}).bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout((function(){this.hideToolbar()}).bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return this.getToolbarActionsElement().style.display==="block"},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay((function(){this.showToolbar()}).bind(this))},hideExtensionForms:function(){this.forEachExtension(function(r){r.hasForm&&r.isDisplayed()&&r.hideForm()})},multipleBlockElementsSelected:function(){var r=/<[^\/>][^>]*><\/[^>]+>/gim,o=new RegExp("<("+t.util.blockContainerElementNames.join("|")+")[^>]*>","g"),i=t.selection.getSelectionHtml(this.document).replace(r,""),a=i.match(o);return!!a&&a.length>1},modifySelection:function(){var r=this.window.getSelection(),o=r.getRangeAt(0);if(this.standardizeSelectionStart&&o.startContainer.nodeValue&&o.startOffset===o.startContainer.nodeValue.length){var i=t.util.findAdjacentTextNodeWithContent(t.selection.getSelectionElement(this.window),o.startContainer,this.document);if(i){for(var a=0;i.nodeValue.substr(a,1).trim().length===0;)a=a+1;o=t.selection.select(this.document,i,a,o.endContainer,o.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||t.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var r=t.selection.getSelectionElement(this.window);if(!r||this.getEditorElements().indexOf(r)===-1||r.getAttribute("data-disable-toolbar"))return this.hideToolbar();if(this.updateOnEmptySelection&&this.static)return this.showAndUpdateToolbar();if(!t.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected())return this.hideToolbar();this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(r){typeof r.isActive=="function"&&typeof r.setInactive=="function"&&r.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var r=[],o=null,i=t.selection.getSelectionRange(this.document),a,s=function(l){typeof l.checkState=="function"?l.checkState(a):typeof l.isActive=="function"&&typeof l.isAlreadyApplied=="function"&&typeof l.setActive=="function"&&!l.isActive()&&l.isAlreadyApplied(a)&&l.setActive()};if(i&&(this.forEachExtension(function(l){if(typeof l.queryCommandState=="function"&&(o=l.queryCommandState(),o!==null)){o&&typeof l.setActive=="function"&&l.setActive();return}r.push(l)}),a=t.selection.getSelectedParentElement(i),!!this.getEditorElements().some(function(l){return t.util.isDescendant(l,a,!0)})))for(;a&&(r.forEach(s),!t.util.isMediumEditorElement(a));)a=a.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var r=this.base.getFocusedElement(),o=this.window.getSelection();if(!r)return this;(this.static||!o.isCollapsed)&&(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(r):this.positionToolbar(o)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(r){this.getToolbarElement().style.left="0";var o=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,a=this.getToolbarElement(),s=r.getBoundingClientRect(),l=s.top+o,c=s.left+s.width/2,d=a.offsetHeight,f=a.offsetWidth,h=f/2,p;switch(this.sticky?o>l+r.offsetHeight-d-this.stickyTopOffset?(a.style.top=l+r.offsetHeight-d+"px",a.classList.remove("medium-editor-sticky-toolbar")):o>l-d-this.stickyTopOffset?(a.classList.add("medium-editor-sticky-toolbar"),a.style.top=this.stickyTopOffset+"px"):(a.classList.remove("medium-editor-sticky-toolbar"),a.style.top=l-d+"px"):a.style.top=l-d+"px",this.align){case"left":p=s.left;break;case"right":p=s.right-f;break;case"center":p=c-h;break}p<0?p=0:p+f>i&&(p=i-Math.ceil(f)-1),a.style.left=p+"px"},positionToolbar:function(r){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var o=r.getRangeAt(0),i=o.getBoundingClientRect();(!i||i.height===0&&i.width===0&&o.startContainer===o.endContainer)&&(o.startContainer.nodeType===1&&o.startContainer.querySelector("img")?i=o.startContainer.querySelector("img").getBoundingClientRect():i=o.startContainer.getBoundingClientRect());var a=this.window.innerWidth,s=this.getToolbarElement(),l=s.offsetHeight,c=s.offsetWidth,d=c/2,f=50,h=this.diffLeft-d,p=this.getEditorOption("elementsContainer"),v=["absolute","fixed"].indexOf(window.getComputedStyle(p).getPropertyValue("position"))>-1,g={},m={},y,_;v?(_=p.getBoundingClientRect(),["top","left"].forEach(function(C){m[C]=i[C]-_[C]}),m.width=i.width,m.height=i.height,i=m,a=_.width,g.top=p.scrollTop):g.top=this.window.pageYOffset,y=i.left+i.width/2,g.top+=i.top-l,i.top<f?(s.classList.add("medium-toolbar-arrow-over"),s.classList.remove("medium-toolbar-arrow-under"),g.top+=f+i.height-this.diffTop):(s.classList.add("medium-toolbar-arrow-under"),s.classList.remove("medium-toolbar-arrow-over"),g.top+=this.diffTop),y<d?(g.left=h+d,g.right="initial"):a-y<d?(g.left="auto",g.right=0):(g.left=h+y,g.right="initial"),["top","left","right"].forEach(function(C){s.style[C]=g[C]+(isNaN(g[C])?"":"px")})}});t.extensions.toolbar=n}(),function(){var n=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(r){var o="medium-editor-dragover";r.preventDefault(),r.dataTransfer.dropEffect="copy",r.type==="dragover"?r.target.classList.add(o):r.type==="dragleave"&&r.target.classList.remove(o)},handleDrop:function(r){var o="medium-editor-dragover",i;r.preventDefault(),r.stopPropagation(),r.dataTransfer.files&&(i=Array.prototype.slice.call(r.dataTransfer.files,0),i.some((function(a){if(a.type.match("image")){var s,l;s=new FileReader,s.readAsDataURL(a),l="medium-img-"+ +new Date,t.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+l+'" />'),s.onload=(function(){var c=this.document.getElementById(l);c&&(c.removeAttribute("id"),c.removeAttribute("class"),c.src=s.result)}).bind(this)}}).bind(this))),r.target.classList.remove(o)}});t.extensions.imageDragging=n}(),function(){function n(E){var P=t.selection.getSelectionStart(this.options.ownerDocument),R=P.textContent,$=t.selection.getCaretOffsets(P);(R[$.left-1]===void 0||R[$.left-1].trim()===""||R[$.left]!==void 0&&R[$.left].trim()==="")&&E.preventDefault()}function r(E,P){if(this.options.disableReturn||P.getAttribute("data-disable-return"))E.preventDefault();else if(this.options.disableDoubleReturn||P.getAttribute("data-disable-double-return")){var R=t.selection.getSelectionStart(this.options.ownerDocument);(R&&R.textContent.trim()===""&&R.nodeName.toLowerCase()!=="li"||R.previousElementSibling&&R.previousElementSibling.nodeName.toLowerCase()!=="br"&&R.previousElementSibling.textContent.trim()==="")&&E.preventDefault()}}function o(E){var P=t.selection.getSelectionStart(this.options.ownerDocument),R=P&&P.nodeName.toLowerCase();R==="pre"&&(E.preventDefault(),t.util.insertHTMLCommand(this.options.ownerDocument,"    ")),t.util.isListItem(P)&&(E.preventDefault(),E.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function i(E){var P,R=t.selection.getSelectionStart(this.options.ownerDocument),$=R.nodeName.toLowerCase(),Y=/^(\s+|<br\/?>)?$/i,ie=/h\d/i;t.util.isKey(E,[t.util.keyCode.BACKSPACE,t.util.keyCode.ENTER])&&R.previousElementSibling&&ie.test($)&&t.selection.getCaretOffsets(R).left===0?t.util.isKey(E,t.util.keyCode.BACKSPACE)&&Y.test(R.previousElementSibling.innerHTML)?(R.previousElementSibling.parentNode.removeChild(R.previousElementSibling),E.preventDefault()):!this.options.disableDoubleReturn&&t.util.isKey(E,t.util.keyCode.ENTER)&&(P=this.options.ownerDocument.createElement("p"),P.innerHTML="<br>",R.previousElementSibling.parentNode.insertBefore(P,R),E.preventDefault()):t.util.isKey(E,t.util.keyCode.DELETE)&&R.nextElementSibling&&R.previousElementSibling&&!ie.test($)&&Y.test(R.innerHTML)&&ie.test(R.nextElementSibling.nodeName.toLowerCase())?(t.selection.moveCursor(this.options.ownerDocument,R.nextElementSibling),R.previousElementSibling.parentNode.removeChild(R),E.preventDefault()):t.util.isKey(E,t.util.keyCode.BACKSPACE)&&$==="li"&&Y.test(R.innerHTML)&&!R.previousElementSibling&&!R.parentElement.previousElementSibling&&R.nextElementSibling&&R.nextElementSibling.nodeName.toLowerCase()==="li"?(P=this.options.ownerDocument.createElement("p"),P.innerHTML="<br>",R.parentElement.parentElement.insertBefore(P,R.parentElement),t.selection.moveCursor(this.options.ownerDocument,P),R.parentElement.removeChild(R),E.preventDefault()):t.util.isKey(E,t.util.keyCode.BACKSPACE)&&t.util.getClosestTag(R,"blockquote")!==!1&&t.selection.getCaretOffsets(R).left===0?(E.preventDefault(),t.util.execFormatBlock(this.options.ownerDocument,"p")):t.util.isKey(E,t.util.keyCode.ENTER)&&t.util.getClosestTag(R,"blockquote")!==!1&&t.selection.getCaretOffsets(R).right===0?(P=this.options.ownerDocument.createElement("p"),P.innerHTML="<br>",R.parentElement.insertBefore(P,R.nextSibling),t.selection.moveCursor(this.options.ownerDocument,P),E.preventDefault()):t.util.isKey(E,t.util.keyCode.BACKSPACE)&&t.util.isMediumEditorElement(R.parentElement)&&!R.previousElementSibling&&R.nextElementSibling&&Y.test(R.innerHTML)&&(E.preventDefault(),t.selection.moveCursor(this.options.ownerDocument,R.nextSibling),R.parentElement.removeChild(R))}function a(E){var P=t.selection.getSelectionStart(this.options.ownerDocument),R;P&&(t.util.isMediumEditorElement(P)&&P.children.length===0&&!t.util.isBlockContainer(P)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),t.util.isKey(E,t.util.keyCode.ENTER)&&!t.util.isListItem(P)&&!t.util.isBlockContainer(P)&&(R=P.nodeName.toLowerCase(),R==="a"?this.options.ownerDocument.execCommand("unlink",!1,null):!E.shiftKey&&!E.ctrlKey&&this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function s(E,P){var R=P.parentNode.querySelector('textarea[medium-editor-textarea-id="'+P.getAttribute("medium-editor-textarea-id")+'"]');R&&(R.value=P.innerHTML.trim())}function l(E){E._mediumEditors||(E._mediumEditors=[null]),this.id||(this.id=E._mediumEditors.length),E._mediumEditors[this.id]=this}function c(E){!E._mediumEditors||!E._mediumEditors[this.id]||(E._mediumEditors[this.id]=null)}function d(E,P,R){var $=[];if(E||(E=[]),typeof E=="string"&&(E=P.querySelectorAll(E)),t.util.isElement(E)&&(E=[E]),R)for(var Y=0;Y<E.length;Y++){var ie=E[Y];t.util.isElement(ie)&&!ie.getAttribute("data-medium-editor-element")&&!ie.getAttribute("medium-editor-textarea-id")&&$.push(ie)}else $=Array.prototype.slice.apply(E);return $}function f(E){var P=E.parentNode.querySelector('textarea[medium-editor-textarea-id="'+E.getAttribute("medium-editor-textarea-id")+'"]');P&&(P.classList.remove("medium-editor-hidden"),P.removeAttribute("medium-editor-textarea-id")),E.parentNode&&E.parentNode.removeChild(E)}function h(E,P){return Object.keys(P).forEach(function(R){E[R]===void 0&&(E[R]=P[R])}),E}function p(E,P,R){var $={window:R.options.contentWindow,document:R.options.ownerDocument,base:R};return E=h(E,$),typeof E.init=="function"&&E.init(),E.name||(E.name=P),E}function v(){return this.elements.every(function(E){return!!E.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function g(){return v.call(this)?this.options.anchorPreview!==!1:!1}function m(){return this.options.placeholder!==!1}function y(){return this.options.autoLink!==!1}function _(){return this.options.imageDragging!==!1}function C(){return this.options.keyboardCommands!==!1}function x(){return!this.options.extensions.imageDragging}function S(E){for(var P=this.options.ownerDocument.createElement("div"),R=Date.now(),$="medium-editor-"+R,Y=E.attributes;this.options.ownerDocument.getElementById($);)R++,$="medium-editor-"+R;P.className=E.className,P.id=$,P.innerHTML=E.value,E.setAttribute("medium-editor-textarea-id",$);for(var ie=0,be=Y.length;ie<be;ie++)P.hasAttribute(Y[ie].nodeName)||P.setAttribute(Y[ie].nodeName,Y[ie].value);return E.form&&this.on(E.form,"reset",(function(ne){ne.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById($))}).bind(this)),E.classList.add("medium-editor-hidden"),E.parentNode.insertBefore(P,E),P}function b(E,P){if(!E.getAttribute("data-medium-editor-element")){E.nodeName.toLowerCase()==="textarea"&&(E=S.call(this,E),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=s.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),!this.options.disableEditing&&!E.getAttribute("data-disable-editing")&&(E.setAttribute("contentEditable",!0),E.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(E.getAttribute("data-disable-return")||E.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),!this.options.disableReturn&&!E.getAttribute("data-disable-return")&&this.on(E,"keyup",a.bind(this));var R=t.util.guid();E.setAttribute("data-medium-editor-element",!0),E.classList.add("medium-editor-element"),E.setAttribute("role","textbox"),E.setAttribute("aria-multiline",!0),E.setAttribute("data-medium-editor-editor-index",P),E.setAttribute("medium-editor-index",R),te[R]=E.innerHTML,this.events.attachAllEventsToElement(E)}return E}function w(){this.subscribe("editableKeydownTab",o.bind(this)),this.subscribe("editableKeydownDelete",i.bind(this)),this.subscribe("editableKeydownEnter",i.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",n.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function T(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(Y){Y!=="toolbar"&&this.options.extensions[Y]&&this.extensions.push(p(this.options.extensions[Y],Y,this))},this),x.call(this)){var E=this.options.fileDragging;E||(E={},_.call(this)||(E.allowedTypes=[])),this.addBuiltInExtension("fileDragging",E)}var P={paste:!0,"anchor-preview":g.call(this),autoLink:y.call(this),keyboardCommands:C.call(this),placeholder:m.call(this)};Object.keys(P).forEach(function(Y){P[Y]&&this.addBuiltInExtension(Y)},this);var R=this.options.extensions.toolbar;if(!R&&v.call(this)){var $=t.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});R=new t.extensions.toolbar($)}R&&this.extensions.push(p(R,"toolbar",this))}function k(E,P){var R=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return P&&R.forEach(function($){P.hasOwnProperty($[0])&&P[$[0]]!==void 0&&t.util.deprecated($[0],$[1],"v6.0.0")}),t.util.defaults({},P,E)}function I(E,P){var R=/^append-(.+)$/gi,$=/justify([A-Za-z]*)$/g,Y,ie;if(Y=R.exec(E),Y)return t.util.execFormatBlock(this.options.ownerDocument,Y[1]);if(E==="fontSize")return P.size&&t.util.deprecated(".size option for fontSize command",".value","6.0.0"),ie=P.value||P.size,this.options.ownerDocument.execCommand("fontSize",!1,ie);if(E==="fontName")return P.name&&t.util.deprecated(".name option for fontName command",".value","6.0.0"),ie=P.value||P.name,this.options.ownerDocument.execCommand("fontName",!1,ie);if(E==="createLink")return this.createLink(P);if(E==="image"){var be=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,be)}if(E==="html"){var ne=this.options.contentWindow.getSelection().toString().trim();return t.util.insertHTMLCommand(this.options.ownerDocument,ne)}if($.exec(E)){var W=this.options.ownerDocument.execCommand(E,!1,null),fe=t.selection.getSelectedParentElement(t.selection.getSelectionRange(this.options.ownerDocument));return fe&&X.call(this,t.util.getTopBlockContainer(fe)),W}return ie=P&&P.value,this.options.ownerDocument.execCommand(E,!1,ie)}function X(E){if(E){var P,R=Array.prototype.slice.call(E.childNodes).filter(function($){var Y=$.nodeName.toLowerCase()==="div";return Y&&!P&&(P=$.style.textAlign),Y});R.length&&(this.saveSelection(),R.forEach(function($){if($.style.textAlign===P){var Y=$.lastChild;if(Y){t.util.unwrap($,this.options.ownerDocument);var ie=this.options.ownerDocument.createElement("BR");Y.parentNode.insertBefore(ie,Y.nextSibling)}}},this),E.style.textAlign=P,this.restoreSelection())}}var te={};t.prototype={init:function(E,P){return this.options=k.call(this,this.defaults,P),this.origElements=E,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(l.call(this,this.options.contentWindow),this.events=new t.Events(this),this.elements=[],this.addElements(this.origElements),this.elements.length!==0&&(this.isActive=!0,T.call(this),w.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(E){typeof E.destroy=="function"&&E.destroy()},this),this.events.destroy(),this.elements.forEach(function(E){this.options.spellcheck&&(E.innerHTML=E.innerHTML),E.removeAttribute("contentEditable"),E.removeAttribute("spellcheck"),E.removeAttribute("data-medium-editor-element"),E.classList.remove("medium-editor-element"),E.removeAttribute("role"),E.removeAttribute("aria-multiline"),E.removeAttribute("medium-editor-index"),E.removeAttribute("data-medium-editor-editor-index"),E.getAttribute("medium-editor-textarea-id")&&f(E)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,c.call(this,this.options.contentWindow))},on:function(E,P,R,$){return this.events.attachDOMEvent(E,P,R,$),this},off:function(E,P,R,$){return this.events.detachDOMEvent(E,P,R,$),this},subscribe:function(E,P){return this.events.attachCustomEvent(E,P),this},unsubscribe:function(E,P){return this.events.detachCustomEvent(E,P),this},trigger:function(E,P,R){return this.events.triggerCustomEvent(E,P,R),this},delay:function(E){var P=this;return setTimeout(function(){P.isActive&&E()},this.options.delay)},serialize:function(){var E,P,R={},$=this.elements.length;for(E=0;E<$;E+=1)P=this.elements[E].id!==""?this.elements[E].id:"element-"+E,R[P]={value:this.elements[E].innerHTML.trim()};return R},getExtensionByName:function(E){var P;return this.extensions&&this.extensions.length&&this.extensions.some(function(R){return R.name===E?(P=R,!0):!1}),P},addBuiltInExtension:function(E,P){var R=this.getExtensionByName(E),$;if(R)return R;switch(E){case"anchor":$=t.util.extend({},this.options.anchor,P),R=new t.extensions.anchor($);break;case"anchor-preview":R=new t.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":R=new t.extensions.autoLink;break;case"fileDragging":R=new t.extensions.fileDragging(P);break;case"fontname":R=new t.extensions.fontName(this.options.fontName);break;case"fontsize":R=new t.extensions.fontSize(P);break;case"keyboardCommands":R=new t.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":R=new t.extensions.paste(this.options.paste);break;case"placeholder":R=new t.extensions.placeholder(this.options.placeholder);break;default:t.extensions.button.isBuiltInButton(E)&&(P?($=t.util.defaults({},P,t.extensions.button.prototype.defaults[E]),R=new t.extensions.button($)):R=new t.extensions.button(E))}return R&&this.extensions.push(p(R,E,this)),R},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var E=this.getExtensionByName("toolbar");return E&&E.checkState(),this},queryCommandState:function(E){var P=/^full-(.+)$/gi,R,$=null;R=P.exec(E),R&&(E=R[1]);try{$=this.options.ownerDocument.queryCommandState(E)}catch{$=null}return $},execAction:function(E,P){var R=/^full-(.+)$/gi,$,Y;return $=R.exec(E),$?(this.saveSelection(),this.selectAllContents(),Y=I.call(this,$[1],P),this.restoreSelection()):Y=I.call(this,E,P),(E==="insertunorderedlist"||E==="insertorderedlist")&&t.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),Y},getSelectedParentElement:function(E){return E===void 0&&(E=this.options.contentWindow.getSelection().getRangeAt(0)),t.selection.getSelectedParentElement(E)},selectAllContents:function(){var E=t.selection.getSelectionElement(this.options.contentWindow);if(E){for(;E.children.length===1;)E=E.children[0];this.selectElement(E)}},selectElement:function(E){t.selection.selectNode(E,this.options.ownerDocument);var P=t.selection.getSelectionElement(this.options.contentWindow);P&&this.events.focusElement(P)},getFocusedElement:function(){var E;return this.elements.some(function(P){return!E&&P.getAttribute("data-medium-focused")&&(E=P),!!E},this),E},exportSelection:function(){var E=t.selection.getSelectionElement(this.options.contentWindow),P=this.elements.indexOf(E),R=null;return P>=0&&(R=t.selection.exportSelection(E,this.options.ownerDocument)),R!==null&&P!==0&&(R.editableElementIndex=P),R},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(E,P){if(E){var R=this.elements[E.editableElementIndex||0];t.selection.importSelection(E,R,this.options.ownerDocument,P)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(E){var P=t.selection.getSelectionElement(this.options.contentWindow),R={},$;if(this.elements.indexOf(P)!==-1){try{if(this.events.disableCustomEvent("editableInput"),E.url&&t.util.deprecated(".url option for createLink",".value","6.0.0"),$=E.url||E.value,$&&$.trim().length>0){var Y=this.options.contentWindow.getSelection();if(Y){var ie=Y.getRangeAt(0),be=ie.commonAncestorContainer,ne,W,fe,ye;if(ie.endContainer.nodeType===3&&ie.startContainer.nodeType!==3&&ie.startOffset===0&&ie.startContainer.firstChild===ie.endContainer&&(be=ie.endContainer),W=t.util.getClosestBlockContainer(ie.startContainer),fe=t.util.getClosestBlockContainer(ie.endContainer),be.nodeType!==3&&be.textContent.length!==0&&W===fe){var _e=W||P,Se=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),ne=this.exportSelection(),Se.appendChild(_e.cloneNode(!0)),P===_e?t.selection.select(this.options.ownerDocument,_e.firstChild,0,_e.lastChild,_e.lastChild.nodeType===3?_e.lastChild.nodeValue.length:_e.lastChild.childNodes.length):t.selection.select(this.options.ownerDocument,_e,0,_e,_e.childNodes.length);var L=this.exportSelection();ye=t.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,Se,{start:ne.start-L.start,end:ne.end-L.start,editableElementIndex:ne.editableElementIndex}),ye.length===0&&(Se=this.options.ownerDocument.createDocumentFragment(),Se.appendChild(be.cloneNode(!0)),ye=[Se.firstChild.firstChild,Se.firstChild.lastChild]),t.util.createLink(this.options.ownerDocument,ye,$.trim());var J=(Se.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;t.util.insertHTMLCommand(this.options.ownerDocument,Se.firstChild.innerHTML.replace(/^\s+/,"")),ne.start-=J,ne.end-=J,this.importSelection(ne)}else this.options.ownerDocument.execCommand("createLink",!1,$);this.options.targetBlank||E.target==="_blank"?t.util.setTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),$):t.util.removeTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),$),E.buttonClass&&t.util.addClassToAnchors(t.selection.getSelectionStart(this.options.ownerDocument),E.buttonClass)}}if(this.options.targetBlank||E.target==="_blank"||E.buttonClass){R=this.options.ownerDocument.createEvent("HTMLEvents"),R.initEvent("input",!0,!0,this.options.contentWindow);for(var q=0,de=this.elements.length;q<de;q+=1)this.elements[q].dispatchEvent(R)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",R,P)}},cleanPaste:function(E){this.getExtensionByName("paste").cleanPaste(E)},pasteHTML:function(E,P){this.getExtensionByName("paste").pasteHTML(E,P)},setContent:function(E,P){if(P=P||0,this.elements[P]){var R=this.elements[P];R.innerHTML=E,this.checkContentChanged(R)}},getContent:function(E){return E=E||0,this.elements[E]?this.elements[E].innerHTML.trim():null},checkContentChanged:function(E){E=E||t.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(E,{target:E,currentTarget:E})},resetContent:function(E){if(E){var P=this.elements.indexOf(E);P!==-1&&this.setContent(te[E.getAttribute("medium-editor-index")],P);return}this.elements.forEach(function(R,$){this.setContent(te[R.getAttribute("medium-editor-index")],$)},this)},addElements:function(E){var P=d(E,this.options.ownerDocument,!0);if(P.length===0)return!1;P.forEach(function(R){R=b.call(this,R,this.id),this.elements.push(R),this.trigger("addElement",{target:R,currentTarget:R},R)},this)},removeElements:function(E){var P=d(E,this.options.ownerDocument),R=P.map(function($){return $.getAttribute("medium-editor-textarea-id")&&$.parentNode?$.parentNode.querySelector('div[medium-editor-textarea-id="'+$.getAttribute("medium-editor-textarea-id")+'"]'):$});this.elements=this.elements.filter(function($){return R.indexOf($)!==-1?(this.events.cleanupElement($),$.getAttribute("medium-editor-textarea-id")&&f($),this.trigger("removeElement",{target:$,currentTarget:$},$),!1):!0},this)}},t.getEditorFromElement=function(E){var P=E.getAttribute("data-medium-editor-editor-index"),R=E&&E.ownerDocument&&(E.ownerDocument.defaultView||E.ownerDocument.parentWindow);return R&&R._mediumEditors&&R._mediumEditors[P]?R._mediumEditors[P]:null}}(),function(){t.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),t.parseVersionString=function(n){var r=n.split("-"),o=r[0].split("."),i=r.length>1?r[1]:"";return{major:parseInt(o[0],10),minor:parseInt(o[1],10),revision:parseInt(o[2],10),preRelease:i,toString:function(){return[o[0],o[1],o[2]].join(".")+(i?"-"+i:"")}}},t.version=t.parseVersionString.call(this,"5.23.3"),t}())})(lS);var pG=lS.exports;const Ed=Vd(pG);/*!
 * vanilla-picker v2.12.3
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var _m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},bm=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rc=function(){function e(t,n){var r=[],o=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),l;!(o=(l=s.next()).done)&&(r.push(l.value),!(n&&r.length===n));o=!0);}catch(c){i=!0,a=c}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(e){return this.indexOf(e)===0};String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var vG={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function Ib(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var gG=function(){function e(t,n,r,o){_m(this,e);var i=this;function a(l){if(l.startsWith("hsl")){var c=l.match(/([\-\d\.e]+)/g).map(Number),d=rc(c,4),f=d[0],h=d[1],p=d[2],v=d[3];v===void 0&&(v=1),f/=360,h/=100,p/=100,i.hsla=[f,h,p,v]}else if(l.startsWith("rgb")){var g=l.match(/([\-\d\.e]+)/g).map(Number),m=rc(g,4),y=m[0],_=m[1],C=m[2],x=m[3];x===void 0&&(x=1),i.rgba=[y,_,C,x]}else l.startsWith("#")?i.rgba=e.hexToRgb(l):i.rgba=e.nameToRgb(l)||e.hexToRgb(l)}if(t!==void 0)if(Array.isArray(t))this.rgba=t;else if(r===void 0){var s=t&&""+t;s&&a(s.toLowerCase())}else this.rgba=[t,n,r,o===void 0?1:o]}return bm(e,[{key:"printRGB",value:function(n){var r=n?this.rgba:this.rgba.slice(0,3),o=r.map(function(i,a){return Ib(i,a===3?3:0)});return n?"rgba("+o+")":"rgb("+o+")"}},{key:"printHSL",value:function(n){var r=[360,100,100,1],o=["","%","%",""],i=n?this.hsla:this.hsla.slice(0,3),a=i.map(function(s,l){return Ib(s*r[l],l===3?3:1)+o[l]});return n?"hsla("+a+")":"hsl("+a+")"}},{key:"printHex",value:function(n){var r=this.hex;return n?r:r.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=e.hslToRgb(this._hsla)},set:function(n){n.length===3&&(n[3]=1),this._rgba=n,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=e.rgbToHsl(this._rgba)},set:function(n){n.length===3&&(n[3]=1),this._hsla=n,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var n=this.rgba,r=n.map(function(o,i){return i<3?o.toString(16):Math.round(o*255).toString(16)});return"#"+r.map(function(o){return o.padStart(2,"0")}).join("")},set:function(n){this.rgba=e.hexToRgb(n)}}],[{key:"hexToRgb",value:function(n){var r=(n.startsWith("#")?n.slice(1):n).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+n);var o=r.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(i){return parseInt(i,16)});return o[3]=o[3]/255,o}},{key:"nameToRgb",value:function(n){var r=n.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),o=vG[r];return o===void 0?o:e.hexToRgb(o.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(n){var r=rc(n,4),o=r[0],i=r[1],a=r[2],s=r[3];o/=255,i/=255,a/=255;var l=Math.max(o,i,a),c=Math.min(o,i,a),d=void 0,f=void 0,h=(l+c)/2;if(l===c)d=f=0;else{var p=l-c;switch(f=h>.5?p/(2-l-c):p/(l+c),l){case o:d=(i-a)/p+(i<a?6:0);break;case i:d=(a-o)/p+2;break;case a:d=(o-i)/p+4;break}d/=6}return[d,f,h,s]}},{key:"hslToRgb",value:function(n){var r=rc(n,4),o=r[0],i=r[1],a=r[2],s=r[3],l=void 0,c=void 0,d=void 0;if(i===0)l=c=d=a;else{var f=function(m,y,_){return _<0&&(_+=1),_>1&&(_-=1),_<.16666666666666666?m+(y-m)*6*_:_<.5?y:_<.6666666666666666?m+(y-m)*(.6666666666666666-_)*6:m},h=a<.5?a*(1+i):a+i-a*i,p=2*a-h;l=f(p,h,o+1/3),c=f(p,h,o),d=f(p,h,o-1/3)}var v=[l*255,c*255,d*255].map(Math.round);return v[3]=s,v}}]),e}(),mG=function(){function e(){_m(this,e),this._events=[]}return bm(e,[{key:"add",value:function(n,r,o){n.addEventListener(r,o,!1),this._events.push({target:n,type:r,handler:o})}},{key:"remove",value:function(n,r,o){this._events=this._events.filter(function(i){var a=!0;return n&&n!==i.target&&(a=!1),r&&r!==i.type&&(a=!1),o&&o!==i.handler&&(a=!1),a&&e._doRemove(i.target,i.type,i.handler),!a})}},{key:"destroy",value:function(){this._events.forEach(function(n){return e._doRemove(n.target,n.type,n.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(n,r,o){n.removeEventListener(r,o,!1)}}]),e}();function yG(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function Jh(e,t,n){var r=!1;function o(l,c,d){return Math.max(c,Math.min(l,d))}function i(l,c,d){if(d&&(r=!0),!!r){l.preventDefault();var f=t.getBoundingClientRect(),h=f.width,p=f.height,v=c.clientX,g=c.clientY,m=o(v-f.left,0,h),y=o(g-f.top,0,p);n(m/h,y/p)}}function a(l,c){var d=l.buttons===void 0?l.which:l.buttons;d===1?i(l,l,c):r=!1}function s(l,c){l.touches.length===1?i(l,l.touches[0],c):r=!1}e.add(t,"mousedown",function(l){a(l,!0)}),e.add(t,"touchstart",function(l){s(l,!0)}),e.add(window,"mousemove",a),e.add(t,"touchmove",s),e.add(window,"mouseup",function(l){r=!1}),e.add(t,"touchend",function(l){r=!1}),e.add(t,"touchcancel",function(l){r=!1})}var _G=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,bG=360,uS="keydown",oc="mousedown",Qh="focusin";function so(e,t){return(t||document).querySelector(e)}function wG(e){e.preventDefault(),e.stopPropagation()}function ep(e,t,n,r,o){e.add(t,uS,function(i){n.indexOf(i.key)>=0&&r(i)})}var cS=function(){function e(t){_m(this,e),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new mG,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return bm(e,[{key:"setOptions",value:function(n){var r=this;if(!n)return;var o=this.settings;function i(c,d,f){for(var h in c)d[h]=c[h]}if(n instanceof HTMLElement)o.parent=n;else{o.parent&&n.parent&&o.parent!==n.parent&&(this._events.remove(o.parent),this._popupInited=!1),i(n,o),n.onChange&&(this.onChange=n.onChange),n.onDone&&(this.onDone=n.onDone),n.onOpen&&(this.onOpen=n.onOpen),n.onClose&&(this.onClose=n.onClose);var a=n.color||n.colour;a&&this._setColor(a)}var s=o.parent;if(s&&o.popup&&!this._popupInited){var l=function(d){return r.openHandler(d)};this._events.add(s,"click",l),ep(this._events,s,[" ","Spacebar","Enter"],l),this._popupInited=!0}else n.parent&&!o.popup&&this.show()}},{key:"openHandler",value:function(n){if(this.show()){n&&n.preventDefault(),this.settings.parent.style.pointerEvents="none";var r=n&&n.type===uS?this._domEdit:this.domElement;setTimeout(function(){return r.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(n){var r=n&&n.type,o=!1;if(!n)o=!0;else if(r===oc||r===Qh){var i=(this.__containedEvent||0)+100;n.timeStamp>i&&(o=!0)}else wG(n),o=!0;o&&this.hide()&&(this.settings.parent.style.pointerEvents="",r!==oc&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(n,r){this.closeHandler(),this.setOptions(n),r&&this.openHandler()}},{key:"setColor",value:function(n,r){this._setColor(n,{silent:r})}},{key:"_setColor",value:function(n,r){if(typeof n=="string"&&(n=n.trim()),!!n){r=r||{};var o=void 0;try{o=new gG(n)}catch(a){if(r.failSilently)return;throw a}if(!this.settings.alpha){var i=o.hsla;i[3]=1,o.hsla=i}this.colour=this.color=o,this._setHSLA(null,null,null,null,r)}}},{key:"setColour",value:function(n,r){this.setColor(n,r)}},{key:"show",value:function(){var n=this.settings.parent;if(!n)return!1;if(this.domElement){var r=this._toggleDOM(!0);return this._setPosition(),r}var o=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',i=yG(o);return this.domElement=i,this._domH=so(".picker_hue",i),this._domSL=so(".picker_sl",i),this._domA=so(".picker_alpha",i),this._domEdit=so(".picker_editor input",i),this._domSample=so(".picker_sample",i),this._domOkay=so(".picker_done button",i),this._domCancel=so(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup(function(){return i.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var n=this,r=this,o=this.domElement,i=this._events;function a(c,d,f){i.add(c,d,f)}a(o,"click",function(c){return c.preventDefault()}),Jh(i,this._domH,function(c,d){return r._setHSLA(c)}),Jh(i,this._domSL,function(c,d){return r._setHSLA(null,c,1-d)}),this.settings.alpha&&Jh(i,this._domA,function(c,d){return r._setHSLA(null,null,null,1-d)});var s=this._domEdit;a(s,"input",function(c){r._setColor(this.value,{fromEditor:!0,failSilently:!0})}),a(s,"focus",function(c){var d=this;d.selectionStart===d.selectionEnd&&d.select()}),this._ifPopup(function(){var c=function(h){return n.closeHandler(h)};a(window,oc,c),a(window,Qh,c),ep(i,o,["Esc","Escape"],c);var d=function(h){n.__containedEvent=h.timeStamp};a(o,oc,d),a(o,Qh,d),a(n._domCancel,"click",c)});var l=function(d){n._ifPopup(function(){return n.closeHandler(d)}),n.onDone&&n.onDone(n.colour)};a(this._domOkay,"click",l),ep(i,o,["Enter"],l)}},{key:"_setPosition",value:function(){var n=this.settings.parent,r=this.domElement;n!==r.parentNode&&n.appendChild(r),this._ifPopup(function(o){getComputedStyle(n).position==="static"&&(n.style.position="relative");var i=o===!0?"popup_right":"popup_"+o;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(a){a===i?r.classList.add(a):r.classList.remove(a)}),r.classList.add(i)})}},{key:"_setHSLA",value:function(n,r,o,i,a){a=a||{};var s=this.colour,l=s.hsla;[n,r,o,i].forEach(function(c,d){(c||c===0)&&(l[d]=c)}),s.hsla=l,this._updateUI(a),this.onChange&&!a.silent&&this.onChange(s)}},{key:"_updateUI",value:function(n){if(!this.domElement)return;n=n||{};var r=this.colour,o=r.hsla,i="hsl("+o[0]*bG+", 100%, 50%)",a=r.hslString,s=r.hslaString,l=this._domH,c=this._domSL,d=this._domA,f=so(".picker_selector",l),h=so(".picker_selector",c),p=so(".picker_selector",d);function v(b,w,T){w.style.left=T*100+"%"}function g(b,w,T){w.style.top=T*100+"%"}v(l,f,o[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,v(c,h,o[1]),g(c,h,1-o[2]),c.style.color=a,g(d,p,1-o[3]);var m=a,y=m.replace("hsl","hsla").replace(")",", 0)"),_="linear-gradient("+[m,y]+")";if(this._domA.style.background=_+", "+_G,!n.fromEditor){var C=this.settings.editorFormat,x=this.settings.alpha,S=void 0;switch(C){case"rgb":S=r.printRGB(x);break;case"hsl":S=r.printHSL(x);break;default:S=r.printHex(x)}this._domEdit.value=S}this._domSample.style.color=s}},{key:"_ifPopup",value:function(n,r){this.settings.parent&&this.settings.popup?n&&n(this.settings.popup):r&&r()}},{key:"_toggleDOM",value:function(n){var r=this.domElement;if(!r)return!1;var o=n?"":"none",i=r.style.display!==o;return i&&(r.style.display=o),i}}]),e}();{var tp=document.createElement("style");tp.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(tp),cS.StyleElement=tp}var dS={exports:{}};(function(e,t){(function(n,r){e.exports=n()})(function(){var n="object",r="function",o="undefined",i=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],a=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],l=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function c(L,J){var q=typeof L[J];return q==r||!!(q==n&&L[J])||q=="unknown"}function d(L,J){return!!(typeof L[J]==n&&L[J])}function f(L,J){return typeof L[J]!=o}function h(L){return function(J,q){for(var de=q.length;de--;)if(!L(J,q[de]))return!1;return!0}}var p=h(c),v=h(d),g=h(f);function m(L){return L&&p(L,l)&&g(L,s)}function y(L){return d(L,"body")?L.body:L.getElementsByTagName("body")[0]}var _=[].forEach?function(L,J){L.forEach(J)}:function(L,J){for(var q=0,de=L.length;q<de;++q)J(L[q],q)},C={},x=typeof window!=o&&typeof document!=o,S={isHostMethod:c,isHostObject:d,isHostProperty:f,areHostMethods:p,areHostObjects:v,areHostProperties:g,isTextRange:m,getBody:y,forEach:_},b={version:"1.3.2",initialized:!1,isBrowser:x,supported:!0,util:S,features:{},modules:C,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==o?!0:rangyAutoInitialize}};function w(L){typeof console!=o&&c(console,"log")&&console.log(L)}function T(L,J){x&&J?alert(L):w(L)}function k(L){b.initialized=!0,b.supported=!1,T("Rangy is not supported in this environment. Reason: "+L,b.config.alertOnFail)}b.fail=k;function I(L){T("Rangy warning: "+L,b.config.alertOnWarn)}b.warn=I;var X;({}).hasOwnProperty?(S.extend=X=function(L,J,q){var de,pe;for(var ue in J)ue==="__proto__"||ue==="constructor"||ue==="prototype"||J.hasOwnProperty(ue)&&(de=L[ue],pe=J[ue],q&&de!==null&&typeof de=="object"&&pe!==null&&typeof pe=="object"&&X(de,pe,!0),L[ue]=pe);return J.hasOwnProperty("toString")&&(L.toString=J.toString),L},S.createOptions=function(L,J){var q={};return X(q,J),L&&X(q,L),q}):k("hasOwnProperty not supported"),x||k("Rangy can only run in a browser"),function(){var L;if(x){var J=document.createElement("div");J.appendChild(document.createElement("span"));var q=[].slice;try{q.call(J.childNodes,0)[0].nodeType==1&&(L=function(de){return q.call(de,0)})}catch{}}L||(L=function(de){for(var pe=[],ue=0,Le=de.length;ue<Le;++ue)pe[ue]=de[ue];return pe}),S.toArray=L}();var te;x&&(c(document,"addEventListener")?te=function(L,J,q){L.addEventListener(J,q,!1)}:c(document,"attachEvent")?te=function(L,J,q){L.attachEvent("on"+J,q)}:k("Document does not have required addEventListener or attachEvent method"),S.addListener=te);var E=[];function P(L){return L.message||L.description||String(L)}function R(){if(!(!x||b.initialized)){var L,J=!1,q=!1;c(document,"createRange")&&(L=document.createRange(),p(L,a)&&g(L,i)&&(J=!0));var de=y(document);if(!de||de.nodeName.toLowerCase()!="body"){k("No body element found");return}if(de&&c(de,"createTextRange")&&(L=de.createTextRange(),m(L)&&(q=!0)),!J&&!q){k("Neither Range nor TextRange are available");return}b.initialized=!0,b.features={implementsDomRange:J,implementsTextRange:q};var pe,ue;for(var Le in C)(pe=C[Le])instanceof ne&&pe.init(pe,b);for(var ve=0,oe=E.length;ve<oe;++ve)try{E[ve](b)}catch(xe){ue="Rangy init listener threw an exception. Continuing. Detail: "+P(xe),w(ue)}}}function $(L,J,q){q&&(L+=" in module "+q.name),b.warn("DEPRECATED: "+L+" is deprecated. Please use "+J+" instead.")}function Y(L,J,q,de){L[J]=function(){return $(J,q,de),L[q].apply(L,S.toArray(arguments))}}S.deprecationNotice=$,S.createAliasForDeprecatedMethod=Y,b.init=R,b.addInitListener=function(L){b.initialized?L(b):E.push(L)};var ie=[];b.addShimListener=function(L){ie.push(L)};function be(L){L=L||window,R();for(var J=0,q=ie.length;J<q;++J)ie[J](L)}x&&(b.shim=b.createMissingNativeApi=be,Y(b,"createMissingNativeApi","shim"));function ne(L,J,q){this.name=L,this.dependencies=J,this.initialized=!1,this.supported=!1,this.initializer=q}ne.prototype={init:function(){for(var L=this.dependencies||[],J=0,q=L.length,de,pe;J<q;++J){if(pe=L[J],de=C[pe],!de||!(de instanceof ne))throw new Error("required module '"+pe+"' not found");if(de.init(),!de.supported)throw new Error("required module '"+pe+"' not supported")}this.initializer(this)},fail:function(L){throw this.initialized=!0,this.supported=!1,new Error(L)},warn:function(L){b.warn("Module "+this.name+": "+L)},deprecationNotice:function(L,J){b.warn("DEPRECATED: "+L+" in module "+this.name+" is deprecated. Please use "+J+" instead")},createError:function(L){return new Error("Error in Rangy "+this.name+" module: "+L)}};function W(L,J,q){var de=new ne(L,J,function(pe){if(!pe.initialized){pe.initialized=!0;try{q(b,pe),pe.supported=!0}catch(Le){var ue="Module '"+L+"' failed to load: "+P(Le);w(ue),Le.stack&&w(Le.stack)}}});return C[L]=de,de}b.createModule=function(L){var J,q;arguments.length==2?(J=arguments[1],q=[]):(J=arguments[2],q=arguments[1]);var de=W(L,q,J);b.initialized&&b.supported&&de.init()},b.createCoreModule=function(L,J,q){W(L,J,q)};function fe(){}b.RangePrototype=fe,b.rangePrototype=new fe;function ye(){}b.selectionPrototype=new ye,b.createCoreModule("DomUtil",[],function(L,J){var q="undefined",de=L.util,pe=de.getBody;de.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||J.fail("document missing a Node creation method"),de.isHostMethod(document,"getElementsByTagName")||J.fail("document missing getElementsByTagName method");var ue=document.createElement("div");de.areHostMethods(ue,["insertBefore","appendChild","cloneNode"])||J.fail("Incomplete Element implementation"),de.isHostProperty(ue,"innerHTML")||J.fail("Element is missing innerHTML property");var Le=document.createTextNode("test");de.areHostMethods(Le,["splitText","deleteData","insertData","appendData","cloneNode"])||J.fail("Incomplete Text Node implementation");var ve=function(Q,Ce){for(var et=Q.length;et--;)if(Q[et]===Ce)return!0;return!1};function oe(Q){var Ce;return typeof Q.namespaceURI==q||(Ce=Q.namespaceURI)===null||Ce=="http://www.w3.org/1999/xhtml"}function xe(Q){var Ce=Q.parentNode;return Ce.nodeType==1?Ce:null}function Ne(Q){for(var Ce=0;Q=Q.previousSibling;)++Ce;return Ce}function dt(Q){switch(Q.nodeType){case 7:case 10:return 0;case 3:case 8:return Q.length;default:return Q.childNodes.length}}function st(Q,Ce){var et=[],ze;for(ze=Q;ze;ze=ze.parentNode)et.push(ze);for(ze=Ce;ze;ze=ze.parentNode)if(ve(et,ze))return ze;return null}function M(Q,Ce,et){for(var ze=et?Ce:Ce.parentNode;ze;){if(ze===Q)return!0;ze=ze.parentNode}return!1}function D(Q,Ce){return M(Q,Ce,!0)}function B(Q,Ce,et){for(var ze,It=et?Q:Q.parentNode;It;){if(ze=It.parentNode,ze===Ce)return It;It=ze}return null}function re(Q){var Ce=Q.nodeType;return Ce==3||Ce==4||Ce==8}function j(Q){if(!Q)return!1;var Ce=Q.nodeType;return Ce==3||Ce==8}function le(Q,Ce){var et=Ce.nextSibling,ze=Ce.parentNode;return et?ze.insertBefore(Q,et):ze.appendChild(Q),Q}function ae(Q,Ce,et){var ze=Q.cloneNode(!1);if(ze.deleteData(0,Ce),Q.deleteData(Ce,Q.length-Ce),le(ze,Q),et)for(var It=0,Ct;Ct=et[It++];)Ct.node==Q&&Ct.offset>Ce?(Ct.node=ze,Ct.offset-=Ce):Ct.node==Q.parentNode&&Ct.offset>Ne(Q)&&++Ct.offset;return ze}function he(Q){if(Q.nodeType==9)return Q;if(typeof Q.ownerDocument!=q)return Q.ownerDocument;if(typeof Q.document!=q)return Q.document;if(Q.parentNode)return he(Q.parentNode);throw J.createError("getDocument: no document found for node")}function G(Q){var Ce=he(Q);if(typeof Ce.defaultView!=q)return Ce.defaultView;if(typeof Ce.parentWindow!=q)return Ce.parentWindow;throw J.createError("Cannot get a window object for node")}function V(Q){if(typeof Q.contentDocument!=q)return Q.contentDocument;if(typeof Q.contentWindow!=q)return Q.contentWindow.document;throw J.createError("getIframeDocument: No Document object found for iframe element")}function H(Q){if(typeof Q.contentWindow!=q)return Q.contentWindow;if(typeof Q.contentDocument!=q)return Q.contentDocument.defaultView;throw J.createError("getIframeWindow: No Window object found for iframe element")}function me(Q){return Q&&de.isHostMethod(Q,"setTimeout")&&de.isHostObject(Q,"document")}function We(Q,Ce,et){var ze;if(Q?de.isHostProperty(Q,"nodeType")?ze=Q.nodeType==1&&Q.tagName.toLowerCase()=="iframe"?V(Q):he(Q):me(Q)&&(ze=Q.document):ze=document,!ze)throw Ce.createError(et+"(): Parameter must be a Window object or DOM node");return ze}function Ve(Q){for(var Ce;Ce=Q.parentNode;)Q=Ce;return Q}function Ht(Q,Ce,et,ze){var It,Ct,Pr,Yn,Sn;if(Q==et)return Ce===ze?0:Ce<ze?-1:1;if(It=B(et,Q,!0))return Ce<=Ne(It)?-1:1;if(It=B(Q,et,!0))return Ne(It)<ze?-1:1;if(Ct=st(Q,et),!Ct)throw new Error("comparePoints error: nodes have no common ancestor");if(Pr=Q===Ct?Ct:B(Q,Ct,!0),Yn=et===Ct?Ct:B(et,Ct,!0),Pr===Yn)throw J.createError("comparePoints got to case 4 and childA and childB are the same!");for(Sn=Ct.firstChild;Sn;){if(Sn===Pr)return-1;if(Sn===Yn)return 1;Sn=Sn.nextSibling}}var Ae=!1;function Be(Q){var Ce;try{return Ce=Q.parentNode,!1}catch{return!0}}(function(){var Q=document.createElement("b");Q.innerHTML="1";var Ce=Q.firstChild;Q.innerHTML="<br />",Ae=Be(Ce),L.features.crashyTextNodes=Ae})();function mt(Q){if(!Q)return"[No node]";if(Ae&&Be(Q))return"[Broken node]";if(re(Q))return'"'+Q.data+'"';if(Q.nodeType==1){var Ce=Q.id?' id="'+Q.id+'"':"";return"<"+Q.nodeName+Ce+">[index:"+Ne(Q)+",length:"+Q.childNodes.length+"]["+(Q.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return Q.nodeName}function Tt(Q){for(var Ce=he(Q).createDocumentFragment(),et;et=Q.firstChild;)Ce.appendChild(et);return Ce}var qt;typeof window.getComputedStyle!=q?qt=function(Q,Ce){return G(Q).getComputedStyle(Q,null)[Ce]}:typeof document.documentElement.currentStyle!=q?qt=function(Q,Ce){return Q.currentStyle?Q.currentStyle[Ce]:""}:J.fail("No means of obtaining computed style properties found");function Un(Q,Ce,et){var ze=pe(Q),It=Q.createElement("div");It.contentEditable=""+!!et,Ce&&(It.innerHTML=Ce);var Ct=ze.firstChild;return Ct?ze.insertBefore(It,Ct):ze.appendChild(It),It}function Cn(Q){return Q.parentNode.removeChild(Q)}function on(Q){this.root=Q,this._next=Q}on.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var Q=this._current=this._next,Ce,et;if(this._current)if(Ce=Q.firstChild,Ce)this._next=Ce;else{for(et=null;Q!==this.root&&!(et=Q.nextSibling);)Q=Q.parentNode;this._next=et}return this._current},detach:function(){this._current=this._next=this.root=null}};function an(Q){return new on(Q)}function mn(Q,Ce){this.node=Q,this.offset=Ce}mn.prototype={equals:function(Q){return!!Q&&this.node===Q.node&&this.offset==Q.offset},inspect:function(){return"[DomPosition("+mt(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};function In(Q){this.code=this[Q],this.codeName=Q,this.message="DOMException: "+this.codeName}In.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},In.prototype.toString=function(){return this.message},L.dom={arrayContains:ve,isHtmlNamespace:oe,parentElement:xe,getNodeIndex:Ne,getNodeLength:dt,getCommonAncestor:st,isAncestorOf:M,isOrIsAncestorOf:D,getClosestAncestorIn:B,isCharacterDataNode:re,isTextOrCommentNode:j,insertAfter:le,splitDataNode:ae,getDocument:he,getWindow:G,getIframeWindow:H,getIframeDocument:V,getBody:pe,isWindow:me,getContentDocument:We,getRootContainer:Ve,comparePoints:Ht,isBrokenNode:Be,inspectNode:mt,getComputedStyleProperty:qt,createTestElement:Un,removeNode:Cn,fragmentFromNodeChildren:Tt,createIterator:an,DomPosition:mn},L.DOMException=In}),b.createCoreModule("DomRange",["DomUtil"],function(L,J){var q=L.dom,de=L.util,pe=q.DomPosition,ue=L.DOMException,Le=q.isCharacterDataNode,ve=q.getNodeIndex,oe=q.isOrIsAncestorOf,xe=q.getDocument,Ne=q.comparePoints,dt=q.splitDataNode,st=q.getClosestAncestorIn,M=q.getNodeLength,D=q.arrayContains,B=q.getRootContainer,re=L.features.crashyTextNodes,j=q.removeNode;function le(A,z){return A.nodeType!=3&&(oe(A,z.startContainer)||oe(A,z.endContainer))}function ae(A){return A.document||xe(A.startContainer)}function he(A){return B(A.startContainer)}function G(A){return new pe(A.parentNode,ve(A))}function V(A){return new pe(A.parentNode,ve(A)+1)}function H(A,z,se){var Ee=A.nodeType==11?A.firstChild:A;return Le(z)?se==z.length?q.insertAfter(A,z):z.parentNode.insertBefore(A,se==0?z:dt(z,se)):se>=z.childNodes.length?z.appendChild(A):z.insertBefore(A,z.childNodes[se]),Ee}function me(A,z,se){if(Nt(A),Nt(z),ae(z)!=ae(A))throw new ue("WRONG_DOCUMENT_ERR");var Ee=Ne(A.startContainer,A.startOffset,z.endContainer,z.endOffset),Ie=Ne(A.endContainer,A.endOffset,z.startContainer,z.startOffset);return se?Ee<=0&&Ie>=0:Ee<0&&Ie>0}function We(A){for(var z,se,Ee=ae(A.range).createDocumentFragment(),Ie;se=A.next();){if(z=A.isPartiallySelectedSubtree(),se=se.cloneNode(!z),z&&(Ie=A.getSubtreeIterator(),se.appendChild(We(Ie)),Ie.detach()),se.nodeType==10)throw new ue("HIERARCHY_REQUEST_ERR");Ee.appendChild(se)}return Ee}function Ve(A,z,se){var Ee,Ie;se=se||{stop:!1};for(var pt,ge;pt=A.next();)if(A.isPartiallySelectedSubtree()){if(z(pt)===!1){se.stop=!0;return}else if(ge=A.getSubtreeIterator(),Ve(ge,z,se),ge.detach(),se.stop)return}else for(Ee=q.createIterator(pt);Ie=Ee.next();)if(z(Ie)===!1){se.stop=!0;return}}function Ht(A){for(var z;A.next();)A.isPartiallySelectedSubtree()?(z=A.getSubtreeIterator(),Ht(z),z.detach()):A.remove()}function Ae(A){for(var z,se=ae(A.range).createDocumentFragment(),Ee;z=A.next();){if(A.isPartiallySelectedSubtree()?(z=z.cloneNode(!1),Ee=A.getSubtreeIterator(),z.appendChild(Ae(Ee)),Ee.detach()):A.remove(),z.nodeType==10)throw new ue("HIERARCHY_REQUEST_ERR");se.appendChild(z)}return se}function Be(A,z,se){var Ee=!!(z&&z.length),Ie,pt=!!se;Ee&&(Ie=new RegExp("^("+z.join("|")+")$"));var ge=[];return Ve(new Tt(A,!1),function($e){if(!(Ee&&!Ie.test($e.nodeType))&&!(pt&&!se($e))){var Ge=A.startContainer;if(!($e==Ge&&Le(Ge)&&A.startOffset==Ge.length)){var lt=A.endContainer;$e==lt&&Le(lt)&&A.endOffset==0||ge.push($e)}}}),ge}function mt(A){var z=typeof A.getName>"u"?"Range":A.getName();return"["+z+"("+q.inspectNode(A.startContainer)+":"+A.startOffset+", "+q.inspectNode(A.endContainer)+":"+A.endOffset+")]"}function Tt(A,z){if(this.range=A,this.clonePartiallySelectedTextNodes=z,!A.collapsed){this.sc=A.startContainer,this.so=A.startOffset,this.ec=A.endContainer,this.eo=A.endOffset;var se=A.commonAncestorContainer;this.sc===this.ec&&Le(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===se&&!Le(this.sc)?this.sc.childNodes[this.so]:st(this.sc,se,!0),this._last=this.ec===se&&!Le(this.ec)?this.ec.childNodes[this.eo-1]:st(this.ec,se,!0))}}Tt.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var A=this._current=this._next;return A&&(this._next=A!==this._last?A.nextSibling:null,Le(A)&&this.clonePartiallySelectedTextNodes&&(A===this.ec&&(A=A.cloneNode(!0)).deleteData(this.eo,A.length-this.eo),this._current===this.sc&&(A=A.cloneNode(!0)).deleteData(0,this.so))),A},remove:function(){var A=this._current,z,se;Le(A)&&(A===this.sc||A===this.ec)?(z=A===this.sc?this.so:0,se=A===this.ec?this.eo:A.length,z!=se&&A.deleteData(z,se-z)):A.parentNode&&j(A)},isPartiallySelectedSubtree:function(){var A=this._current;return le(A,this.range)},getSubtreeIterator:function(){var A;if(this.isSingleCharacterDataNode)A=this.range.cloneRange(),A.collapse(!1);else{A=new Zt(ae(this.range));var z=this._current,se=z,Ee=0,Ie=z,pt=M(z);oe(z,this.sc)&&(se=this.sc,Ee=this.so),oe(z,this.ec)&&(Ie=this.ec,pt=this.eo),yt(A,se,Ee,Ie,pt)}return new Tt(A,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var qt=[1,3,4,5,7,8,10],Un=[2,9,11],Cn=[5,6,10,12],on=[1,3,4,5,7,8,10,11],an=[1,3,4,5,7,8];function mn(A){return function(z,se){for(var Ee,Ie=se?z:z.parentNode;Ie;){if(Ee=Ie.nodeType,D(A,Ee))return Ie;Ie=Ie.parentNode}return null}}var In=mn([9,11]),Q=mn(Cn),Ce=mn([6,10,12]),et=mn([1]);function ze(A,z){if(Ce(A,z))throw new ue("INVALID_NODE_TYPE_ERR")}function It(A,z){if(!D(z,A.nodeType))throw new ue("INVALID_NODE_TYPE_ERR")}function Ct(A,z){if(z<0||z>(Le(A)?A.length:A.childNodes.length))throw new ue("INDEX_SIZE_ERR")}function Pr(A,z){if(In(A,!0)!==In(z,!0))throw new ue("WRONG_DOCUMENT_ERR")}function Yn(A){if(Q(A,!0))throw new ue("NO_MODIFICATION_ALLOWED_ERR")}function Sn(A,z){if(!A)throw new ue(z)}function Is(A,z){return z<=(Le(A)?A.length:A.childNodes.length)}function Pi(A){return!!A.startContainer&&!!A.endContainer&&!(re&&(q.isBrokenNode(A.startContainer)||q.isBrokenNode(A.endContainer)))&&B(A.startContainer)==B(A.endContainer)&&Is(A.startContainer,A.startOffset)&&Is(A.endContainer,A.endOffset)}function Nt(A){if(!Pi(A))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+A.inspect()+")")}var js=document.createElement("style"),To=!1;try{js.innerHTML="<b>x</b>",To=js.firstChild.nodeType==3}catch{}L.features.htmlParsingConforms=To;var Vs=To?function(A){var z=this.startContainer,se=xe(z);if(!z)throw new ue("INVALID_STATE_ERR");var Ee=null;return z.nodeType==1?Ee=z:Le(z)&&(Ee=q.parentElement(z)),Ee===null||Ee.nodeName=="HTML"&&q.isHtmlNamespace(xe(Ee).documentElement)&&q.isHtmlNamespace(Ee)?Ee=se.createElement("body"):Ee=Ee.cloneNode(!1),Ee.innerHTML=A,q.fragmentFromNodeChildren(Ee)}:function(A){var z=ae(this),se=z.createElement("body");return se.innerHTML=A,q.fragmentFromNodeChildren(se)};function xa(A,z){Nt(A);var se=A.startContainer,Ee=A.startOffset,Ie=A.endContainer,pt=A.endOffset,ge=se===Ie;Le(Ie)&&pt>0&&pt<Ie.length&&dt(Ie,pt,z),Le(se)&&Ee>0&&Ee<se.length&&(se=dt(se,Ee,z),ge?(pt-=Ee,Ie=se):Ie==se.parentNode&&pt>=ve(se)&&pt++,Ee=0),A.setStartAndEnd(se,Ee,Ie,pt)}function rt(A){Nt(A);var z=A.commonAncestorContainer.parentNode.cloneNode(!1);return z.appendChild(A.cloneContents()),z.innerHTML}var Ea=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Ca=0,Di=1,Nu=2,Ko=3,ki=0,zs=1,Fs=2,Sa=3;de.extend(L.rangePrototype,{compareBoundaryPoints:function(A,z){Nt(this),Pr(this.startContainer,z.startContainer);var se,Ee,Ie,pt,ge=A==Ko||A==Ca?"start":"end",$e=A==Di||A==Ca?"start":"end";return se=this[ge+"Container"],Ee=this[ge+"Offset"],Ie=z[$e+"Container"],pt=z[$e+"Offset"],Ne(se,Ee,Ie,pt)},insertNode:function(A){if(Nt(this),It(A,on),Yn(this.startContainer),oe(A,this.startContainer))throw new ue("HIERARCHY_REQUEST_ERR");var z=H(A,this.startContainer,this.startOffset);this.setStartBefore(z)},cloneContents:function(){Nt(this);var A,z;if(this.collapsed)return ae(this).createDocumentFragment();if(this.startContainer===this.endContainer&&Le(this.startContainer))return A=this.startContainer.cloneNode(!0),A.data=A.data.slice(this.startOffset,this.endOffset),z=ae(this).createDocumentFragment(),z.appendChild(A),z;var se=new Tt(this,!0);return A=We(se),se.detach(),A},canSurroundContents:function(){Nt(this),Yn(this.startContainer),Yn(this.endContainer);var A=new Tt(this,!0),z=A._first&&le(A._first,this)||A._last&&le(A._last,this);return A.detach(),!z},surroundContents:function(A){if(It(A,an),!this.canSurroundContents())throw new ue("INVALID_STATE_ERR");var z=this.extractContents();if(A.hasChildNodes())for(;A.lastChild;)A.removeChild(A.lastChild);H(A,this.startContainer,this.startOffset),A.appendChild(z),this.selectNode(A)},cloneRange:function(){Nt(this);for(var A=new Zt(ae(this)),z=Ea.length,se;z--;)se=Ea[z],A[se]=this[se];return A},toString:function(){Nt(this);var A=this.startContainer;if(A===this.endContainer&&Le(A))return A.nodeType==3||A.nodeType==4?A.data.slice(this.startOffset,this.endOffset):"";var z=[],se=new Tt(this,!0);return Ve(se,function(Ee){(Ee.nodeType==3||Ee.nodeType==4)&&z.push(Ee.data)}),se.detach(),z.join("")},compareNode:function(A){Nt(this);var z=A.parentNode,se=ve(A);if(!z)throw new ue("NOT_FOUND_ERR");var Ee=this.comparePoint(z,se),Ie=this.comparePoint(z,se+1);return Ee<0?Ie>0?Fs:ki:Ie>0?zs:Sa},comparePoint:function(A,z){return Nt(this),Sn(A,"HIERARCHY_REQUEST_ERR"),Pr(A,this.startContainer),Ne(A,z,this.startContainer,this.startOffset)<0?-1:Ne(A,z,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Vs,toHtml:function(){return rt(this)},intersectsNode:function(A,z){if(Nt(this),B(A)!=he(this))return!1;var se=A.parentNode,Ee=ve(A);if(!se)return!0;var Ie=Ne(se,Ee,this.endContainer,this.endOffset),pt=Ne(se,Ee+1,this.startContainer,this.startOffset);return z?Ie<=0&&pt>=0:Ie<0&&pt>0},isPointInRange:function(A,z){return Nt(this),Sn(A,"HIERARCHY_REQUEST_ERR"),Pr(A,this.startContainer),Ne(A,z,this.startContainer,this.startOffset)>=0&&Ne(A,z,this.endContainer,this.endOffset)<=0},intersectsRange:function(A){return me(this,A,!1)},intersectsOrTouchesRange:function(A){return me(this,A,!0)},intersection:function(A){if(this.intersectsRange(A)){var z=Ne(this.startContainer,this.startOffset,A.startContainer,A.startOffset),se=Ne(this.endContainer,this.endOffset,A.endContainer,A.endOffset),Ee=this.cloneRange();return z==-1&&Ee.setStart(A.startContainer,A.startOffset),se==1&&Ee.setEnd(A.endContainer,A.endOffset),Ee}return null},union:function(A){if(this.intersectsOrTouchesRange(A)){var z=this.cloneRange();return Ne(A.startContainer,A.startOffset,this.startContainer,this.startOffset)==-1&&z.setStart(A.startContainer,A.startOffset),Ne(A.endContainer,A.endOffset,this.endContainer,this.endOffset)==1&&z.setEnd(A.endContainer,A.endOffset),z}else throw new ue("Ranges do not intersect")},containsNode:function(A,z){return z?this.intersectsNode(A,!1):this.compareNode(A)==Sa},containsNodeContents:function(A){return this.comparePoint(A,0)>=0&&this.comparePoint(A,M(A))<=0},containsRange:function(A){var z=this.intersection(A);return z!==null&&A.equals(z)},containsNodeText:function(A){var z=this.cloneRange();z.selectNode(A);var se=z.getNodes([3]);if(se.length>0){z.setStart(se[0],0);var Ee=se.pop();return z.setEnd(Ee,Ee.length),this.containsRange(z)}else return this.containsNodeContents(A)},getNodes:function(A,z){return Nt(this),Be(this,A,z)},getDocument:function(){return ae(this)},collapseBefore:function(A){this.setEndBefore(A),this.collapse(!1)},collapseAfter:function(A){this.setStartAfter(A),this.collapse(!0)},getBookmark:function(A){var z=ae(this),se=L.createRange(z);A=A||q.getBody(z),se.selectNodeContents(A);var Ee=this.intersection(se),Ie=0,pt=0;return Ee&&(se.setEnd(Ee.startContainer,Ee.startOffset),Ie=se.toString().length,pt=Ie+Ee.toString().length),{start:Ie,end:pt,containerNode:A}},moveToBookmark:function(A){var z=A.containerNode,se=0;this.setStart(z,0),this.collapse(!0);for(var Ee=[z],Ie,pt=!1,ge=!1,$e,Ge,lt;!ge&&(Ie=Ee.pop());)if(Ie.nodeType==3)$e=se+Ie.length,!pt&&A.start>=se&&A.start<=$e&&(this.setStart(Ie,A.start-se),pt=!0),pt&&A.end>=se&&A.end<=$e&&(this.setEnd(Ie,A.end-se),ge=!0),se=$e;else for(lt=Ie.childNodes,Ge=lt.length;Ge--;)Ee.push(lt[Ge])},getName:function(){return"DomRange"},equals:function(A){return Zt.rangesEqual(this,A)},isValid:function(){return Pi(this)},inspect:function(){return mt(this)},detach:function(){}});function O(A){A.START_TO_START=Ca,A.START_TO_END=Di,A.END_TO_END=Nu,A.END_TO_START=Ko,A.NODE_BEFORE=ki,A.NODE_AFTER=zs,A.NODE_BEFORE_AND_AFTER=Fs,A.NODE_INSIDE=Sa}function F(A){O(A),O(A.prototype)}function ce(A,z){return function(){Nt(this);var se=this.startContainer,Ee=this.startOffset,Ie=this.commonAncestorContainer,pt=new Tt(this,!0),ge,$e;se!==Ie&&(ge=st(se,Ie,!0),$e=V(ge),se=$e.node,Ee=$e.offset),Ve(pt,Yn),pt.reset();var Ge=A(pt);return pt.detach(),z(this,se,Ee,se,Ee),Ge}}function Me(A,z){function se(ge,$e){return function(Ge){It(Ge,qt),It(B(Ge),Un);var lt=(ge?G:V)(Ge);($e?Ee:Ie)(this,lt.node,lt.offset)}}function Ee(ge,$e,Ge){var lt=ge.endContainer,Nn=ge.endOffset;($e!==ge.startContainer||Ge!==ge.startOffset)&&((B($e)!=B(lt)||Ne($e,Ge,lt,Nn)==1)&&(lt=$e,Nn=Ge),z(ge,$e,Ge,lt,Nn))}function Ie(ge,$e,Ge){var lt=ge.startContainer,Nn=ge.startOffset;($e!==ge.endContainer||Ge!==ge.endOffset)&&((B($e)!=B(lt)||Ne($e,Ge,lt,Nn)==-1)&&(lt=$e,Nn=Ge),z(ge,lt,Nn,$e,Ge))}var pt=function(){};pt.prototype=L.rangePrototype,A.prototype=new pt,de.extend(A.prototype,{setStart:function(ge,$e){ze(ge,!0),Ct(ge,$e),Ee(this,ge,$e)},setEnd:function(ge,$e){ze(ge,!0),Ct(ge,$e),Ie(this,ge,$e)},setStartAndEnd:function(){var ge=arguments,$e=ge[0],Ge=ge[1],lt=$e,Nn=Ge;switch(ge.length){case 3:Nn=ge[2];break;case 4:lt=ge[2],Nn=ge[3];break}ze($e,!0),Ct($e,Ge),ze(lt,!0),Ct(lt,Nn),z(this,$e,Ge,lt,Nn)},setBoundary:function(ge,$e,Ge){this["set"+(Ge?"Start":"End")](ge,$e)},setStartBefore:se(!0,!0),setStartAfter:se(!1,!0),setEndBefore:se(!0,!1),setEndAfter:se(!1,!1),collapse:function(ge){Nt(this),ge?z(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):z(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(ge){ze(ge,!0),z(this,ge,0,ge,M(ge))},selectNode:function(ge){ze(ge,!1),It(ge,qt);var $e=G(ge),Ge=V(ge);z(this,$e.node,$e.offset,Ge.node,Ge.offset)},extractContents:ce(Ae,z),deleteContents:ce(Ht,z),canSurroundContents:function(){Nt(this),Yn(this.startContainer),Yn(this.endContainer);var ge=new Tt(this,!0),$e=ge._first&&le(ge._first,this)||ge._last&&le(ge._last,this);return ge.detach(),!$e},splitBoundaries:function(){xa(this)},splitBoundariesPreservingPositions:function(ge){xa(this,ge)},normalizeBoundaries:function(){Nt(this);var ge=this.startContainer,$e=this.startOffset,Ge=this.endContainer,lt=this.endOffset,Nn=function(jn){var io=jn.nextSibling;io&&io.nodeType==jn.nodeType&&(Ge=jn,lt=jn.length,jn.appendData(io.data),j(io))},$m=function(jn){var io=jn.previousSibling;if(io&&io.nodeType==jn.nodeType){ge=jn;var s2=jn.length;if($e=io.length,jn.insertData(0,io.data),j(io),ge==Ge)lt+=$e,Ge=ge;else if(Ge==jn.parentNode){var Bm=ve(jn);lt==Bm?(Ge=jn,lt=s2):lt>Bm&&lt--}}},If=!0,lr;if(Le(Ge))lt==Ge.length?Nn(Ge):lt==0&&(lr=Ge.previousSibling,lr&&lr.nodeType==Ge.nodeType&&(lt=lr.length,ge==Ge&&(If=!1),lr.appendData(Ge.data),j(Ge),Ge=lr));else{if(lt>0){var jf=Ge.childNodes[lt-1];jf&&Le(jf)&&Nn(jf)}If=!this.collapsed}if(If){if(Le(ge))$e==0?$m(ge):$e==ge.length&&(lr=ge.nextSibling,lr&&lr.nodeType==ge.nodeType&&(Ge==lr&&(Ge=ge,lt+=ge.length),ge.appendData(lr.data),j(lr)));else if($e<ge.childNodes.length){var Vf=ge.childNodes[$e];Vf&&Le(Vf)&&$m(Vf)}}else ge=Ge,$e=lt;z(this,ge,$e,Ge,lt)},collapseToPoint:function(ge,$e){ze(ge,!0),Ct(ge,$e),this.setStartAndEnd(ge,$e)},parentElement:function(){Nt(this);var ge=this.commonAncestorContainer;return ge?et(this.commonAncestorContainer,!0):null}}),F(A)}function Ke(A){A.collapsed=A.startContainer===A.endContainer&&A.startOffset===A.endOffset,A.commonAncestorContainer=A.collapsed?A.startContainer:q.getCommonAncestor(A.startContainer,A.endContainer)}function yt(A,z,se,Ee,Ie){A.startContainer=z,A.startOffset=se,A.endContainer=Ee,A.endOffset=Ie,A.document=q.getDocument(z),Ke(A)}function Zt(A){yt(this,A,0,A,0)}Me(Zt,yt),de.extend(Zt,{rangeProperties:Ea,RangeIterator:Tt,copyComparisonConstants:F,createPrototypeRange:Me,inspect:mt,toHtml:rt,getRangeDocument:ae,rangesEqual:function(A,z){return A.startContainer===z.startContainer&&A.startOffset===z.startOffset&&A.endContainer===z.endContainer&&A.endOffset===z.endOffset}}),L.DomRange=Zt}),b.createCoreModule("WrappedRange",["DomRange"],function(L,J){var q,de,pe=L.dom,ue=L.util,Le=pe.DomPosition,ve=L.DomRange,oe=pe.getBody,xe=pe.getContentDocument,Ne=pe.isCharacterDataNode;if(L.features.implementsDomRange&&function(){var j,le=ve.rangeProperties;function ae(Ae){for(var Be=le.length,mt;Be--;)mt=le[Be],Ae[mt]=Ae.nativeRange[mt];Ae.collapsed=Ae.startContainer===Ae.endContainer&&Ae.startOffset===Ae.endOffset}function he(Ae,Be,mt,Tt,qt){var Un=Ae.startContainer!==Be||Ae.startOffset!=mt,Cn=Ae.endContainer!==Tt||Ae.endOffset!=qt,on=!Ae.equals(Ae.nativeRange);(Un||Cn||on)&&(Ae.setEnd(Tt,qt),Ae.setStart(Be,mt))}var G;q=function(Ae){if(!Ae)throw J.createError("WrappedRange: Range must be specified");this.nativeRange=Ae,ae(this)},ve.createPrototypeRange(q,he),j=q.prototype,j.selectNode=function(Ae){this.nativeRange.selectNode(Ae),ae(this)},j.cloneContents=function(){return this.nativeRange.cloneContents()},j.surroundContents=function(Ae){this.nativeRange.surroundContents(Ae),ae(this)},j.collapse=function(Ae){this.nativeRange.collapse(Ae),ae(this)},j.cloneRange=function(){return new q(this.nativeRange.cloneRange())},j.refresh=function(){ae(this)},j.toString=function(){return this.nativeRange.toString()};var V=document.createTextNode("test");oe(document).appendChild(V);var H=document.createRange();H.setStart(V,0),H.setEnd(V,0);try{H.setStart(V,1),j.setStart=function(Ae,Be){this.nativeRange.setStart(Ae,Be),ae(this)},j.setEnd=function(Ae,Be){this.nativeRange.setEnd(Ae,Be),ae(this)},G=function(Ae){return function(Be){this.nativeRange[Ae](Be),ae(this)}}}catch{j.setStart=function(Be,mt){try{this.nativeRange.setStart(Be,mt)}catch{this.nativeRange.setEnd(Be,mt),this.nativeRange.setStart(Be,mt)}ae(this)},j.setEnd=function(Be,mt){try{this.nativeRange.setEnd(Be,mt)}catch{this.nativeRange.setStart(Be,mt),this.nativeRange.setEnd(Be,mt)}ae(this)},G=function(Be,mt){return function(Tt){try{this.nativeRange[Be](Tt)}catch{this.nativeRange[mt](Tt),this.nativeRange[Be](Tt)}ae(this)}}}j.setStartBefore=G("setStartBefore","setEndBefore"),j.setStartAfter=G("setStartAfter","setEndAfter"),j.setEndBefore=G("setEndBefore","setStartBefore"),j.setEndAfter=G("setEndAfter","setStartAfter"),j.selectNodeContents=function(Ae){this.setStartAndEnd(Ae,0,pe.getNodeLength(Ae))},H.selectNodeContents(V),H.setEnd(V,3);var me=document.createRange();me.selectNodeContents(V),me.setEnd(V,4),me.setStart(V,2),H.compareBoundaryPoints(H.START_TO_END,me)==-1&&H.compareBoundaryPoints(H.END_TO_START,me)==1?j.compareBoundaryPoints=function(Ae,Be){return Be=Be.nativeRange||Be,Ae==Be.START_TO_END?Ae=Be.END_TO_START:Ae==Be.END_TO_START&&(Ae=Be.START_TO_END),this.nativeRange.compareBoundaryPoints(Ae,Be)}:j.compareBoundaryPoints=function(Ae,Be){return this.nativeRange.compareBoundaryPoints(Ae,Be.nativeRange||Be)};var We=document.createElement("div");We.innerHTML="123";var Ve=We.firstChild,Ht=oe(document);Ht.appendChild(We),H.setStart(Ve,1),H.setEnd(Ve,2),H.deleteContents(),Ve.data=="13"&&(j.deleteContents=function(){this.nativeRange.deleteContents(),ae(this)},j.extractContents=function(){var Ae=this.nativeRange.extractContents();return ae(this),Ae}),Ht.removeChild(We),Ht=null,ue.isHostMethod(H,"createContextualFragment")&&(j.createContextualFragment=function(Ae){return this.nativeRange.createContextualFragment(Ae)}),oe(document).removeChild(V),j.getName=function(){return"WrappedRange"},L.WrappedRange=q,L.createNativeRange=function(Ae){return Ae=xe(Ae,J,"createNativeRange"),Ae.createRange()}}(),L.features.implementsTextRange){var dt=function(j){var le=j.parentElement(),ae=j.duplicate();ae.collapse(!0);var he=ae.parentElement();ae=j.duplicate(),ae.collapse(!1);var G=ae.parentElement(),V=he==G?he:pe.getCommonAncestor(he,G);return V==le?V:pe.getCommonAncestor(le,V)},st=function(j){return j.compareEndPoints("StartToEnd",j)==0},M=function(j,le,ae,he,G){var V=j.duplicate();V.collapse(ae);var H=V.parentElement();if(pe.isOrIsAncestorOf(le,H)||(H=le),!H.canHaveHTML){var me=new Le(H.parentNode,pe.getNodeIndex(H));return{boundaryPosition:me,nodeInfo:{nodeIndex:me.offset,containerElement:me.node}}}var We=pe.getDocument(H).createElement("span");We.parentNode&&pe.removeNode(We);for(var Ve,Ht=ae?"StartToStart":"StartToEnd",Ae,Be,mt,Tt,qt=G&&G.containerElement==H?G.nodeIndex:0,Un=H.childNodes.length,Cn=Un,on=Cn;on==Un?H.appendChild(We):H.insertBefore(We,H.childNodes[on]),V.moveToElementText(We),Ve=V.compareEndPoints(Ht,j),!(Ve==0||qt==Cn);){if(Ve==-1){if(Cn==qt+1)break;qt=on}else Cn=Cn==qt+1?qt:on;on=Math.floor((qt+Cn)/2),H.removeChild(We)}if(Tt=We.nextSibling,Ve==-1&&Tt&&Ne(Tt)){V.setEndPoint(ae?"EndToStart":"EndToEnd",j);var an;if(/[\r\n]/.test(Tt.data)){var mn=V.duplicate(),In=mn.text.replace(/\r\n/g,"\r").length;for(an=mn.moveStart("character",In);(Ve=mn.compareEndPoints("StartToEnd",mn))==-1;)an++,mn.moveStart("character",1)}else an=V.text.length;mt=new Le(Tt,an)}else Ae=(he||!ae)&&We.previousSibling,Be=(he||ae)&&We.nextSibling,Be&&Ne(Be)?mt=new Le(Be,0):Ae&&Ne(Ae)?mt=new Le(Ae,Ae.data.length):mt=new Le(H,pe.getNodeIndex(We));return pe.removeNode(We),{boundaryPosition:mt,nodeInfo:{nodeIndex:on,containerElement:H}}},D=function(j,le){var ae,he,G=j.offset,V=pe.getDocument(j.node),H,me,We=oe(V).createTextRange(),Ve=Ne(j.node);return Ve?(ae=j.node,he=ae.parentNode):(me=j.node.childNodes,ae=G<me.length?me[G]:null,he=j.node),H=V.createElement("span"),H.innerHTML="&#feff;",ae?he.insertBefore(H,ae):he.appendChild(H),We.moveToElementText(H),We.collapse(!le),he.removeChild(H),Ve&&We[le?"moveStart":"moveEnd"]("character",G),We};de=function(j){this.textRange=j,this.refresh()},de.prototype=new ve(document),de.prototype.refresh=function(){var j,le,ae,he=dt(this.textRange);st(this.textRange)?le=j=M(this.textRange,he,!0,!0).boundaryPosition:(ae=M(this.textRange,he,!0,!1),j=ae.boundaryPosition,le=M(this.textRange,he,!1,!1,ae.nodeInfo).boundaryPosition),this.setStart(j.node,j.offset),this.setEnd(le.node,le.offset)},de.prototype.getName=function(){return"WrappedTextRange"},ve.copyComparisonConstants(de);var B=function(j){if(j.collapsed)return D(new Le(j.startContainer,j.startOffset),!0);var le=D(new Le(j.startContainer,j.startOffset),!0),ae=D(new Le(j.endContainer,j.endOffset),!1),he=oe(ve.getRangeDocument(j)).createTextRange();return he.setEndPoint("StartToStart",le),he.setEndPoint("EndToEnd",ae),he};if(de.rangeToTextRange=B,de.prototype.toTextRange=function(){return B(this)},L.WrappedTextRange=de,!L.features.implementsDomRange||L.config.preferTextRange){var re=function(j){return j("return this;")()}(Function);typeof re.Range>"u"&&(re.Range=de),L.createNativeRange=function(j){return j=xe(j,J,"createNativeRange"),oe(j).createTextRange()},L.WrappedRange=de}}L.createRange=function(j){return j=xe(j,J,"createRange"),new L.WrappedRange(L.createNativeRange(j))},L.createRangyRange=function(j){return j=xe(j,J,"createRangyRange"),new ve(j)},ue.createAliasForDeprecatedMethod(L,"createIframeRange","createRange"),ue.createAliasForDeprecatedMethod(L,"createIframeRangyRange","createRangyRange"),L.addShimListener(function(j){var le=j.document;typeof le.createRange>"u"&&(le.createRange=function(){return L.createRange(le)}),le=j=null})}),b.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(L,J){L.config.checkSelectionRanges=!0;var q="boolean",de="number",pe=L.dom,ue=L.util,Le=ue.isHostMethod,ve=L.DomRange,oe=L.WrappedRange,xe=L.DOMException,Ne=pe.DomPosition,dt,st,M=L.features,D="Control",B=pe.getDocument,re=pe.getBody,j=ve.rangesEqual;function le(O){return typeof O=="string"?/^backward(s)?$/i.test(O):!!O}function ae(O,F){if(O){if(pe.isWindow(O))return O;if(O instanceof Nt)return O.win;var ce=pe.getContentDocument(O,J,F);return pe.getWindow(ce)}else return window}function he(O){return ae(O,"getWinSelection").getSelection()}function G(O){return ae(O,"getDocSelection").document.selection}function V(O){var F=!1;return O.anchorNode&&(F=pe.comparePoints(O.anchorNode,O.anchorOffset,O.focusNode,O.focusOffset)==1),F}var H=Le(window,"getSelection"),me=ue.isHostObject(document,"selection");M.implementsWinGetSelection=H,M.implementsDocSelection=me;var We=me&&(!H||L.config.preferTextRange);if(We)dt=G,L.isSelectionValid=function(O){var F=ae(O,"isSelectionValid").document,ce=F.selection;return ce.type!="None"||B(ce.createRange().parentElement())==F};else if(H)dt=he,L.isSelectionValid=function(){return!0};else return J.fail("Neither document.selection or window.getSelection() detected."),!1;L.getNativeSelection=dt;var Ve=dt();if(!Ve)return J.fail("Native selection was null (possibly issue 138?)"),!1;var Ht=L.createNativeRange(document),Ae=re(document),Be=ue.areHostProperties(Ve,["anchorNode","focusNode","anchorOffset","focusOffset"]);M.selectionHasAnchorAndFocus=Be;var mt=Le(Ve,"extend");M.selectionHasExtend=mt;var Tt=Le(Ve,"setBaseAndExtent");M.selectionHasSetBaseAndExtent=Tt;var qt=typeof Ve.rangeCount==de;M.selectionHasRangeCount=qt;var Un=!1,Cn=!0,on=mt?function(O,F){var ce=ve.getRangeDocument(F),Me=L.createRange(ce);Me.collapseToPoint(F.endContainer,F.endOffset),O.addRange(ze(Me)),O.extend(F.startContainer,F.startOffset)}:null;ue.areHostMethods(Ve,["addRange","getRangeAt","removeAllRanges"])&&typeof Ve.rangeCount==de&&M.implementsDomRange&&function(){var O=window.getSelection();if(O){for(var F=O.rangeCount,ce=F>1,Me=[],Ke=V(O),yt=0;yt<F;++yt)Me[yt]=O.getRangeAt(yt);var Zt=pe.createTestElement(document,"",!1),A=Zt.appendChild(document.createTextNode("   ")),z=document.createRange();if(z.setStart(A,1),z.collapse(!0),O.removeAllRanges(),O.addRange(z),Cn=O.rangeCount==1,O.removeAllRanges(),!ce){var se=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(se&&parseInt(se[1])>=36)Un=!1;else{var Ee=z.cloneRange();z.setStart(A,0),Ee.setEnd(A,3),Ee.setStart(A,2),O.addRange(z),O.addRange(Ee),Un=O.rangeCount==2}}for(pe.removeNode(Zt),O.removeAllRanges(),yt=0;yt<F;++yt)yt==0&&Ke?on?on(O,Me[yt]):(L.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),O.addRange(Me[yt])):O.addRange(Me[yt])}}(),M.selectionSupportsMultipleRanges=Un,M.collapsedNonEditableSelectionsSupported=Cn;var an=!1,mn;Ae&&Le(Ae,"createControlRange")&&(mn=Ae.createControlRange(),ue.areHostProperties(mn,["item","add"])&&(an=!0)),M.implementsControlRange=an,Be?st=function(O){return O.anchorNode===O.focusNode&&O.anchorOffset===O.focusOffset}:st=function(O){return O.rangeCount?O.getRangeAt(O.rangeCount-1).collapsed:!1};function In(O,F,ce){var Me=ce?"end":"start",Ke=ce?"start":"end";O.anchorNode=F[Me+"Container"],O.anchorOffset=F[Me+"Offset"],O.focusNode=F[Ke+"Container"],O.focusOffset=F[Ke+"Offset"]}function Q(O){var F=O.nativeSelection;O.anchorNode=F.anchorNode,O.anchorOffset=F.anchorOffset,O.focusNode=F.focusNode,O.focusOffset=F.focusOffset}function Ce(O){O.anchorNode=O.focusNode=null,O.anchorOffset=O.focusOffset=0,O.rangeCount=0,O.isCollapsed=!0,O._ranges.length=0,et(O)}function et(O){O.type=O.rangeCount==0?"None":st(O)?"Caret":"Range"}function ze(O){var F;return O instanceof ve?(F=L.createNativeRange(O.getDocument()),F.setEnd(O.endContainer,O.endOffset),F.setStart(O.startContainer,O.startOffset)):O instanceof oe?F=O.nativeRange:M.implementsDomRange&&O instanceof pe.getWindow(O.startContainer).Range&&(F=O),F}function It(O){if(!O.length||O[0].nodeType!=1)return!1;for(var F=1,ce=O.length;F<ce;++F)if(!pe.isAncestorOf(O[0],O[F]))return!1;return!0}function Ct(O){var F=O.getNodes();if(!It(F))throw J.createError("getSingleElementFromRange: range "+O.inspect()+" did not consist of a single element");return F[0]}function Pr(O){return!!O&&typeof O.text<"u"}function Yn(O,F){var ce=new oe(F);O._ranges=[ce],In(O,ce,!1),O.rangeCount=1,O.isCollapsed=ce.collapsed,et(O)}function Sn(O){if(O._ranges.length=0,O.docSelection.type=="None")Ce(O);else{var F=O.docSelection.createRange();if(Pr(F))Yn(O,F);else{O.rangeCount=F.length;for(var ce,Me=B(F.item(0)),Ke=0;Ke<O.rangeCount;++Ke)ce=L.createRange(Me),ce.selectNode(F.item(Ke)),O._ranges.push(ce);O.isCollapsed=O.rangeCount==1&&O._ranges[0].collapsed,In(O,O._ranges[O.rangeCount-1],!1),et(O)}}}function Is(O,F){for(var ce=O.docSelection.createRange(),Me=Ct(F),Ke=B(ce.item(0)),yt=re(Ke).createControlRange(),Zt=0,A=ce.length;Zt<A;++Zt)yt.add(ce.item(Zt));try{yt.add(Me)}catch{throw J.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}yt.select(),Sn(O)}var Pi;Le(Ve,"getRangeAt")?Pi=function(O,F){try{return O.getRangeAt(F)}catch{return null}}:Be&&(Pi=function(O){var F=B(O.anchorNode),ce=L.createRange(F);return ce.setStartAndEnd(O.anchorNode,O.anchorOffset,O.focusNode,O.focusOffset),ce.collapsed!==this.isCollapsed&&ce.setStartAndEnd(O.focusNode,O.focusOffset,O.anchorNode,O.anchorOffset),ce});function Nt(O,F,ce){this.nativeSelection=O,this.docSelection=F,this._ranges=[],this.win=ce,this.refresh()}Nt.prototype=L.selectionPrototype;function js(O){O.win=O.anchorNode=O.focusNode=O._ranges=null,O.rangeCount=O.anchorOffset=O.focusOffset=0,O.detached=!0,et(O)}var To=[];function Vs(O,F){for(var ce=To.length,Me,Ke;ce--;)if(Me=To[ce],Ke=Me.selection,F=="deleteAll")js(Ke);else if(Me.win==O)return F=="delete"?(To.splice(ce,1),!0):Ke;return F=="deleteAll"&&(To.length=0),null}var xa=function(O){if(O&&O instanceof Nt)return O.refresh(),O;O=ae(O,"getNativeSelection");var F=Vs(O),ce=dt(O),Me=me?G(O):null;return F?(F.nativeSelection=ce,F.docSelection=Me,F.refresh()):(F=new Nt(ce,Me,O),To.push({win:O,selection:F})),F};L.getSelection=xa,ue.createAliasForDeprecatedMethod(L,"getIframeSelection","getSelection");var rt=Nt.prototype;function Ea(O,F){for(var ce=B(F[0].startContainer),Me=re(ce).createControlRange(),Ke=0,yt,Zt=F.length;Ke<Zt;++Ke){yt=Ct(F[Ke]);try{Me.add(yt)}catch{throw J.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}Me.select(),Sn(O)}if(!We&&Be&&ue.areHostMethods(Ve,["removeAllRanges","addRange"])){rt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),Ce(this)};var Ca=function(O,F){on(O.nativeSelection,F),O.refresh()};qt?rt.addRange=function(O,F){if(an&&me&&this.docSelection.type==D)Is(this,O);else if(le(F)&&mt)Ca(this,O);else{var ce;Un?ce=this.rangeCount:(this.removeAllRanges(),ce=0);var Me=ze(O).cloneRange();try{this.nativeSelection.addRange(Me)}catch{}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==ce+1){if(L.config.checkSelectionRanges){var Ke=Pi(this.nativeSelection,this.rangeCount-1);Ke&&!j(Ke,O)&&(O=new oe(Ke))}this._ranges[this.rangeCount-1]=O,In(this,O,Ko(this.nativeSelection)),this.isCollapsed=st(this),et(this)}else this.refresh()}}:rt.addRange=function(O,F){le(F)&&mt?Ca(this,O):(this.nativeSelection.addRange(ze(O)),this.refresh())},rt.setRanges=function(O){if(an&&me&&O.length>1)Ea(this,O);else{this.removeAllRanges();for(var F=0,ce=O.length;F<ce;++F)this.addRange(O[F])}}}else if(Le(Ve,"empty")&&Le(Ht,"select")&&an&&We)rt.removeAllRanges=function(){try{if(this.docSelection.empty(),this.docSelection.type!="None"){var O;if(this.anchorNode)O=B(this.anchorNode);else if(this.docSelection.type==D){var F=this.docSelection.createRange();F.length&&(O=B(F.item(0)))}if(O){var ce=re(O).createTextRange();ce.select(),this.docSelection.empty()}}}catch{}Ce(this)},rt.addRange=function(O){this.docSelection.type==D?Is(this,O):(L.WrappedTextRange.rangeToTextRange(O).select(),this._ranges[0]=O,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,In(this,O,!1),et(this))},rt.setRanges=function(O){this.removeAllRanges();var F=O.length;F>1?Ea(this,O):F&&this.addRange(O[0])};else return J.fail("No means of selecting a Range or TextRange was found"),!1;rt.getRangeAt=function(O){if(O<0||O>=this.rangeCount)throw new xe("INDEX_SIZE_ERR");return this._ranges[O].cloneRange()};var Di;if(We)Di=function(O){var F;L.isSelectionValid(O.win)?F=O.docSelection.createRange():(F=re(O.win.document).createTextRange(),F.collapse(!0)),O.docSelection.type==D?Sn(O):Pr(F)?Yn(O,F):Ce(O)};else if(Le(Ve,"getRangeAt")&&typeof Ve.rangeCount==de)Di=function(O){if(an&&me&&O.docSelection.type==D)Sn(O);else if(O._ranges.length=O.rangeCount=O.nativeSelection.rangeCount,O.rangeCount){for(var F=0,ce=O.rangeCount;F<ce;++F)O._ranges[F]=new L.WrappedRange(O.nativeSelection.getRangeAt(F));In(O,O._ranges[O.rangeCount-1],Ko(O.nativeSelection)),O.isCollapsed=st(O),et(O)}else Ce(O)};else if(Be&&typeof Ve.isCollapsed==q&&typeof Ht.collapsed==q&&M.implementsDomRange)Di=function(O){var F,ce=O.nativeSelection;ce.anchorNode?(F=Pi(ce,0),O._ranges=[F],O.rangeCount=1,Q(O),O.isCollapsed=st(O),et(O)):Ce(O)};else return J.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;rt.refresh=function(O){var F=O?this._ranges.slice(0):null,ce=this.anchorNode,Me=this.anchorOffset;if(Di(this),O){var Ke=F.length;if(Ke!=this._ranges.length||this.anchorNode!=ce||this.anchorOffset!=Me)return!0;for(;Ke--;)if(!j(F[Ke],this._ranges[Ke]))return!0;return!1}};var Nu=function(O,F){var ce=O.getAllRanges();O.removeAllRanges();for(var Me=0,Ke=ce.length;Me<Ke;++Me)j(F,ce[Me])||O.addRange(ce[Me]);O.rangeCount||Ce(O)};an&&me?rt.removeRange=function(O){if(this.docSelection.type==D){for(var F=this.docSelection.createRange(),ce=Ct(O),Me=B(F.item(0)),Ke=re(Me).createControlRange(),yt,Zt=!1,A=0,z=F.length;A<z;++A)yt=F.item(A),yt!==ce||Zt?Ke.add(F.item(A)):Zt=!0;Ke.select(),Sn(this)}else Nu(this,O)}:rt.removeRange=function(O){Nu(this,O)};var Ko;!We&&Be&&M.implementsDomRange?(Ko=V,rt.isBackward=function(){return Ko(this)}):Ko=rt.isBackward=function(){return!1},rt.isBackwards=rt.isBackward,rt.toString=function(){for(var O=[],F=0,ce=this.rangeCount;F<ce;++F)O[F]=""+this._ranges[F];return O.join("")};function ki(O,F){if(O.win.document!=B(F))throw new xe("WRONG_DOCUMENT_ERR")}function zs(O,F){if(F<0||F>(pe.isCharacterDataNode(O)?O.length:O.childNodes.length))throw new xe("INDEX_SIZE_ERR")}rt.collapse=function(O,F){ki(this,O);var ce=L.createRange(O);ce.collapseToPoint(O,F),this.setSingleRange(ce),this.isCollapsed=!0},rt.collapseToStart=function(){if(this.rangeCount){var O=this._ranges[0];this.collapse(O.startContainer,O.startOffset)}else throw new xe("INVALID_STATE_ERR")},rt.collapseToEnd=function(){if(this.rangeCount){var O=this._ranges[this.rangeCount-1];this.collapse(O.endContainer,O.endOffset)}else throw new xe("INVALID_STATE_ERR")},rt.selectAllChildren=function(O){ki(this,O);var F=L.createRange(O);F.selectNodeContents(O),this.setSingleRange(F)},Tt?rt.setBaseAndExtent=function(O,F,ce,Me){this.nativeSelection.setBaseAndExtent(O,F,ce,Me),this.refresh()}:mt&&(rt.setBaseAndExtent=function(O,F,ce,Me){zs(O,F),zs(ce,Me),ki(this,O),ki(this,ce);var Ke=L.createRange(node),yt=pe.comparePoints(O,F,ce,Me)==-1;yt?Ke.setStartAndEnd(ce,Me,O,F):Ke.setStartAndEnd(O,F,ce,Me),this.setSingleRange(Ke,yt)}),rt.deleteFromDocument=function(){if(an&&me&&this.docSelection.type==D){for(var O=this.docSelection.createRange(),F;O.length;)F=O.item(0),O.remove(F),pe.removeNode(F);this.refresh()}else if(this.rangeCount){var ce=this.getAllRanges();if(ce.length){this.removeAllRanges();for(var Me=0,Ke=ce.length;Me<Ke;++Me)ce[Me].deleteContents();this.addRange(ce[Ke-1])}}},rt.eachRange=function(O,F){for(var ce=0,Me=this._ranges.length;ce<Me;++ce)if(O(this.getRangeAt(ce)))return F},rt.getAllRanges=function(){var O=[];return this.eachRange(function(F){O.push(F)}),O},rt.setSingleRange=function(O,F){this.removeAllRanges(),this.addRange(O,F)},rt.callMethodOnEachRange=function(O,F){var ce=[];return this.eachRange(function(Me){ce.push(Me[O].apply(Me,F||[]))}),ce};function Fs(O){return function(F,ce){var Me;this.rangeCount?(Me=this.getRangeAt(0),Me["set"+(O?"Start":"End")](F,ce)):(Me=L.createRange(this.win.document),Me.setStartAndEnd(F,ce)),this.setSingleRange(Me,this.isBackward())}}rt.setStart=Fs(!0),rt.setEnd=Fs(!1),L.rangePrototype.select=function(O){xa(this.getDocument()).setSingleRange(this,O)},rt.changeEachRange=function(O){var F=[],ce=this.isBackward();this.eachRange(function(Me){O(Me),F.push(Me)}),this.removeAllRanges(),ce&&F.length==1?this.addRange(F[0],"backward"):this.setRanges(F)},rt.containsNode=function(O,F){return this.eachRange(function(ce){return ce.containsNode(O,F)},!0)||!1},rt.getBookmark=function(O){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[O])}},rt.moveToBookmark=function(O){for(var F=[],ce=0,Me,Ke;Me=O.rangeBookmarks[ce++];)Ke=L.createRange(this.win),Ke.moveToBookmark(Me),F.push(Ke);O.backward?this.setSingleRange(F[0],"backward"):this.setRanges(F)},rt.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},rt.restoreRanges=function(O){this.removeAllRanges();for(var F=0,ce;ce=O.ranges[F];++F)this.addRange(ce,O.backward&&F==0)},rt.toHtml=function(){var O=[];return this.eachRange(function(F){O.push(ve.toHtml(F))}),O.join("")},M.implementsTextRange&&(rt.getNativeTextRange=function(){var O;if(O=this.docSelection){var F=O.createRange();if(Pr(F))return F;throw J.createError("getNativeTextRange: selection is a control selection")}else{if(this.rangeCount>0)return L.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw J.createError("getNativeTextRange: selection contains no range")}});function Sa(O){var F=[],ce=new Ne(O.anchorNode,O.anchorOffset),Me=new Ne(O.focusNode,O.focusOffset),Ke=typeof O.getName=="function"?O.getName():"Selection";if(typeof O.rangeCount<"u")for(var yt=0,Zt=O.rangeCount;yt<Zt;++yt)F[yt]=ve.inspect(O.getRangeAt(yt));return"["+Ke+"(Ranges: "+F.join(", ")+")(anchor: "+ce.inspect()+", focus: "+Me.inspect()+"]"}rt.getName=function(){return"WrappedSelection"},rt.inspect=function(){return Sa(this)},rt.detach=function(){Vs(this.win,"delete"),js(this)},Nt.detachAll=function(){Vs(null,"deleteAll")},Nt.inspect=Sa,Nt.isDirectionBackward=le,L.Selection=Nt,L.selectionPrototype=rt,L.addShimListener(function(O){typeof O.getSelection>"u"&&(O.getSelection=function(){return xa(O)}),O=null})});var _e=!1,Se=function(L){_e||(_e=!0,!b.initialized&&b.config.autoInitialize&&R())};return x&&(document.readyState=="complete"?Se():(c(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",Se,!1),te(window,"load",Se))),b})})(dS);var fS=dS.exports;const jb=Vd(fS);var xG={exports:{}};(function(e,t){(function(n,r){e.exports=n(fS)})(function(n){return n.createModule("ClassApplier",["WrappedSelection"],function(r,o){var i=r.dom,a=i.DomPosition,s=i.arrayContains,l=r.util,c=l.forEach,d="span",f=l.isHostMethod(document,"createElementNS");function h(M,D){for(var B in M)if(M.hasOwnProperty(B)&&D(B,M[B])===!1)return!1;return!0}function p(M){return M.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v(M,D){return!!M&&new RegExp("(?:^|\\s)"+D+"(?:\\s|$)").test(M)}function g(M,D){if(typeof M.classList=="object")return M.classList.contains(D);var B=typeof M.className=="string",re=B?M.className:M.getAttribute("class");return v(re,D)}function m(M,D){if(typeof M.classList=="object")M.classList.add(D);else{var B=typeof M.className=="string",re=B?M.className:M.getAttribute("class");re?v(re,D)||(re+=" "+D):re=D,B?M.className=re:M.setAttribute("class",re)}}var y=function(){function M(D,B,re){return B&&re?" ":""}return function(D,B){if(typeof D.classList=="object")D.classList.remove(B);else{var re=typeof D.className=="string",j=re?D.className:D.getAttribute("class");j=j.replace(new RegExp("(^|\\s)"+B+"(\\s|$)"),M),re?D.className=j:D.setAttribute("class",j)}}}();function _(M){var D=typeof M.className=="string";return D?M.className:M.getAttribute("class")}function C(M){return M&&M.split(/\s+/).sort().join(" ")}function x(M){return C(_(M))}function S(M,D){return x(M)==x(D)}function b(M,D){for(var B=D.split(/\s+/),re=0,j=B.length;re<j;++re)if(!g(M,p(B[re])))return!1;return!0}function w(M){var D=M.parentNode;return D&&D.nodeType==1&&!/^(textarea|style|script|select|iframe)$/i.test(D.nodeName)}function T(M,D,B,re,j){var le=M.node,ae=M.offset,he=le,G=ae;le==re&&ae>j&&++G,le==D&&(ae==B||ae==B+1)&&(he=re,G+=j-B),le==D&&ae>B+1&&--G,M.node=he,M.offset=G}function k(M,D,B){M.node==D&&M.offset>B&&--M.offset}function I(M,D,B,re){B==-1&&(B=D.childNodes.length);var j=M.parentNode,le=i.getNodeIndex(M);c(re,function(ae){T(ae,j,le,D,B)}),D.childNodes.length==B?D.appendChild(M):D.insertBefore(M,D.childNodes[B])}function X(M,D){var B=M.parentNode,re=i.getNodeIndex(M);c(D,function(j){k(j,B,re)}),i.removeNode(M)}function te(M,D,B,re,j){for(var le,ae=[];le=M.firstChild;)I(le,D,B++,j),ae.push(le);return X(M,j),ae}function E(M,D){return te(M,M.parentNode,i.getNodeIndex(M),!0,D)}function P(M,D){var B=M.cloneRange();B.selectNodeContents(D);var re=B.intersection(M),j=re?re.toString():"";return j!=""}function R(M){for(var D=M.getNodes([3]),B=0,re;(re=D[B])&&!P(M,re);)++B;for(var j=D.length-1;(re=D[j])&&!P(M,re);)--j;return D.slice(B,j+1)}function $(M,D){if(M.attributes.length!=D.attributes.length)return!1;for(var B=0,re=M.attributes.length,j,le,ae;B<re;++B)if(j=M.attributes[B],ae=j.name,ae!="class"&&(le=D.attributes.getNamedItem(ae),j===null!=(le===null)||j.specified!=le.specified||j.specified&&j.nodeValue!==le.nodeValue))return!1;return!0}function Y(M,D){for(var B=0,re=M.attributes.length,j;B<re;++B)if(j=M.attributes[B].name,!(D&&s(D,j))&&M.attributes[B].specified&&j!="class")return!0;return!1}var ie=i.getComputedStyleProperty,be=function(){var M=document.createElement("div");return typeof M.isContentEditable=="boolean"?function(D){return D&&D.nodeType==1&&D.isContentEditable}:function(D){return!D||D.nodeType!=1||D.contentEditable=="false"?!1:D.contentEditable=="true"||be(D.parentNode)}}();function ne(M){var D;return M&&M.nodeType==1&&((D=M.parentNode)&&D.nodeType==9&&D.designMode=="on"||be(M)&&!be(M.parentNode))}function W(M){return(be(M)||M.nodeType!=1&&be(M.parentNode))&&!ne(M)}var fe=/^inline(-block|-table)?$/i;function ye(M){return M&&M.nodeType==1&&!fe.test(ie(M,"display"))}var _e=/[^\r\n\t\f \u200B]/;function Se(M){if(M.data.length==0)return!0;if(_e.test(M.data))return!1;var D=ie(M.parentNode,"whiteSpace");switch(D){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(M.data))return!1}return ye(M.previousSibling)||ye(M.nextSibling)}function L(M){var D=[],B,re;for(B=0;re=M[B++];)D.push(new a(re.startContainer,re.startOffset),new a(re.endContainer,re.endOffset));return D}function J(M,D){for(var B=0,re,j,le,ae=M.length;B<ae;++B)re=M[B],j=D[B*2],le=D[B*2+1],re.setStartAndEnd(j.node,j.offset,le.node,le.offset)}function q(M,D){return i.isCharacterDataNode(M)?D==0?!!M.previousSibling:D==M.length?!!M.nextSibling:!0:D>0&&D<M.childNodes.length}function de(M,D,B,re){var j,le,ae=B==0;if(i.isAncestorOf(D,M))return M;if(i.isCharacterDataNode(D)){var he=i.getNodeIndex(D);if(B==0)B=he;else if(B==D.length)B=he+1;else throw o.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+B+" in "+D.data);D=D.parentNode}if(q(D,B)){j=D.cloneNode(!1),le=D.parentNode,j.id&&j.removeAttribute("id");for(var G,V=0;G=D.childNodes[B];)I(G,j,V++,re);return I(j,le,i.getNodeIndex(D)+1,re),D==M?j:de(M,le,i.getNodeIndex(j),re)}else if(M!=D){j=D.parentNode;var H=i.getNodeIndex(D);return ae||H++,de(M,j,H,re)}return M}function pe(M,D){return M.namespaceURI==D.namespaceURI&&M.tagName.toLowerCase()==D.tagName.toLowerCase()&&S(M,D)&&$(M,D)&&ie(M,"display")=="inline"&&ie(D,"display")=="inline"}function ue(M){var D=M?"nextSibling":"previousSibling";return function(B,re){var j=B.parentNode,le=B[D];if(le){if(le&&le.nodeType==3)return le}else if(re&&(le=j[D],le&&le.nodeType==1&&pe(j,le))){var ae=le[M?"firstChild":"lastChild"];if(ae&&ae.nodeType==3)return ae}return null}}var Le=ue(!1),ve=ue(!0);function oe(M){this.isElementMerge=M.nodeType==1,this.textNodes=[];var D=this.isElementMerge?M.lastChild:M;D&&(this.textNodes[0]=D)}oe.prototype={doMerge:function(M){var D=this.textNodes,B=D[0];if(D.length>1){var re=i.getNodeIndex(B),j=[],le=0,ae;c(D,function(he,G){ae=he.parentNode,G>0&&(ae.removeChild(he),ae.hasChildNodes()||i.removeNode(ae),M&&c(M,function(V){V.node==he&&(V.node=B,V.offset+=le),V.node==ae&&V.offset>re&&(--V.offset,V.offset==re+1&&G<D.length-1&&(V.node=B,V.offset=le))})),j[G]=he.data,le+=he.data.length}),B.data=j.join("")}return B.data},getLength:function(){for(var M=this.textNodes.length,D=0;M--;)D+=this.textNodes[M].length;return D},toString:function(){var M=[];return c(this.textNodes,function(D,B){M[B]="'"+D.data+"'"}),"[Merge("+M.join(",")+")]"}};var xe=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Ne={};function dt(M,D,B){var re,j,le,ae,he=this;he.cssClass=he.className=M;var G=null,V={};if(typeof D=="object"&&D!==null){for(typeof D.elementTagName<"u"&&(D.elementTagName=D.elementTagName.toLowerCase()),B=D.tagNames,G=D.elementProperties,V=D.elementAttributes,j=0;ae=xe[j++];)D.hasOwnProperty(ae)&&(he[ae]=D[ae]);re=D.normalize}else re=D;he.normalize=typeof re>"u"?!0:re,he.attrExceptions=[];var H=document.createElement(he.elementTagName);he.elementProperties=he.copyPropertiesToElement(G,H,!0),h(V,function(We,Ve){he.attrExceptions.push(We),V[We]=""+Ve}),he.elementAttributes=V,he.elementSortedClassName=he.elementProperties.hasOwnProperty("className")?C(he.elementProperties.className+" "+M):M,he.applyToAnyTagName=!1;var me=typeof B;if(me=="string")B=="*"?he.applyToAnyTagName=!0:he.tagNames=p(B.toLowerCase()).split(/\s*,\s*/);else if(me=="object"&&typeof B.length=="number")for(he.tagNames=[],j=0,le=B.length;j<le;++j)B[j]=="*"?he.applyToAnyTagName=!0:he.tagNames.push(B[j].toLowerCase());else he.tagNames=[he.elementTagName]}dt.prototype={elementTagName:d,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(M,D,B){var re,j,le={},ae,he,G,V;for(var H in M)if(M.hasOwnProperty(H))if(he=M[H],G=D[H],H=="className")m(D,he),m(D,this.className),D[H]=C(D[H]),B&&(le[H]=he);else if(H=="style"){j=G,B&&(le[H]=ae={});for(re in M[H])M[H].hasOwnProperty(re)&&(j[re]=he[re],B&&(ae[re]=j[re]));this.attrExceptions.push(H)}else D[H]=he,B&&(le[H]=D[H],V=Ne.hasOwnProperty(H)?Ne[H]:H,this.attrExceptions.push(V));return B?le:""},copyAttributesToElement:function(M,D){for(var B in M)M.hasOwnProperty(B)&&!/^class(?:Name)?$/i.test(B)&&D.setAttribute(B,M[B])},appliesToElement:function(M){return s(this.tagNames,M.tagName.toLowerCase())},getEmptyElements:function(M){var D=this;return M.getNodes([1],function(B){return D.appliesToElement(B)&&!B.hasChildNodes()})},hasClass:function(M){return M.nodeType==1&&(this.applyToAnyTagName||this.appliesToElement(M))&&g(M,this.className)},getSelfOrAncestorWithClass:function(M){for(;M;){if(this.hasClass(M))return M;M=M.parentNode}return null},isModifiable:function(M){return!this.applyToEditableOnly||W(M)},isIgnorableWhiteSpaceNode:function(M){return this.ignoreWhiteSpace&&M&&M.nodeType==3&&Se(M)},postApply:function(M,D,B,re){var j=M[0],le=M[M.length-1],ae=[],he,G=j,V=le,H=0,me=le.length,We;c(M,function(Be){We=Le(Be,!re),We?(he||(he=new oe(We),ae.push(he)),he.textNodes.push(Be),Be===j&&(G=he.textNodes[0],H=G.length),Be===le&&(V=he.textNodes[0],me=he.getLength())):he=null});var Ve=ve(le,!re);if(Ve&&(he||(he=new oe(le),ae.push(he)),he.textNodes.push(Ve)),ae.length){for(var Ht=0,Ae=ae.length;Ht<Ae;++Ht)ae[Ht].doMerge(B);D.setStartAndEnd(G,H,V,me)}},createContainer:function(M){var D=i.getDocument(M),B=f&&!i.isHtmlNamespace(M)&&M.namespaceURI?D.createElementNS(M.namespaceURI,this.elementTagName):D.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,B,!1),this.copyAttributesToElement(this.elementAttributes,B),m(B,this.className),this.onElementCreate&&this.onElementCreate(B,this),B},elementHasProperties:function(M,D){var B=this;return h(D,function(re,j){if(re=="className")return b(M,j);if(typeof j=="object"){if(!B.elementHasProperties(M[re],j))return!1}else if(M[re]!==j)return!1})},elementHasAttributes:function(M,D){return h(D,function(B,re){if(M.getAttribute(B)!==re)return!1})},applyToTextNode:function(M,D){if(w(M)){var B=M.parentNode;if(B.childNodes.length==1&&this.useExistingElements&&this.appliesToElement(B)&&this.elementHasProperties(B,this.elementProperties)&&this.elementHasAttributes(B,this.elementAttributes))m(B,this.className);else{var re=M.parentNode,j=this.createContainer(re);re.insertBefore(j,M),j.appendChild(M)}}},isRemovable:function(M){return M.tagName.toLowerCase()==this.elementTagName&&x(M)==this.elementSortedClassName&&this.elementHasProperties(M,this.elementProperties)&&!Y(M,this.attrExceptions)&&this.elementHasAttributes(M,this.elementAttributes)&&this.isModifiable(M)},isEmptyContainer:function(M){var D=M.childNodes.length;return M.nodeType==1&&this.isRemovable(M)&&(D==0||D==1&&this.isEmptyContainer(M.firstChild))},removeEmptyContainers:function(M){var D=this,B=M.getNodes([1],function(le){return D.isEmptyContainer(le)}),re=[M],j=L(re);c(B,function(le){X(le,j)}),J(re,j)},undoToTextNode:function(M,D,B,re){if(!D.containsNode(B)){var j=D.cloneRange();j.selectNode(B),j.isPointInRange(D.endContainer,D.endOffset)&&(de(B,D.endContainer,D.endOffset,re),D.setEndAfter(B)),j.isPointInRange(D.startContainer,D.startOffset)&&(B=de(B,D.startContainer,D.startOffset,re))}this.isRemovable(B)?E(B,re):y(B,this.className)},splitAncestorWithClass:function(M,D,B){var re=this.getSelfOrAncestorWithClass(M);re&&de(re,M,D,B)},undoToAncestor:function(M,D){this.isRemovable(M)?E(M,D):y(M,this.className)},applyToRange:function(M,D){var B=this;D=D||[];var re=L(D||[]);M.splitBoundariesPreservingPositions(re),B.removeEmptyElements&&B.removeEmptyContainers(M);var j=R(M);if(j.length){c(j,function(he){!B.isIgnorableWhiteSpaceNode(he)&&!B.getSelfOrAncestorWithClass(he)&&B.isModifiable(he)&&B.applyToTextNode(he,re)});var le=j[j.length-1];M.setStartAndEnd(j[0],0,le,le.length),B.normalize&&B.postApply(j,M,re,!1),J(D,re)}var ae=B.getEmptyElements(M);c(ae,function(he){m(he,B.className)})},applyToRanges:function(M){for(var D=M.length;D--;)this.applyToRange(M[D],M);return M},applyToSelection:function(M){var D=r.getSelection(M);D.setRanges(this.applyToRanges(D.getAllRanges()))},undoToRange:function(M,D){var B=this;D=D||[];var re=L(D);M.splitBoundariesPreservingPositions(re),B.removeEmptyElements&&B.removeEmptyContainers(M,re);var j=R(M),le,ae,he=j[j.length-1];if(j.length){B.splitAncestorWithClass(M.endContainer,M.endOffset,re),B.splitAncestorWithClass(M.startContainer,M.startOffset,re);for(var G=0,V=j.length;G<V;++G)le=j[G],ae=B.getSelfOrAncestorWithClass(le),ae&&B.isModifiable(le)&&B.undoToAncestor(ae,re);M.setStartAndEnd(j[0],0,he,he.length),B.normalize&&B.postApply(j,M,re,!0),J(D,re)}var H=B.getEmptyElements(M);c(H,function(me){y(me,B.className)})},undoToRanges:function(M){for(var D=M.length;D--;)this.undoToRange(M[D],M);return M},undoToSelection:function(M){var D=r.getSelection(M),B=r.getSelection(M).getAllRanges();this.undoToRanges(B),D.setRanges(B)},isAppliedToRange:function(M){if(M.collapsed||M.toString()=="")return!!this.getSelfOrAncestorWithClass(M.commonAncestorContainer);var D=M.getNodes([3]);if(D.length){for(var B=0,re;re=D[B++];)if(!this.isIgnorableWhiteSpaceNode(re)&&P(M,re)&&this.isModifiable(re)&&!this.getSelfOrAncestorWithClass(re))return!1}return!0},isAppliedToRanges:function(M){var D=M.length;if(D==0)return!1;for(;D--;)if(!this.isAppliedToRange(M[D]))return!1;return!0},isAppliedToSelection:function(M){var D=r.getSelection(M);return this.isAppliedToRanges(D.getAllRanges())},toggleRange:function(M){this.isAppliedToRange(M)?this.undoToRange(M):this.applyToRange(M)},toggleSelection:function(M){this.isAppliedToSelection(M)?this.undoToSelection(M):this.applyToSelection(M)},getElementsWithClassIntersectingRange:function(M){var D=[],B=this;return M.getNodes([3],function(re){var j=B.getSelfOrAncestorWithClass(re);j&&!s(D,j)&&D.push(j)}),D},detach:function(){}};function st(M,D,B){return new dt(M,D,B)}dt.util={hasClass:g,addClass:m,removeClass:y,getClass:_,hasSameClasses:S,hasAllClasses:b,replaceWithOwnChildren:E,elementsHaveSameNonClassAttributes:$,elementHasNonClassAttributes:Y,splitNodeAt:de,isEditableElement:be,isEditingHost:ne,isEditable:W},r.CssClassApplier=r.ClassApplier=dt,r.createClassApplier=st,l.createAliasForDeprecatedMethod(r,"createCssClassApplier","createClassApplier",o)}),n})})(xG);var Vb={toolbar:{allowMultiParagraphSelection:!0,buttons:["bold","colorpicker","italic","underline","strikethrough","quote","justifyLeft","justifyCenter","justifyRight","justifyFull","superscript","subscript","orderedlist","unorderedlist","pre","removeFormat","outdent","indent","h2","h3"],standardizeSelectionStart:!1,updateOnEmptySelection:!1},placeholder:{text:"请输入内容",hideOnClick:!0},disableEditing:!0},zb=Ed.extensions.button.extend({name:"colorpicker",tagNames:["mark"],contentDefault:"<b>Color</b>",aria:"Color Picker",action:"colorPicker",init:function(){var e=this;jb.init(),Ed.extensions.button.prototype.init.call(this),this.colorPicker=new cS({parent:this.button,color:"#000",onDone:function(t){e.coloredText&&e.coloredText.isAppliedToSelection()&&e.coloredText.undoToSelection(),e.coloredText=jb.createClassApplier("colored",{elementTagName:"span",elementProperties:{style:{color:t.hex}},normalize:!0}),e.coloredText.toggleSelection(),e.base.checkContentChanged(),e.setInactive()}})},getButton:function(){return this.button},handleClick:function(){this.setActive(),this.colorPicker.show()},isAlreadyApplied:function(e){return e.nodeName.toLowerCase()==="mark"},isActive:function(){return this.button.classList.contains("medium-editor-button-active")},setInactive:function(){this.button.classList.remove("medium-editor-button-active")},setActive:function(){this.button.classList.add("medium-editor-button-active")}}),EG=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),CG=function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Fb=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Hb=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};(function(e){EG(t,e);function t(n){var r=e.call(this,n)||this;r.labelMap=new Map;var o=n.lf,i=n.graphModel;return r.lf=o,r.graphModel=i,r.state={tick:0},r}return t.prototype.componentDidMount=function(){var n=this,r=this.props.graphModel;this.editor=new Ed(".lf-label-editor",is(Vb,{autoLink:!0,extensions:{colorPicker:new zb}})),r.eventCenter.on("text:update,node:mousemove,node:resize,node:rotate,node:drag,label:drop,node:drop",function(){}),r.eventCenter.on("node:properties-change,node:properties-delete",function(){n.setState({tick:n.state.tick+1})})},t.prototype.componentDidUpdate=function(){var n;this.editor&&this.editor.elements.length>0?this.editor.addElements(".lf-label-editor"):((n=this.editor)===null||n===void 0||n.destroy(),this.editor=new Ed(".lf-label-editor",is(Vb,{autoLink:!0,extensions:{colorPicker:new zb}})))},t.prototype.componentWillUnmount=function(){var n;(n=this.editor)===null||n===void 0||n.destroy()},t.prototype.getLabels=function(){var n=this,r=this.props,o=r.lf.extension,i=r.graphModel,a=Hb(Hb([],Fb(i.nodes),!1),Fb(i.edges),!1),s=o.label;if(s){var l=[];return qe(a,function(c){var d,f,h=c.getData(),p=(f=(d=h.properties)===null||d===void 0?void 0:d._label)!==null&&f!==void 0?f:[];qe(p,function(v){var g=n.labelMap,m=new hG(v,c,i);g.set(m.id,m),l.push(K(dG,{label:m,element:c,graphModel:i},m.id))})}),l}return null},t.prototype.render=function(){return K("foreignObject",{id:"lf-label-overlay",class:"lf-label-overlay",children:this.getLabels()})},t.toolName="label-edit-tool",t=CG([Mn],t),t})(ut);var Af=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):o(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Mf=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},SG=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},NG=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Zs={};function hS(e){return e.startsWith("data:text/plain")}function pS(e){return Af(this,void 0,void 0,function(){return Mf(this,function(t){return Zs[e]?[2,Zs[e]]:[2,new Promise(function(n,r){try{fetch(e).then(function(o){return o.blob()}).then(function(o){var i=new FileReader;i.onloadend=function(){n(Zs[e]=i.result)},i.onerror=r,i.readAsDataURL(o)}).catch(function(){n(Zs[e]=e)})}catch{return Zs[e]=e}})]})})}function Wb(e,t){return Af(this,void 0,void 0,function(){var n,r,o;return Mf(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=e.getAttribute(t)||"",n.startsWith("data:")?[2]:[4,pS(n)];case 1:return r=i.sent(),hS(r)?[2]:(e.setAttribute(t,r),[3,3]);case 2:return o=i.sent(),console.error(o),[3,3];case 3:return[2]}})})}function Gb(e,t){return Af(this,void 0,void 0,function(){var n,r;return Mf(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t.startsWith("data:")?[2]:[4,pS(t)];case 1:return n=o.sent(),hS(n)?[2]:(e.style.backgroundImage="url(".concat(n,")"),[3,3]);case 2:return r=o.sent(),console.error(r),[3,3];case 3:return[2]}})})}function np(e){return Af(this,void 0,void 0,function(){var t,n,r,o,i,a,s,c,l,c;return Mf(this,function(d){switch(d.label){case 0:for(t=[e],r=[];t.length;)n=t.shift(),n.children.length&&t.push.apply(t,NG([],SG(n.children),!1)),n instanceof HTMLElement&&(o=n.style,i=o.background,a=o.backgroundImage,s=i.match(/url\(["']?(.*?)["']?\)/),s&&s[1]&&(c=s[1],r.push(Gb(n,c))),l=a.match(/url\(["']?(.*?)["']?\)/),l&&l[1]&&(c=l[1],r.push(Gb(n,c)))),n instanceof HTMLImageElement?r.push(Wb(n,"src")):n instanceof SVGImageElement&&r.push(Wb(n,"href"));return[4,Promise.all(r)];case 1:return d.sent(),[2]}})})}function Js(e,t,n){var r=document.createElement("canvas");r.width=t,r.height=n;var o=r.getContext("2d");return o&&o.drawImage(e,0,0,e.width,e.height,0,0,t,n),r}var Po=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(d){try{c(r.next(d))}catch(f){a(f)}}function l(d){try{c(r.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):o(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},Do=function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},OG=function(){function e(t){var n=t.lf,r=this;this.lf=n,this.customCssRules="",this.useGlobalRules=!0,n.getSnapshot=function(o,i){return Po(r,void 0,void 0,function(){return Do(this,function(a){switch(a.label){case 0:return[4,this.getSnapshot(o,i)];case 1:return[2,a.sent()]}})})},n.getSnapshotBlob=function(o,i){return Po(r,void 0,void 0,function(){return Do(this,function(a){switch(a.label){case 0:return[4,this.getSnapshotBlob(o,i)];case 1:return[2,a.sent()]}})})},n.getSnapshotBase64=function(o,i){return Po(r,void 0,void 0,function(){return Do(this,function(a){switch(a.label){case 0:return[4,this.getSnapshotBase64(o,i)];case 1:return[2,a.sent()]}})})}}return e.prototype.getSvgRootElement=function(t){var n=t.container.querySelector(".lf-canvas-overlay");return n},e.prototype.triggerDownload=function(t){var n=new MouseEvent("click",{view:document.defaultView,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",this.fileName),r.setAttribute("href",t),r.setAttribute("target","_blank"),r.dispatchEvent(n)},e.prototype.removeAnchor=function(t){for(var n=t.childNodes,r=t.childNodes&&t.childNodes.length,o=0;o<r;o++){var i=n[o],a=i.classList&&Array.from(i.classList)||[];a.indexOf("lf-anchor")>-1&&(t.removeChild(t.childNodes[o]),r--,o--)}},e.prototype.removeRotateControl=function(t){for(var n=t.childNodes,r=t.childNodes&&t.childNodes.length,o=0;o<r;o++){var i=n[o],a=i.classList&&Array.from(i.classList)||[];a.indexOf("lf-rotate-control")>-1&&(t.removeChild(t.childNodes[o]),r--,o--)}},e.prototype.getSnapshot=function(t,n){return Po(this,void 0,void 0,function(){var r,o,i,a,s=this;return Do(this,function(l){switch(l.label){case 0:return r=this.lf.graphModel.getPartial(),o=(n??{}).partial,i=o===void 0?r:o,a=this.lf.getEditConfig(),this.lf.updateEditConfig({isSilentMode:!0,stopScrollGraph:!0,stopMoveGraph:!0}),r===i?[3,1]:(this.lf.graphModel.setPartial(i),this.lf.graphModel.eventCenter.once("graph:updated",function(){return Po(s,void 0,void 0,function(){return Do(this,function(c){switch(c.label){case 0:return[4,this.snapshot(t,n)];case 1:return c.sent(),this.lf.graphModel.setPartial(r),[2]}})})}),[3,3]);case 1:return[4,this.snapshot(t,n)];case 2:l.sent(),l.label=3;case 3:return this.lf.updateEditConfig(a),[2]}})})},e.prototype.snapshot=function(t,n){return Po(this,void 0,void 0,function(){var r,o,i,a,s,l,c,d,f,h=this;return Do(this,function(p){switch(p.label){case 0:return r=n??{},o=r.fileType,i=o===void 0?"png":o,a=r.quality,this.fileName="".concat(t??"logic-flow.".concat(Date.now()),".").concat(i),s=this.getSvgRootElement(this.lf),[4,np(s)];case 1:return p.sent(),i==="svg"?(l=this.cloneSvg(s),c=new XMLSerializer().serializeToString(l),d=new Blob([c],{type:"image/svg+xml;charset=utf-8"}),f=URL.createObjectURL(d),this.triggerDownload(f)):this.getCanvasData(s,n??{}).then(function(v){var g=v.toDataURL("image/".concat(i),a).replace("image/".concat(i),"image/octet-stream");h.triggerDownload(g)}),[2]}})})},e.prototype.getSnapshotBase64=function(t,n){return Po(this,void 0,void 0,function(){var r,o=this;return Do(this,function(i){switch(i.label){case 0:return r=this.getSvgRootElement(this.lf),[4,np(r)];case 1:return i.sent(),[2,new Promise(function(a){o.getCanvasData(r,{backgroundColor:t}).then(function(s){var l=s.toDataURL("image/".concat(n??"png"));a({data:l,width:s.width,height:s.height})})})]}})})},e.prototype.getSnapshotBlob=function(t,n){return Po(this,void 0,void 0,function(){var r,o=this;return Do(this,function(i){switch(i.label){case 0:return r=this.getSvgRootElement(this.lf),[4,np(r)];case 1:return i.sent(),[2,new Promise(function(a){o.getCanvasData(r,{backgroundColor:t}).then(function(s){s.toBlob(function(l){a({data:l,width:s.width,height:s.height})},"image/".concat(n??"png"))})})]}})})},e.prototype.getClassRules=function(){var t="";if(this.useGlobalRules)for(var n=document.styleSheets,r=0;r<n.length;r++){var o=n[r];try{for(var i=0;i<o.cssRules.length;i++)t+=o.cssRules[i].cssText}catch{console.log("CSS scripts from different sources have been filtered out")}}return this.customCssRules&&(t+=this.customCssRules),t},e.prototype.getCanvasData=function(t,n){return Po(this,void 0,void 0,function(){var r,o,i,a,s,l,c,d,f,h,p,v,g,m,y,_,C,x,S,b,w,T,k,I,X,te;return Do(this,function(E){return r=n.width,o=n.height,i=n.backgroundColor,a=n.padding,s=a===void 0?40:a,l=this.cloneSvg(t,!1),c=window.devicePixelRatio||1,c<1&&(c=1),d=this.lf.graphModel.rootEl.querySelector(".lf-base"),f=d.getBoundingClientRect(),h=this.lf.container.querySelector(".lf-canvas-overlay"),p=h.getBoundingClientRect(),v=f.x-p.x,g=f.y-p.y,m=this.lf.graphModel,y=m.transformModel,_=y.SCALE_X,C=y.SCALE_Y,x=y.TRANSLATE_X,S=y.TRANSLATE_Y,l.lastChild.style.transform="matrix(1, 0, 0, 1, ".concat((-v+x)*(1/_),", ").concat((-g+S)*(1/C),")"),b=Math.ceil(f.width/_),w=Math.ceil(f.height/C),T=document.createElement("canvas"),T.style.width="".concat(b,"px"),T.style.height="".concat(w,"px"),T.width=b*c+s*2,T.height=w*c+s*2,k=T.getContext("2d"),k&&(k.clearRect(0,0,T.width,T.height),k.scale(c,c),i?(k.fillStyle=i,k.fillRect(0,0,T.width,T.height)):k.clearRect(0,0,T.width,T.height)),I=new Image,X=document.createElement("style"),X.innerHTML=this.getClassRules(),te=document.createElement("foreignObject"),te.appendChild(X),l.appendChild(te),[2,new Promise(function(P){I.onload=function(){var Y=navigator.userAgent.indexOf("Firefox")>-1;try{Y?createImageBitmap(I,{resizeWidth:r&&o?Js(T,r,o).width:T.width,resizeHeight:r&&o?Js(T,r,o).height:T.height}).then(function(ie){k==null||k.drawImage(ie,s/c,s/c),P(r&&o?Js(T,r,o):T)}):(k==null||k.drawImage(I,s/c,s/c),P(r&&o?Js(T,r,o):T))}catch{k==null||k.drawImage(I,s/c,s/c),P(r&&o?Js(T,r,o):T)}};var R="data:image/svg+xml;charset=utf-8,".concat(new XMLSerializer().serializeToString(l)),$=R.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");I.src=$})]})})},e.prototype.cloneSvg=function(t,n){var r=this,o;n===void 0&&(n=!0);var i=t.cloneNode(!0),a=i.lastChild,s=(o=a==null?void 0:a.childNodes)===null||o===void 0?void 0:o.length;if(s)for(var l=0;l<s;l++){var c=a==null?void 0:a.childNodes[l],d=c.classList&&Array.from(c.classList);if(d&&d.indexOf("lf-base")<0)a==null||a.removeChild(a.childNodes[l]),s--,l--;else{var f=a==null?void 0:a.childNodes[l];f&&f.childNodes.forEach(function(v){var g=v;r.removeAnchor(g.firstChild),r.removeRotateControl(g.firstChild)})}}if(n){var h=document.createElement("style");h.innerHTML=this.getClassRules();var p=document.createElement("foreignObject");p.appendChild(h),i.appendChild(p)}return i},e.pluginName="snapshot",e}();var AG=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},MG=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Qs="lf:defaultNodeMenu",el="lf:defaultEdgeMenu",tl="lf:defaultGraphMenu",Xb="lf:defaultSelectionMenu",TG=function(){function e(t){var n=t.lf,r=this;this.__currentData=null,this.lf=n;var o=n.options.isSilentMode;o||(this.__menuDOM=document.createElement("ul"),this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){r.setMenuConfig(i)},this.lf.addMenuConfig=function(i){r.addMenuConfig(i)},this.lf.setMenuByType=function(i){r.setMenuByType(i)})}return e.prototype.init=function(){var t=this,n,r,o,i,a=[{text:"删除",callback:function(c){t.lf.deleteNode(c.id)}},{text:"编辑文本",callback:function(c){t.lf.graphModel.editText(c.id)}},{text:"复制",callback:function(c){t.lf.cloneNode(c.id)}}];(n=this.menuTypeMap)===null||n===void 0||n.set(Qs,a);var s=[{text:"删除",callback:function(c){t.lf.deleteEdge(c.id)}},{text:"编辑文本",callback:function(c){t.lf.graphModel.editText(c.id)}}];(r=this.menuTypeMap)===null||r===void 0||r.set(el,s),(o=this.menuTypeMap)===null||o===void 0||o.set(tl,[]);var l=[{text:"删除",callback:function(c){t.lf.clearSelectElements(),c.edges.forEach(function(d){return t.lf.deleteEdge(d.id)}),c.nodes.forEach(function(d){return t.lf.deleteNode(d.id)})}}];(i=this.menuTypeMap)===null||i===void 0||i.set(Xb,l)},e.prototype.render=function(t,n){var r=this;t.options.isSilentMode||(this.__container=n,this.__currentData=null,this.__menuDOM&&(this.__menuDOM.className="lf-menu",n.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(o){o.stopPropagation();for(var i=o.target;Array.from(i.classList).indexOf("lf-menu-item")===-1&&Array.from(i.classList).indexOf("lf-menu")===-1;)i=i==null?void 0:i.parentElement;Array.from(i.classList).indexOf("lf-menu-item")>-1?(i.onclickCallback(r.__currentData),r.__menuDOM&&(r.__menuDOM.style.display="none"),r.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0)),this.lf.on("node:contextmenu",function(o){var i,a,s=o.data,l=o.position,c=o.e,d=l.domOverlayPosition,f=d.x,h=d.y,p=s.id,v=r.lf.graphModel.getNodeModelById(p);if(v){var g=[],m=(i=r.menuTypeMap)===null||i===void 0?void 0:i.get(v.type);v&&v.menu&&Array.isArray(v.menu)?g=v.menu:m?g=m:g=(a=r.menuTypeMap)===null||a===void 0?void 0:a.get(Qs),r.__currentData=s,r.showMenu(f,h,g,{width:v.width,height:v.height,clientX:c.clientX,clientY:c.clientY})}}),this.lf.on("edge:contextmenu",function(o){var i,a,s,l=o.data,c=o.position,d=o.e,f=c.domOverlayPosition,h=f.x,p=f.y,v=l.id,g=r.lf.graphModel.getEdgeModelById(v);if(g){var m=[],y=(i=r.menuTypeMap)===null||i===void 0?void 0:i.get(g.type);g&&g.menu&&Array.isArray(g.menu)?m=g.menu:y?m=y:m=(s=(a=r.menuTypeMap)===null||a===void 0?void 0:a.get(el))!==null&&s!==void 0?s:[],r.__currentData=l,r.showMenu(h,p,m,{width:g.width,height:g.height,clientX:d.clientX,clientY:d.clientY})}}),this.lf.on("blank:contextmenu",function(o){var i,a,s=o.position,l=(a=(i=r.menuTypeMap)===null||i===void 0?void 0:i.get(tl))!==null&&a!==void 0?a:[],c=s.domOverlayPosition,d=c.x,f=c.y;r.showMenu(d,f,l)}),this.lf.on("selection:contextmenu",function(o){var i,a=o.data,s=o.position,l=(i=r.menuTypeMap)===null||i===void 0?void 0:i.get(Xb),c=s.domOverlayPosition,d=c.x,f=c.y;r.__currentData=a,r.showMenu(d,f,l)}),this.lf.on("node:mousedown",function(){r.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){r.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){r.__menuDOM.style.display="none"}))},e.prototype.destroy=function(){var t;this.__menuDOM&&((t=this===null||this===void 0?void 0:this.__container)===null||t===void 0||t.removeChild(this.__menuDOM),this.__menuDOM=void 0)},e.prototype.showMenu=function(t,n,r,o){if(!(!r||!r.length)){var i=this.__menuDOM;if(i){if(i.innerHTML="",i.append.apply(i,MG([],AG(this.__getMenuDom(r)),!1)),!i.children.length)return;if(i.style.display="block",!o){i.style.top="".concat(n,"px"),i.style.left="".concat(t,"px");return}var a=o.width,s=o.height,l=o.clientX,c=o.clientY,d=this.lf.graphModel,f=i.offsetWidth,h=!0,p=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,v=p-l,g=d.rootEl.getBoundingClientRect(),m=g.left+g.width;m<p&&(v=m-l),v<f&&(h=!1),h?i.style.left="".concat(t,"px"):i.style.left="".concat(t-a,"px");var y=i.offsetHeight,_=!0,C=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,x=C-c,S=g.top+g.height;S<C&&(x=S-c),x<y&&(_=!1),_?i.style.top="".concat(n,"px"):i.style.top="".concat(n-s,"px")}}},e.prototype.setMenuByType=function(t){var n,r=t.type,o=t.menu;!r||!o||(n=this.menuTypeMap)===null||n===void 0||n.set(r,o)},e.prototype.__getMenuDom=function(t){var n=[];return t&&t.length>0&&t.forEach(function(r){var o=document.createElement("li");if(r.className?o.className="lf-menu-item ".concat(r.className):o.className="lf-menu-item",r.icon===!0){var i=document.createElement("span");i.className="lf-menu-item-icon",o.appendChild(i)}var a=document.createElement("span");a.className="lf-menu-item-text",r.text&&(a.innerText=r.text),o.appendChild(a),o.onclickCallback=r.callback,n.push(o)}),n},e.prototype.setMenuConfig=function(t){var n,r,o;t&&(t.nodeMenu!==void 0&&((n=this.menuTypeMap)===null||n===void 0||n.set(Qs,t.nodeMenu?t.nodeMenu:[])),t.edgeMenu!==void 0&&((r=this.menuTypeMap)===null||r===void 0||r.set(el,t.edgeMenu?t.edgeMenu:[])),t.graphMenu!==void 0&&((o=this.menuTypeMap)===null||o===void 0||o.set(tl,t.graphMenu?t.graphMenu:[])))},e.prototype.addMenuConfig=function(t){var n,r,o,i,a,s,l,c,d;if(t){if(Array.isArray(t.nodeMenu)){var f=(r=(n=this.menuTypeMap)===null||n===void 0?void 0:n.get(Qs))!==null&&r!==void 0?r:[];(o=this.menuTypeMap)===null||o===void 0||o.set(Qs,f.concat(t.nodeMenu))}if(Array.isArray(t.edgeMenu)){var f=(a=(i=this.menuTypeMap)===null||i===void 0?void 0:i.get(el))!==null&&a!==void 0?a:[];(s=this.menuTypeMap)===null||s===void 0||s.set(el,f.concat(t.edgeMenu))}if(Array.isArray(t.graphMenu)){var f=(c=(l=this.menuTypeMap)===null||l===void 0?void 0:l.get(tl))!==null&&c!==void 0?c:[];(d=this.menuTypeMap)===null||d===void 0||d.set(tl,f.concat(t.graphMenu))}}},e.prototype.changeMenuItem=function(t,n){if(t==="add")this.addMenuConfig(n);else if(t==="reset")this.setMenuConfig(n);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},e.pluginName="menu",e}(),PG=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DG=function(){function e(t){var n=t.lf,r=t.LogicFlow,o=t.options,i=this;this.width=200,this.height=150,this.scale=1,this.translateX=0,this.translateY=0,this.showEdge=!1,this.viewPortTop=0,this.viewPortLeft=0,this.viewPortWidth=150,this.viewPortHeight=75,this.isShow=!1,this.isShowHeader=!1,this.isShowCloseIcon=!1,this.headerTitle="导航",this.disabledPlugins=["miniMap","control","selectionSelect"],this.onGraphResize=function(){i.updateViewPortBounds(),i.isShow&&i.updateViewPort()},this.render=function(s,l){i.container=l,i.lf.on("history:change",function(){i.isShow&&i.setView()}),i.lf.on("graph:transform",function(){i.isShow&&i.setView(!1)})},this.show=function(s,l){i.isShow||(i.createMiniMap(s,l),i.setView()),i.isShow=!0},this.hide=function(){i.isShow&&(i.removeMiniMap(),i.lf.emit("miniMap:close",{})),i.isShow=!1},this.updatePosition=function(s){if(typeof s=="object")(s.left!==void 0||s.right!==void 0)&&(i.leftPosition=s.left,i.rightPosition=s.right),(s.top!==void 0||s.bottom!==void 0)&&(i.topPosition=s.top,i.bottomPosition=s.bottom);else switch(s){case"left-top":i.leftPosition=0,i.rightPosition=void 0,i.topPosition=0,i.bottomPosition=void 0;break;case"right-top":i.leftPosition=void 0,i.rightPosition=0,i.topPosition=0,i.bottomPosition=void 0;break;case"left-bottom":i.leftPosition=0,i.rightPosition=void 0,i.topPosition=void 0,i.bottomPosition=0;break;case"right-bottom":i.leftPosition=void 0,i.rightPosition=0,i.topPosition=void 0,i.bottomPosition=0;break}i.updateMiniMapPosition()},this.reset=function(){i.lf.resetTranslate(),i.lf.resetZoom()},this.setShowEdge=function(s){i.showEdge!==s&&(i.showEdge=s,i.setView())},this.startDrag=function(s){document.addEventListener("mousemove",i.drag),document.addEventListener("mouseup",i.drop);var l=s.x,c=s.y;i.startPosition={x:l,y:c}},this.drag=function(s){var l=s.x,c=s.y,d=(l-i.startPosition.x)/i.scale,f=(c-i.startPosition.y)/i.scale,h=i.viewPortLeft+d+i.viewPortWidth/i.scale/2,p=i.viewPortTop+f+i.viewPortHeight/i.scale/2;i.startPosition={x:l,y:c},i.lf.focusOn({coordinate:{x:h,y:p}})},this.drop=function(){document.removeEventListener("mousemove",i.drag),document.removeEventListener("mouseup",i.drop)},this.mapClick=function(s){var l=s.offsetX,c=s.offsetY,d=i.translateX+l/i.scale,f=i.translateY+c/i.scale;i.lf.focusOn({coordinate:{x:d,y:f}})},this.lf=n,this.LFCtor=r,o&&this.setOption(o),this.viewPortWidth=n.graphModel.width,this.viewPortHeight=n.graphModel.height;var a={left:0,right:this.viewPortWidth,top:0,bottom:this.viewPortHeight};this.bounds=a,this.elementAreaBounds=a,this.viewPortBounds=a,this.initMiniMap(),n.on("graph:resize",this.onGraphResize)}return e.prototype.setOption=function(t){var n=t.width,r=n===void 0?150:n,o=t.height,i=o===void 0?220:o,a=t.showEdge,s=a===void 0?!1:a,l=t.isShowHeader,c=l===void 0?!1:l,d=t.isShowCloseIcon,f=d===void 0?!1:d,h=t.leftPosition,p=t.topPosition,v=t.rightPosition,g=v===void 0?0:v,m=t.bottomPosition,y=m===void 0?0:m,_=t.headerTitle,C=_===void 0?"导航":_;this.width=r,this.height=i,this.showEdge=s,this.isShowHeader=c,this.isShowCloseIcon=f,this.leftPosition=h,this.rightPosition=h!==void 0?void 0:g,this.topPosition=p,this.bottomPosition=p!==void 0?void 0:y,this.headerTitle=C},e.prototype.initMiniMap=function(){var t=document.createElement("div");t.className="lf-mini-map-graph",t.style.width="".concat(this.width,"px"),t.style.height="".concat(this.height,"px"),this.lfMap=new this.LFCtor({container:t,grid:!1,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!1,history:!1,snapline:!1,disabledPlugins:this.disabledPlugins}),this.miniMapWrap=t,this.createViewPort(),t.addEventListener("click",this.mapClick)},e.prototype.createMiniMap=function(t,n){var r,o=document.createElement("div");this.miniMapContainer=o,o.appendChild(this.miniMapWrap),o.style.position="absolute",(t!==void 0||n!==void 0)&&(this.leftPosition=t||0,this.topPosition=n||0,this.rightPosition=void 0,this.bottomPosition=void 0),this.updateMiniMapPosition(),o.className="lf-mini-map",this.isShowCloseIcon||o.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||o.classList.add("lf-mini-map-no-header"),(r=this.container)===null||r===void 0||r.appendChild(o),this.miniMapWrap.appendChild(this.viewport);var i=document.createElement("div");i.className="lf-mini-map-header",i.innerText=this.headerTitle,o.appendChild(i);var a=document.createElement("span");a.className="lf-mini-map-close",a.addEventListener("click",this.hide),o.appendChild(a)},e.prototype.updateMiniMapPosition=function(){if(this.miniMapContainer){var t=this.miniMapContainer.style;this.rightPosition!==void 0?(t.right="".concat(this.rightPosition,"px"),t.left=""):(t.left="".concat(this.leftPosition,"px"),t.right=""),this.bottomPosition!==void 0?(t.bottom="".concat(this.bottomPosition,"px"),t.top=""):(t.top="".concat(this.topPosition,"px"),t.bottom="")}},e.prototype.removeMiniMap=function(){var t;this.miniMapContainer&&((t=this.container)===null||t===void 0||t.removeChild(this.miniMapContainer))},e.prototype.updateBounds=function(t){t&&this.updateElementAreaBounds(t),this.updateViewPortBounds(),this.bounds={left:Math.min(this.elementAreaBounds.left,this.viewPortBounds.left),right:Math.max(this.elementAreaBounds.right,this.viewPortBounds.right),top:Math.min(this.elementAreaBounds.top,this.viewPortBounds.top),bottom:Math.max(this.elementAreaBounds.bottom,this.viewPortBounds.bottom)}},e.prototype.updateElementAreaBounds=function(t){var n={left:0,right:0,top:0,bottom:0},r=t.nodes;r&&r.length>0&&r.forEach(function(o){var i,a,s=o.x,l=o.y,c=(i=o.width)!==null&&i!==void 0?i:200,d=(a=o.height)!==null&&a!==void 0?a:200,f=s-c/2,h=s+c/2,p=l-d/2,v=l+d/2;n.left=Math.min(f,n.left),n.right=Math.max(h,n.right),n.top=Math.min(p,n.top),n.bottom=Math.max(v,n.bottom)}),this.elementAreaBounds=n},e.prototype.updateViewPortBounds=function(){var t=this.lf.getTransform(),n=t.TRANSLATE_X,r=t.TRANSLATE_Y,o=t.SCALE_X,i=t.SCALE_Y,a=this.lf.graphModel,s=a.width,l=a.height;this.viewPortBounds={left:-n/o,right:(-n+s)/o,top:-r/i,bottom:(-r+l)/i}},e.prototype.resetData=function(t){var n=t.nodes,r=t.edges;return n.forEach(function(o){o.text=void 0}),this.showEdge&&r.forEach(function(o){o.text=void 0}),{nodes:n,edges:this.showEdge?r:[]}},e.prototype.setView=function(t){var n,r;if(t===void 0&&(t=!0),t){var o=this.lf.getGraphRawData(),i=this.resetData(o),a=this.lf.viewMap,s=this.lf.graphModel.modelMap,l=this.lfMap.viewMap;try{for(var c=PG(a.keys()),d=c.next();!d.done;d=c.next()){var f=d.value;l.has(f)||this.lfMap.register({type:f,view:a.get(f),model:s.get(f)})}}catch(k){n={error:k}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}this.lfMap.render(i),this.updateBounds(i)}else this.updateBounds();var h=this.bounds,p=h.left,v=h.top,g=h.right,m=h.bottom,y=g-p,_=m-v,C=this.width/y,x=this.height/_,S=Math.min(C,x);this.scale=S;var b=p-(this.width/S-y)/2,w=v-(this.height/S-_)/2;if(this.lfMap.graphModel.transformModel.translate(-b+this.translateX,-w+this.translateY),this.translateX=b,this.translateY=w,this.miniMapWrap.firstChild){var T=this.miniMapWrap.firstChild.style;T.pointerEvents="none",T.transform="matrix(".concat(S,", 0, 0, ").concat(S,", 0, 0)"),T.transformOrigin="left top",T.height="".concat(this.height/S,"px"),T.width="".concat(this.width/S,"px"),this.updateViewPort()}},e.prototype.updateViewPort=function(){var t=this.viewport.style,n=this.lf.getTransform(),r=n.TRANSLATE_X,o=n.TRANSLATE_Y,i=n.SCALE_X,a=n.SCALE_Y,s=this.lf.graphModel,l=s.width,c=s.height;this.viewPortLeft=-r/i,this.viewPortTop=-o/a,this.viewPortWidth=l/i*this.scale,this.viewPortHeight=c/a*this.scale,t.width="".concat(this.viewPortWidth,"px"),t.height="".concat(this.viewPortHeight,"px"),t.left="".concat((this.viewPortLeft-this.translateX)*this.scale,"px"),t.top="".concat((this.viewPortTop-this.translateY)*this.scale,"px")},e.prototype.createViewPort=function(){var t=document.createElement("div");t.className="lf-minimap-viewport",t.addEventListener("mousedown",this.startDrag),t.addEventListener("click",function(n){n.stopPropagation()}),this.viewport=t},e.prototype.destroy=function(){this.lf.off("graph:resize",this.onGraphResize)},e.pluginName="miniMap",e}(),kG=function(){function e(t){var n=t.lf,r=this;this.disabled=!0,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.draw=function(i){var a=r.lf.getPointByClient(i.clientX,i.clientY).domOverlayPosition,s=a.x,l=a.y;if(r.endPoint={x:s,y:l},r.startPoint){var c=r.startPoint,d=c.x,f=c.y,h=d,p=f,v=s-d,g=l-f;s<d&&(h=s,v=d-s),l<f&&(p=l,g=f-l),r.wrapper&&(r.wrapper.style.left="".concat(h,"px"),r.wrapper.style.top="".concat(p,"px"),r.wrapper.style.width="".concat(v,"px"),r.wrapper.style.height="".concat(g,"px"))}},this.drawOff=function(){var i;if(document.removeEventListener("mousemove",r.draw),document.removeEventListener("mouseup",r.drawOff),r.wrapper&&(r.wrapper.oncontextmenu=null,(i=r.container)===null||i===void 0||i.removeChild(r.wrapper)),r.startPoint&&r.endPoint){var a=r.startPoint,s=a.x,l=a.y,c=r.endPoint,d=c.x,f=c.y,h=[Math.min(s,d),Math.min(l,f)],p=[Math.max(s,d),Math.max(l,f)];if(r.lf.emit("selection:selected-area",{topLeft:h,bottomRight:p}),Math.abs(d-s)<10&&Math.abs(f-l)<10)return;var v=r.lf.graphModel.getAreaElement(h,p,r.isWholeEdge,r.isWholeNode,!0),g=r.lf.graphModel,m=g.dynamicGroup,y=g.group;v.forEach(function(_){(!y||!y.getNodeGroup(_.id))&&r.lf.selectElementById(_.id,!0),(!m||!m.getGroupByNodeId(_.id))&&r.lf.selectElementById(_.id,!0)}),r.lf.emit("selection:selected",{elements:v,leftTopPoint:h,rightBottomPoint:p})}},this.lf=n;var o=n.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=o,n.openSelectionSelect=function(){r.openSelectionSelect()},n.closeSelectionSelect=function(){r.closeSelectionSelect()}}return e.prototype.render=function(t,n){var r=this;this.container=n,t.on("blank:mousedown",function(o){var i=o.e,a=t.getEditConfig();if(!(!a.stopMoveGraph||r.disabled)){var s=i.button===2;if(!s){var l=t.getPointByClient(i.clientX,i.clientY).domOverlayPosition,c=l.x,d=l.y;r.startPoint={x:c,y:d},r.endPoint={x:c,y:d};var f=document.createElement("div");f.className="lf-selection-select",f.oncontextmenu=function(p){p.preventDefault()},f.style.top="".concat(r.startPoint.y,"px"),f.style.left="".concat(r.startPoint.x,"px"),n.appendChild(f),r.wrapper=f,document.addEventListener("mousemove",r.draw),document.addEventListener("mouseup",r.drawOff)}}})},e.prototype.setSelectionSense=function(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0),this.isWholeEdge=t,this.isWholeNode=n},e.prototype.openSelectionSelect=function(){var t=this.lf.getEditConfig().stopMoveGraph;t||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},e.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},e.prototype.open=function(){this.disabled=!1},e.prototype.close=function(){this.disabled=!0},e.pluginName="selectionSelect",e}();var vS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Va=function(){return Va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Va.apply(this,arguments)},Dl=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},RG={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function LG(e){for(var t=e,n=1;n<t.length-1;){var r=Dl(t[n-1],2),o=r[0],i=r[1],a=Dl(t[n],2),s=a[0],l=a[1],c=Dl(t[n+1],2),d=c[0],f=c[1];o===s&&s===d||i===l&&l===f?t.splice(n,1):n++}return t}function $G(e,t,n,r){var o=[e[0],e[1]],i=[e[0],e[1]];switch(n){case"tl":return t==="tr"?(o[1]+=r,i[0]+=r):t==="lb"&&(o[0]+=r,i[1]+=r),[o,i];case"tr":return t==="tl"?(o[1]+=r,i[0]-=r):t==="rb"&&(o[0]-=r,i[1]+=r),[o,i];case"bl":return t==="br"?(o[1]-=r,i[0]+=r):t==="lt"&&(o[0]+=r,i[1]-=r),[o,i];case"br":return t==="bl"?(o[1]-=r,i[0]-=r):t==="rt"&&(o[0]-=r,i[1]-=r),[o,i];default:return[]}}function BG(e,t,n,r){var o,i="",a="";e[0]===t[0]?i=e[1]>t[1]?"t":"b":e[1]===t[1]&&(i=e[0]>t[0]?"l":"r"),t[0]===n[0]?a=t[1]>n[1]?"t":"b":t[1]===n[1]&&(a=t[0]>n[0]?"l":"r");var s=Math.min(Math.hypot(t[0]-e[0],t[1]-e[1])/2,Math.hypot(n[0]-t[0],n[1]-t[1])/2,r)||1/5*r,l="".concat(i).concat(a),c=RG[l]||"-",d="L ".concat(e[0]," ").concat(e[1]);if(c==="-")d+="L ".concat(t[0]," ").concat(t[1]," L ").concat(n[0]," ").concat(n[1]);else{var f=Dl($G(t,l,c,s),2),h=f[0],p=f[1];h&&p&&(d+="L ".concat(h[0]," ").concat(h[1]," Q ").concat(t[0]," ").concat(t[1]," ").concat(p[0]," ").concat(p[1]),o=Dl(p,2),t[0]=o[0],t[1]=o[1])}return d}function IG(e,t){var n=0,r="";if(e.length===2)r+="M".concat(e[n][0]," ").concat(e[n++][1]," L ").concat(e[n][0]," ").concat(e[n][1]);else{for(r+="M".concat(e[n][0]," ").concat(e[n++][1]);n+1<e.length;){var o=e[n-1],i=e[n],a=e[n+++1];r+=BG(o,i,a,t)}r+="L ".concat(e[n][0]," ").concat(e[n][1])}return r}(function(e){vS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEdge=function(){var n=this.props.model,r=n.points,o=n.isAnimation,i=n.arrowConfig,a=n.radius,s=a===void 0?5:a,l=n.getEdgeStyle(),c=n.getEdgeAnimationStyle(),d=LG(r.split(" ").map(function(p){return p.split(",").map(function(v){return+v})})),f=IG(d,s),h=Va(Va(Va({style:o?c:{}},l),i),{fill:"none"});return U("path",Va({d:f},h))},t})(fs);(function(e){vS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(cs);var gS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cd=function(){return Cd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cd.apply(this,arguments)},Ub=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Yb=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},jG=function(e){gS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.id,o=n.x,i=n.y,a=n.width,s=n.height,l=n.properties,c=this.props.model.getNodeStyle();return U("svg",{x:o-a/2,y:i-s/2,width:50,height:24,style:"z-index: 0; background: none; overflow: auto;"},[l.labelText?U("text",{x:0,y:-5,fontSize:"16px",fill:c.stroke},l.labelText):"",l.disabledDelete?"":U("text",{x:l.labelText?50:0,y:-5,fontSize:"24px",cursor:"pointer",fill:c.stroke,onclick:this.handleCustomDeleteIconClick.bind(this,r)},"x")])},t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.id,l=this.props.model.getNodeStyle();return U("g",{},[U("rect",Cd(Cd({},l),{x:r-i/2,y:o-a/2,width:i,height:a,id:s})),this.getLabelShape()])},t.prototype.toFront=function(){},t.prototype.handleCustomDeleteIconClick=function(n){var r=this.props.graphModel;r.deleteNode(n)},t}(ad),VG=function(e){gS(t,e);function t(){var n=e.apply(this,Yb([],Ub(arguments),!1))||this;return n.d=10,n.isResize=!1,n}return t.prototype.initNodeData=function(n){n.text={value:"",x:n.x,y:n.y,draggable:!1,editable:!1},e.prototype.initNodeData.call(this,n),this.zIndex=0,this.draggable=!0},t.prototype.setAttributes=function(){var n=this,r;this.points=[],((r=this.properties)===null||r===void 0?void 0:r.node_selection_ids).length>1&&setTimeout(function(){var o;n.updatePointsByNodes(((o=n.properties)===null||o===void 0?void 0:o.node_selection_ids)||[])})},t.prototype.getNodeStyle=function(){var n=e.prototype.getNodeStyle.call(this);return n.stroke=this.properties.strokeColor||"#008000",n.strokeDasharray="10 5",n},t.prototype.getDefaultAnchor=function(){return[]},t.prototype.updatePoints=function(n){this.points=n},t.prototype.updateCoordinate=function(n){var r=n.x,o=n.y;this.x=r,this.y=o},t.prototype.updatePointsByNodes=function(n){var r=this,o=[],i=1/0,a=1/0,s=-1/0,l=-1/0;n.forEach(function(c){var d=r.graphModel.getNodeModelById(c);if(d){var f=d.width,h=d.height,p=d.x,v=d.y;i=Math.min(i,p-f/2-r.d),a=Math.min(a,v-h/2-r.d),s=Math.max(s,p+f/2+r.d),l=Math.max(l,v+h/2+r.d)}}),o.push([i,a],[s,a],[s,l],[i,l]),![i,a,s,l].some(function(c){return Math.abs(c)===1/0})&&(this.updatePoints(o),this.updateCoordinate({x:(s+i)/2,y:(l+a)/2}))},t.prototype.resize=function(n){var r;this.isResize=!0;for(var o=n.width,i=n.height,a={x:o/this.width,y:i/this.height},s=(this.properties.node_selection_ids||[]).slice(),l=[],c=new Set;s.length;){var d=s.shift(),f=(r=this.graphModel.nodesMap[d])===null||r===void 0?void 0:r.model;if(f){if(!Ec(f)){l.push(f);continue}c.has(f.id)||(c.add(f.id),s.push.apply(s,Yb([],Ub(f.properties.node_selection_ids||[]),!1)))}}var h={x:this.x-this.width/2,y:this.y-this.height/2},p=e.prototype.resize.call(this,n),v={x:this.x-this.width/2,y:this.y-this.height/2};return l.forEach(function(g){g.width=g.width*a.x,g.height=g.height*a.y;var m=(g.x-h.x)*a.x+v.x-g.x,y=(g.y-h.y)*a.y+v.y-g.y;g.move(m,y,!0)}),this.isResize=!1,p},t}(td),Tv="node-selection";(function(){function e(t){var n=t.lf;this.selectNodes=[],this.d=10,this.lf=n,n.register({type:Tv,view:jG,model:VG})}return Object.defineProperty(e.prototype,"selectNodesIds",{get:function(){return this.selectNodes.map(function(t){return t.id})},enumerable:!1,configurable:!0}),e.prototype.addNodeSelection=function(){var t=this.lf.addNode({type:"node-selection",text:"",properties:{node_selection_ids:this.selectNodesIds},x:0,y:0});t.updatePointsByNodes(this.selectNodesIds)},e.prototype.updateNodeSelection=function(){var t,n=this.getNodeSelection();n&&(this.lf.setProperties(n.id,{node_selection_ids:this.selectNodesIds}),(t=this.lf.getNodeModelById(n.id))===null||t===void 0||t.updatePointsByNodes(this.selectNodesIds))},e.prototype.getNodeSelection=function(){var t=this,n=this.selectNodesIds,r=this.lf.getGraphRawData(),o=n.filter(function(i){return i!==t.currentClickNode.id});return r.nodes.find(function(i){if(i.type==="node-selection"){var a=As(i,"properties.node_selection_ids",[]);return o.every(function(s){return a.includes(s)})}return!1})},e.prototype.onNodeChange=function(t,n){var r=t.graphModel.nodes.filter(function(o){if(!Ec(o))return!1;var i=o.properties.node_selection_ids||[];return i.includes(n.id)});Promise.resolve().then(function(){r.forEach(function(o){o.updatePointsByNodes(o.properties.node_selection_ids||[])})})},e.prototype.render=function(t){var n=this;this.lf=t,t.on("node:click",function(r){var o;if(!(!r.e.shiftKey||r.data.type===Tv)){n.currentClickNode=r.data;var i=!1;n.selectNodesIds.includes(r.data.id)&&((o=n.lf.getNodeModelById(r.data.id))===null||o===void 0||o.setSelected(!1),i=!0);var a=t.getSelectElements(!0).nodes;n.selectNodes=a,n.selectNodes.length===1?i?n.updateNodeSelection():n.addNodeSelection():n.selectNodes.length>1&&n.updateNodeSelection()}}),t.graphModel.addNodeMoveRules(function(r,o,i){if(n.onNodeChange(t,r),Ec(r)&&!r.isResize){var a=r.properties.node_selection_ids||[];return t.graphModel.moveNodes(a,o,i,!0),!0}return!0}),t.graphModel.addNodeResizeRules(function(r){return Ec(r)||n.onNodeChange(t,r),!0})},e.pluginName="node-selection",e})();var Ec=function(e){return!!(e&&e.type===Tv)},zG=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sd=function(){return Sd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Sd.apply(this,arguments)};(function(e){zG(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.properties;return U("text",{x:r-i/2+5,y:o-a/2+16,fontSize:12,fill:"blue"},s.moreText)},t.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=this.props.model.getNodeStyle();return U("g",{},[U("rect",Sd(Sd({},s),{fill:"#FFFFFF",x:r-i/2,y:o-a/2})),this.getLabelShape()])},t})(sa);const Ya=document.documentElement;let rp=Ya.querySelector("head");const Kb=document.createElement("style");let qb=!1,nl=!1,Cc="requestFullscreen",Sc="exitFullscreen",kl="fullscreenElement",Rl="fullscreenchange";function mS(e){return e instanceof HTMLElement?e:Ya}function Rs(){return qb?nl:(qb=!0,"webkitRequestFullScreen"in Ya?(Cc="webkitRequestFullScreen",Sc="webkitExitFullscreen",kl="webkitFullscreenElement",Rl="webkitfullscreenchange",nl=!0):"msRequestFullscreen"in Ya?(Cc="msRequestFullscreen",Sc="msExitFullscreen",kl="msFullscreenElement",Rl="MSFullscreenChange",nl=!0):"mozRequestFullScreen"in Ya?(Cc="mozRequestFullScreen",Sc="mozCancelFullScreen",kl="mozFullScreenElement",Rl="mozfullscreenchange",nl=!0):(console.error("当前浏览器不支持 Fullscreen API !"),nl=!1))}function FG(e,t){if(Rs())return mS(e)[Cc]()}function HG(){if(Rs())return Ya.contains(Kb)&&(rp==null||rp.removeChild(Kb)),document[Sc]()}function WG(e){return Rs()?mS(e)===document[kl]:!1}function GG(e,t){return Rs()?WG(e)?(HG(),!1):(FG(e),!0):!1}function XG(e){if(!Rs())return;const t=()=>{e(!!document[kl])};return window.addEventListener(Rl,t),()=>{window.removeEventListener(Rl,t)}}const UG={class:"lf-designer_toolbar"},YG={class:"button-list_column"},KG={style:{"text-align":"center",display:"inline-block",width:"40px"}},qG={class:"preview-model"},ZG=u.defineComponent({name:"LfToolbar",__name:"index",props:{lf:{type:Object,default:()=>{}},editable:{type:Boolean,default:!0},useSave:{type:Boolean,default:!1},useOpen:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},translatePrefix:{type:String,default:""},fileName:{type:String,default:"Process"}},setup(e,{expose:t}){const n=e,r=u.ref(!1),o=u.ref(!1),i=u.ref(!1),a=u.ref(!1),s=u.ref(1),l=u.ref(""),c=u.ref(""),d=u.ref(null),{t:f}=$d.useI18n();async function h(){}async function p($){var ie,be;const Y=YC($);(ie=n.lf)==null||ie.clearData(),(be=n.lf)==null||be.render(Y)}function v(){var $;($=d.value)==null||$.click()}function g(){if(d.value&&d.value.files){const $=d.value.files[0],Y=new FileReader;Y.readAsText($),Y.onload=function(){const ie=this.result;p(ie)},d.value.value="",d.value.files=null}}function m(){var $;($=n.lf)==null||$.getSnapshot(n.fileName,{fileType:"svg"})}function y(){var $;($=n.lf)==null||$.getSnapshot(n.fileName,{fileType:"png"})}async function _(){var $;try{o.value=!0;const Y=($=n.lf)==null?void 0:$.getGraphRawData();c.value=JSON.stringify(Y,null,2),l.value=UC(Y||{})}catch(Y){console.error(Y)}}const C=u.ref(!0);function x(){var $;($=n.lf)==null||$.zoom(!0)}function S(){var $;($=n.lf)==null||$.zoom(!1)}function b(){var $,Y;($=n.lf)==null||$.resetZoom(),(Y=n.lf)==null||Y.translateCenter()}function w($){var ie;const Y=(ie=n.lf)==null?void 0:ie.extension.miniMap;Y&&(Bd($)?C.value=!C.value:C.value=$,C.value?Y.show():Y.hide(),zv("minimap",C.value))}const T=u.ref(Rs()),k=u.ref(!1);function I(){GG(document.querySelector("#lf-designer__wrap")),b()}XG($=>{k.value=$});function X(){var $;i.value&&(($=n.lf)==null||$.undo())}function te(){var $;a.value&&(($=n.lf)==null||$.redo())}function E(){var $;($=n.lf)==null||$.clearData()}const P=u.ref(!1);function R(){if(n.lf){const $=n.lf,Y=$.extension.selectionSelect;Y.openSelectionSelect(),P.value=!0,$.once("selection:selected",()=>{Y.closeSelectionSelect(),P.value=!1})}}return u.watchEffect(()=>{var $,Y,ie,be,ne;($=n.lf)==null||$.on("history:change",({data:{undoAble:W,redoAble:fe}})=>{a.value=fe,i.value=W}),(Y=n.lf)==null||Y.on("graph:transform",({transform:W})=>{s.value=Math.round(W.SCALE_X*100)/100}),C.value=((ne=(be=(ie=n.lf)==null?void 0:ie.extension)==null?void 0:be.miniMap)==null?void 0:ne.isShow)||!1}),u.watchEffect(()=>{n.editable===!1&&w(!1)}),t({importXML:p,downloadProcessAsSvg:m,downloadProcessAsPng:y,zoomReset:b,toggleMinimap:w,toggleFullscreen:I}),($,Y)=>{const ie=Za,be=Qv,ne=fl,W=pl,fe=u.resolveComponent("highlightjs"),ye=gp;return u.openBlock(),u.createElementBlock("div",UG,[u.createVNode(ne,null,{default:u.withCtx(()=>[e.editable&&e.useSave?(u.openBlock(),u.createBlock(be,{key:0,position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}saveModel`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{loading:u.unref(r),secondary:"",onClick:h},{default:u.withCtx(()=>[u.createVNode(u.unref(xP),{name:"Save",size:16})]),_:1},8,["loading"])]),_:1})):u.createCommentVNode("",!0),e.editable&&e.useOpen?(u.openBlock(),u.createBlock(be,{key:1,position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}openFile`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{disabled:e.disabled,secondary:"",onClick:v},{default:u.withCtx(()=>[u.createVNode(u.unref(mP),{name:"Folder",size:16})]),_:1},8,["disabled"])]),_:1})):u.createCommentVNode("",!0),e.editable?(u.openBlock(),u.createBlock(be,{key:2,position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createElementVNode("div",YG,[u.createVNode(ie,{onClick:m},{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}exportAsSVG`)),1)]),_:1}),u.createVNode(ie,{onClick:y},{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}exportAsPNG`)),1)]),_:1})])]),default:u.withCtx(()=>[u.createVNode(ie,{secondary:""},{default:u.withCtx(()=>[u.createVNode(u.unref(pP),{name:"Download",size:16})]),_:1})]),_:1})):u.createCommentVNode("",!0),e.editable?(u.openBlock(),u.createBlock(be,{key:3,position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}previewAsXML`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{secondary:"",onClick:_},{default:u.withCtx(()=>[u.createVNode(u.unref(gP),{name:"Eye",size:16})]),_:1})]),_:1})):u.createCommentVNode("",!0)]),_:1}),u.createVNode(ne,null,{default:u.withCtx(()=>[u.createVNode(be,{position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}ZoomOut`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{onClick:Y[0]||(Y[0]=_e=>S())},{default:u.withCtx(()=>[u.createVNode(u.unref(NP),{size:16})]),_:1})]),_:1}),u.createVNode(be,{position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}ZoomReset`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{onClick:Y[1]||(Y[1]=_e=>b())},{default:u.withCtx(()=>[u.createElementVNode("span",KG,u.toDisplayString(`${Math.floor(u.unref(s)*10)*10}%`),1)]),_:1})]),_:1}),u.createVNode(be,{position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}ZoomIn`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{onClick:Y[2]||(Y[2]=_e=>x())},{default:u.withCtx(()=>[u.createVNode(u.unref(SP),{size:16})]),_:1})]),_:1}),e.editable?(u.openBlock(),u.createBlock(be,{key:0,position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(C)?u.unref(f)(`${e.translatePrefix}unableMinimap`):u.unref(f)(`${e.translatePrefix}enableMinimap`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{class:u.normalizeClass({"is-unable":!u.unref(C)}),onClick:Y[3]||(Y[3]=_e=>w())},{default:u.withCtx(()=>[u.createVNode(u.unref(bP),{size:16})]),_:1},8,["class"])]),_:1})):u.createCommentVNode("",!0),!e.editable&&u.unref(T)?(u.openBlock(),u.createBlock(be,{key:1,position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(k)?u.unref(f)(`${e.translatePrefix}notFullscreen`):u.unref(f)(`${e.translatePrefix}onFullscreen`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{class:u.normalizeClass({"is-unable":u.unref(k)}),onClick:Y[4]||(Y[4]=_e=>I())},{default:u.withCtx(()=>[u.createVNode(u.unref(yP),{name:"Fullscreen",size:16})]),_:1},8,["class"])]),_:1})):u.createCommentVNode("",!0)]),_:1}),e.editable?(u.openBlock(),u.createBlock(ne,{key:0,disabled:e.disabled},{default:u.withCtx(()=>[u.createVNode(be,{position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}Undo`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{disabled:!u.unref(i),onClick:X},{default:u.withCtx(()=>[u.createVNode(u.unref(CP),{size:16})]),_:1},8,["disabled"])]),_:1}),u.createVNode(be,{position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}Redo`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{disabled:!u.unref(a),onClick:te},{default:u.withCtx(()=>[u.createVNode(u.unref(wP),{size:16})]),_:1},8,["disabled"])]),_:1}),u.createVNode(be,{position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}Clear`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{onClick:E},{default:u.withCtx(()=>[u.createVNode(u.unref(vP),{size:16})]),_:1})]),_:1})]),_:1},8,["disabled"])):u.createCommentVNode("",!0),e.editable?(u.openBlock(),u.createBlock(W,{key:1},{default:u.withCtx(()=>[u.createVNode(be,{position:"bl","popup-container":"#lf-designer__wrap"},{content:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(f)(`${e.translatePrefix}Select`)),1)]),default:u.withCtx(()=>[u.createVNode(ie,{class:u.normalizeClass({"on-using":u.unref(P)}),onClick:Y[5]||(Y[5]=_e=>R())},{default:u.withCtx(()=>[u.createVNode(u.unref(EP),{size:16})]),_:1},8,["class"])]),_:1})]),_:1})):u.createCommentVNode("",!0),u.renderSlot($.$slots,"default"),u.createElementVNode("input",{ref_key:"importRef",ref:d,type:"file",style:{display:"none"},accept:".xml,.bpmn",onChange:g},null,544),u.createVNode(ye,{visible:u.unref(o),"onUpdate:visible":Y[6]||(Y[6]=_e=>u.isRef(o)?o.value=_e:null),footer:!1,title:u.unref(f)(`${e.translatePrefix}previewAs`),width:"64vw"},{default:u.withCtx(()=>[u.createElementVNode("div",qG,[u.createVNode(fe,{language:"json",code:u.unref(c)},null,8,["code"])])]),_:1},8,["visible","title"])])}}}),ft=u.defineComponent({name:"PopoverNode",__name:"PopoverNode",props:{title:{type:String,default:void 0},nodeCls:{type:String,default:"node-item"},text:{type:String,default:""}},emits:["mousedown"],setup(e){return(t,n)=>{const r=Qv;return u.openBlock(),u.createBlock(r,{title:e.title},{content:u.withCtx(()=>[u.createElementVNode("span",null,u.toDisplayString(e.text),1)]),default:u.withCtx(()=>[u.createElementVNode("div",{class:u.normalizeClass(e.nodeCls),onMousedown:n[0]||(n[0]=o=>t.$emit("mousedown"))},[u.renderSlot(t.$slots,"default")],34)]),_:3},8,["title"])}}}),JG={class:"lf-designer_palette"},QG={class:"node-category"},eX={class:"node-category"},tX=u.defineComponent({name:"LfPalette",__name:"index",props:{translatePrefix:{type:String,default:""}},emits:["dragInNode"],setup(e,{emit:t}){const n=t,{t:r}=$d.useI18n();function o(i){n("dragInNode",i)}return(i,a)=>{const s=u.resolveComponent("icon-circle"),l=u.resolveComponent("icon-rect"),c=u.resolveComponent("icon-rect-radius"),d=u.resolveComponent("icon-rect-round"),f=u.resolveComponent("icon-triangle"),h=u.resolveComponent("icon-ellipse"),p=u.resolveComponent("icon-diamond"),v=u.resolveComponent("icon-cylinder"),g=u.resolveComponent("icon-actor"),m=u.resolveComponent("icon-parallelogram"),y=u.resolveComponent("icon-text"),_=u.resolveComponent("icon-pentagon"),C=u.resolveComponent("icon-hexagon"),x=u.resolveComponent("icon-heptagon"),S=u.resolveComponent("icon-octagon"),b=u.resolveComponent("icon-trapezoid"),w=u.resolveComponent("icon-right-angled-pentagon"),T=u.resolveComponent("icon-addition"),k=u.resolveComponent("icon-subtraction"),I=u.resolveComponent("icon-multiplication"),X=u.resolveComponent("icon-division"),te=u.resolveComponent("icon-document"),E=u.resolveComponent("icon-callout"),P=u.resolveComponent("icon-archimate-event"),R=u.resolveComponent("icon-note"),$=u.resolveComponent("icon-group"),Y=u.resolveComponent("icon-divide-dashed-line"),ie=u.resolveComponent("icon-divide-line"),be=u.resolveComponent("icon-vertical-split-rect"),ne=u.resolveComponent("icon-vertical-multi-split-rect"),W=u.resolveComponent("icon-horizontal-multi-split-rect"),fe=vl,ye=u.resolveComponent("icon-left-arrow"),_e=u.resolveComponent("icon-right-arrow"),Se=u.resolveComponent("icon-up-arrow"),L=u.resolveComponent("icon-down-arrow"),J=u.resolveComponent("icon-horizontal-arrow"),q=u.resolveComponent("icon-vertical-arrow"),de=u.resolveComponent("icon-right-hollow-arrow"),pe=q1;return u.openBlock(),u.createElementBlock("div",JG,[u.createVNode(pe,{"default-active-key":["General","Arrow"],"expand-icon-position":"right"},{default:u.withCtx(()=>[u.createVNode(fe,{key:"General",header:u.unref(r)(`${e.translatePrefix}General`)},{default:u.withCtx(()=>[u.createElementVNode("div",QG,[u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}circle`),onMousedown:a[0]||(a[0]=ue=>o("pro-circle"))},{default:u.withCtx(()=>[u.createVNode(s,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}rect`),onMousedown:a[1]||(a[1]=ue=>o("pro-rect"))},{default:u.withCtx(()=>[u.createVNode(l,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}rect-radius`),onMousedown:a[2]||(a[2]=ue=>o("rect-radius"))},{default:u.withCtx(()=>[u.createVNode(c,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}rect-round`),onMousedown:a[3]||(a[3]=ue=>o("rect-round"))},{default:u.withCtx(()=>[u.createVNode(d,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}triangle`),onMousedown:a[4]||(a[4]=ue=>o("triangle"))},{default:u.withCtx(()=>[u.createVNode(f,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}ellipse`),onMousedown:a[5]||(a[5]=ue=>o("pro-ellipse"))},{default:u.withCtx(()=>[u.createVNode(h,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}diamond`),onMousedown:a[6]||(a[6]=ue=>o("pro-diamond"))},{default:u.withCtx(()=>[u.createVNode(p,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}cylinder`),onMousedown:a[7]||(a[7]=ue=>o("cylinder"))},{default:u.withCtx(()=>[u.createVNode(v,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}actor`),onMousedown:a[8]||(a[8]=ue=>o("actor"))},{default:u.withCtx(()=>[u.createVNode(g,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}parallelogram`),onMousedown:a[9]||(a[9]=ue=>o("parallelogram"))},{default:u.withCtx(()=>[u.createVNode(m,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}text-node`),onMousedown:a[10]||(a[10]=ue=>o("pro-text"))},{default:u.withCtx(()=>[u.createVNode(y,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}pentagon`),onMousedown:a[11]||(a[11]=ue=>o("pentagon"))},{default:u.withCtx(()=>[u.createVNode(_,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}hexagon`),onMousedown:a[12]||(a[12]=ue=>o("hexagon"))},{default:u.withCtx(()=>[u.createVNode(C,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}heptagon`),onMousedown:a[13]||(a[13]=ue=>o("heptagon"))},{default:u.withCtx(()=>[u.createVNode(x,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}octagon`),onMousedown:a[14]||(a[14]=ue=>o("octagon"))},{default:u.withCtx(()=>[u.createVNode(S,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}trapezoid`),onMousedown:a[15]||(a[15]=ue=>o("trapezoid"))},{default:u.withCtx(()=>[u.createVNode(b,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}right-angled-pentagon`),onMousedown:a[16]||(a[16]=ue=>o("right-angled-pentagon"))},{default:u.withCtx(()=>[u.createVNode(w,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}addition`),onMousedown:a[17]||(a[17]=ue=>o("addition"))},{default:u.withCtx(()=>[u.createVNode(T,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}subtraction`),onMousedown:a[18]||(a[18]=ue=>o("subtraction"))},{default:u.withCtx(()=>[u.createVNode(k,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}multiplication`),onMousedown:a[19]||(a[19]=ue=>o("multiplication"))},{default:u.withCtx(()=>[u.createVNode(I,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}division`),onMousedown:a[20]||(a[20]=ue=>o("division"))},{default:u.withCtx(()=>[u.createVNode(X,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}document`),onMousedown:a[21]||(a[21]=ue=>o("document"))},{default:u.withCtx(()=>[u.createVNode(te,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}callout`),onMousedown:a[22]||(a[22]=ue=>o("callout"))},{default:u.withCtx(()=>[u.createVNode(E,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}archimate-event`),onMousedown:a[23]||(a[23]=ue=>o("archimate-event"))},{default:u.withCtx(()=>[u.createVNode(P,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}note`),onMousedown:a[24]||(a[24]=ue=>o("note"))},{default:u.withCtx(()=>[u.createVNode(R,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}group`),onMousedown:a[25]||(a[25]=ue=>o("pro-group"))},{default:u.withCtx(()=>[u.createVNode($,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}divide-dashed-line`),onMousedown:a[26]||(a[26]=ue=>o("divide-dashed-line"))},{default:u.withCtx(()=>[u.createVNode(Y,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}divide-line`),onMousedown:a[27]||(a[27]=ue=>o("divide-line"))},{default:u.withCtx(()=>[u.createVNode(ie,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}vertical-split-rect`),onMousedown:a[28]||(a[28]=ue=>o("vertical-split-rect"))},{default:u.withCtx(()=>[u.createVNode(be,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}vertical-multi-split-rect`),onMousedown:a[29]||(a[29]=ue=>o("vertical-multi-split-rect"))},{default:u.withCtx(()=>[u.createVNode(ne,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}horizontal-multi-split-rect`),onMousedown:a[30]||(a[30]=ue=>o("horizontal-multi-split-rect"))},{default:u.withCtx(()=>[u.createVNode(W,{class:"svg-node"})]),_:1},8,["text"])])]),_:1},8,["header"]),u.createVNode(fe,{key:"Arrow",header:u.unref(r)(`${e.translatePrefix}Arrow`)},{default:u.withCtx(()=>[u.createElementVNode("div",eX,[u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}left-arrow`),onMousedown:a[31]||(a[31]=ue=>o("left-arrow"))},{default:u.withCtx(()=>[u.createVNode(ye,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}right-arrow`),onMousedown:a[32]||(a[32]=ue=>o("right-arrow"))},{default:u.withCtx(()=>[u.createVNode(_e,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}up-arrow`),onMousedown:a[33]||(a[33]=ue=>o("up-arrow"))},{default:u.withCtx(()=>[u.createVNode(Se,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}down-arrow`),onMousedown:a[34]||(a[34]=ue=>o("down-arrow"))},{default:u.withCtx(()=>[u.createVNode(L,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}horizontal-arrow`),onMousedown:a[35]||(a[35]=ue=>o("horizontal-arrow"))},{default:u.withCtx(()=>[u.createVNode(J,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}vertical-arrow`),onMousedown:a[36]||(a[36]=ue=>o("vertical-arrow"))},{default:u.withCtx(()=>[u.createVNode(q,{class:"svg-node"})]),_:1},8,["text"]),u.createVNode(ft,{text:u.unref(r)(`${e.translatePrefix}hollow-arrow`),onMousedown:a[37]||(a[37]=ue=>o("hollow-arrow"))},{default:u.withCtx(()=>[u.createVNode(de,{class:"svg-node"})]),_:1},8,["text"])])]),_:1},8,["header"])]),_:1})])}}});function $t(e,t){return t.backgroundColor&&(e.fill=t.backgroundColor),t.gradientColor&&e.fill!==t.gradientColor&&(e.fillGradient=t.gradientColor),t.borderColor&&(e.stroke=t.borderColor),t.borderWidth&&(e.strokeWidth=t.borderWidth),t.borderStyle&&(t.borderStyle==="solid"&&(e.strokeDashArray="0",e.strokeDasharray="0"),t.borderStyle==="dashed"&&(e.strokeDashArray="3 3",e.strokeDasharray="3 3"),t.borderStyle==="dotted"&&(e.strokeDashArray="1 1",e.strokeDasharray="1 1"),t.borderStyle==="hidden"&&(e.stroke=e.fill)),e}function Ft(e={},t){return t.fontColor&&(e.color=t.fontColor),t.fontSize&&(e.fontSize=t.fontSize),t.fontFamily&&(e.fontFamily=t.fontFamily),t.lineHeight&&(e.lineHeight=t.lineHeight),t.textAlign&&(e.textAlign=t.textAlign),t.fontWeight&&(e.fontWeight=t.fontWeight),t.textDecoration&&(e.textDecoration=t.textDecoration),t.fontStyle&&(e.fontStyle=t.fontStyle),e}class nX extends gv{}class rX extends ov{getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return n.backgroundColor&&(t.backgroundStyle={fill:n.backgroundColor}),Ft(t,n)}setAttributes(){super.setAttributes(),this.text.value||(this.text.value="text")}}const oX={type:"pro-text",view:nX,model:rX};let iX=class extends cs{constructor(t,n){super(t,n),this.strokeWidth=1}getTextStyle(){const t=super.getTextStyle();return Ft(t,this.properties)}getEdgeStyle(){const t=super.getEdgeStyle(),n=this.properties;return{...$t(t,n),fill:"none"}}};const aX={type:"pro-polyline",view:fs,model:iX};let sX=class extends tv{constructor(t,n){super(t,n),this.strokeWidth=1}getTextStyle(){const t=super.getTextStyle();return Ft(t,this.properties)}getEdgeStyle(){const t=super.getEdgeStyle(),n=this.properties;return{...$t(t,n),fill:"none"}}};const lX={type:"pro-line",view:Ev,model:sX};class uX extends ev{constructor(t,n){super(t,n),this.strokeWidth=1}getTextStyle(){const t=super.getTextStyle();return Ft(t,this.properties)}getEdgeStyle(){const t=super.getEdgeStyle(),n=this.properties;return{...$t(t,n),fill:"none"}}}const cX={type:"pro-bezier",view:wv,model:uX};class dX extends Mo.model{initNodeData(t){super.initNodeData(t),this.width=60,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class fX extends Mo.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a={...i,cx:t,cy:n-1/3*o,rx:1/2*r,ry:1/6*o,width:r,height:o},s={...i,d:`M ${t-1/2*r} ${n-1/3*o} L ${t-1/2*r} ${n+1/3*o}`},l={...i,d:`M ${t+1/2*r} ${n-1/3*o} L ${t+1/2*r} ${n+1/3*o}`},c={...i,cx:t,cy:n+1/3*o,rx:1/2*r,ry:1/6*o,width:r,height:o},d={...i,x:t-1/2*r,y:n-1/3*o,width:r,height:2/3*o,stroke:"transparent"};return U("g",{},[U("ellipse",{...c}),U("rect",{...d}),U("path",{...s}),U("path",{...l}),U("ellipse",{...a})])}}const hX={type:"cylinder",model:dX,view:fX};class pX extends Mo.model{initNodeData(t){super.initNodeData(t),this.width=40,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class vX extends Mo.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a={...i,cx:t,cy:n-3/8*o,rx:1/4*r,ry:1/8*o,width:r,height:o},s={...i,d:`M ${t-1/2*r} ${n-1/8*o} L ${t+1/2*r} ${n-1/8*o}`},l={...i,d:`M ${t} ${n-1/4*o} L ${t} ${n+1/5*o}`},c={...i,d:`M ${t} ${n+1/5*o} L ${t-1/2*r} ${n+1/2*o}`},d={...i,d:`M ${t} ${n+1/5*o} L ${t+1/2*r} ${n+1/2*o}`},f={x:t-1/5*r,y:n-1/2*o,width:2/5*r,height:o,style:"fill: transparent"};return U("g",{},[U("ellipse",{...a}),U("path",{...s}),U("path",{...l}),U("path",{...c}),U("path",{...d}),U("rect",{...f})])}}const gX={type:"actor",view:vX,model:pX};class mX extends Mo.model{setToBottom(){this.zIndex=0}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}const ke={type:"pro-rect",view:Mo.view,model:mX};class yX extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}}class _X extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a={x:t-1/2*r,y:n-1/2*o,width:r,height:o},s={...i,d:"m0.36922,13.46587l12.98695,0l4.01307,-13.36885l4.01307,13.36885l12.98694,0l-10.50664,8.26231l4.01327,13.36885l-10.50665,-8.26253l-10.50664,8.26253l4.01327,-13.36885l-10.50665,-8.26231l0,0z"};return U("svg",{...a,viewBox:"0 0 37 37"},[U("path",{...s})])}}const bX={type:"star",view:_X,model:yX};class wX extends ZC.model{constructor(t,n){super(t,n),this.rx=40,this.ry=40}initNodeData(t){super.initNodeData(t)}setToBottom(){this.zIndex=0}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}const wm={type:"pro-circle",view:ZC.view,model:wX};class xX extends ke.model{setAttributes(){super.setAttributes(),this.radius=this.height/2}}const EX={type:"rect-round",view:ke.view,model:xX};class CX extends ke.model{setAttributes(){super.setAttributes(),this.radius=20}}const SX={type:"rect-radius",view:ke.view,model:CX};class NX extends wm.model{constructor(t,n){super(t,n),this.rx=60,this.ry=30}initNodeData(t){super.initNodeData(t)}getNodeStyle(){return{...super.getNodeStyle()}}}const OX={type:"pro-ellipse",view:wm.view,model:NX};class AX extends QC.model{initNodeData(t){super.initNodeData(t),this.rx=30,this.ry=30}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}setToBottom(){this.zIndex=0}}const MX={type:"pro-diamond",view:QC.view,model:AX};class TX extends Mo.model{getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class PX extends Mo.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,a={...this.props.model.getNodeStyle(),x:t,y:n,width:r,height:o,points:[[t-r/2,n+o/2],[t-r/2,n-o/2],[t+r/2,n]]};return U("g",{},[U("polygon",{...a})])}}const DX={type:"triangle",view:PX,model:TX};class kX extends Mo.model{initNodeData(t){super.initNodeData(t),this.width=100,this.height=60}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class RX extends Mo.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-r/2,n+o/2],[t-r/5,n-o/2],[t+r/2,n-o/2],[t+r/5,n+o/2]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const LX={type:"parallelogram",view:RX,model:kX};class $X extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class BX extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-1/2*r,n-1/6*o],[t-1/6*r,n-1/6*o],[t-1/6*r,n-1/2*o],[t+1/6*r,n-1/2*o],[t+1/6*r,n-1/6*o],[t+1/2*r,n-1/6*o],[t+1/2*r,n+1/6*o],[t+1/6*r,n+1/6*o],[t+1/6*r,n+1/2*o],[t-1/6*r,n+1/2*o],[t-1/6*r,n+1/6*o],[t-1/2*r,n+1/6*o]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const IX={type:"addition",view:BX,model:$X};class jX extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=20}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class VX extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-1/2*r,n-1/2*o],[t+1/2*r,n-1/2*o],[t+1/2*r,n+1/2*o],[t-1/2*r,n+1/2*o]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const zX={type:"subtraction",view:VX,model:jX};class FX extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class HX extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-1/2*r,n-1/3*o],[t-1/3*r,n-1/2*o],[t,n-1/6*o],[t+1/3*r,n-1/2*o],[t+1/2*r,n-1/3*o],[t+1/6*r,n],[t+1/2*r,n+1/3*o],[t+1/3*r,n+1/2*o],[t,n+1/6*o],[t-1/3*r,n+1/2*o],[t-1/2*r,n+1/3*o],[t-1/6*r,n]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const WX={type:"multiplication",view:HX,model:FX};class GX extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class XX extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-1/2*r,n-1/8*o],[t+1/2*r,n-1/8*o],[t+1/2*r,n+1/8*o],[t-1/2*r,n+1/8*o]].map(h=>`${h[0]},${h[1]}`),l={...i,x:t,y:n,width:r,height:o},c={...l,points:s.join(" ")},d={...l,cy:n-3/8*o,cx:t,rx:1/8*r,ry:1/8*o},f={...l,cy:n+3/8*o,cx:t,rx:1/8*r,ry:1/8*o};return U("g",{},[U("polygon",{...c}),U("ellipse",{...d}),U("ellipse",{...f})])}}const UX={type:"division",view:XX,model:GX};class YX extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=50}}class KX extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=1/3*o,s=t-1/2*r,l=t-1/5*r,c=t+1/2*r,d={...i,x:t,y:n,width:r,height:o,points:[[l,n-1/2*a],[l,n-1/2*o],[s,n],[l,n+1/2*o],[l,n+1/2*a],[c,n+1/2*a],[c,n-1/2*a]]};return U("g",{},[U("polygon",{...d})])}}const qX={type:"left-arrow",view:KX,model:YX};class ZX extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=50}}class JX extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=1/3*o,s=t-1/2*r,l=t+1/2*r,c=t+1/5*r,d={...i,x:t,y:n,width:r,height:o,points:[[c,n-1/2*a],[c,n-1/2*o],[l,n],[c,n+1/2*o],[c,n+1/2*a],[s,n+1/2*a],[s,n-1/2*a]]};return U("g",{},[U("polygon",{...d})])}}const QX={type:"right-arrow",view:JX,model:ZX};class eU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=40}}class tU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=1/3*o,s=t-1/2*r,l=t-1/5*r,c=t+1/2*r,d=t+1/5*r,f={...i,x:t,y:n,width:r,height:o,points:[[d,n-1/2*a],[d,n-1/2*o],[c,n],[d,n+1/2*o],[d,n+1/2*a],[l,n+1/2*a],[l,n+1/2*o],[s,n],[l,n-1/2*o],[l,n-1/2*a]]};return U("g",{},[U("polygon",{...f})])}}const nU={type:"horizontal-arrow",view:tU,model:eU};class rU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=50,this.height=80}}class oU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=1/3*r,s=n-1/2*o,l=n-1/5*o,c=n+1/2*o,d={...i,x:t,y:n,width:r,height:o,points:[[t-1/2*a,l],[t-1/2*r,l],[t,s],[t+1/2*r,l],[t+1/2*a,l],[t+1/2*a,c],[t-1/2*a,c]]};return U("g",{},[U("polygon",{...d})])}}const iU={type:"up-arrow",view:oU,model:rU};class aU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=50,this.height=80}}class sU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=1/3*r,s=n-1/2*o,l=n+1/2*o,c=n+1/5*o,d={...i,x:t,y:n,width:r,height:o,points:[[t-1/2*a,c],[t-1/2*r,c],[t,l],[t+1/2*r,c],[t+1/2*a,c],[t+1/2*a,s],[t-1/2*a,s]]};return U("g",{},[U("polygon",{...d})])}}const lU={type:"down-arrow",view:sU,model:aU};class uU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=40,this.height=80}}class cU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=1/3*r,s=n-1/2*o,l=n-1/5*o,c=n+1/2*o,d=n+1/5*o,f={...i,x:t,y:n,width:r,height:o,points:[[t-1/2*a,l],[t-1/2*r,l],[t,s],[t+1/2*r,l],[t+1/2*a,l],[t+1/2*a,d],[t+1/2*r,d],[t,c],[t-1/2*r,d],[t-1/2*a,d]]};return U("g",{},[U("polygon",{...f})])}}const dU={type:"vertical-arrow",view:cU,model:uU};class fU extends ke.model{constructor(t,n){super(t,n),this.setProperty("attributes",["arrowLen"])}initNodeData(t){super.initNodeData(t),this.width=100,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class hU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,strokeWidth:i=1,arrowLen:a=20}=this.props.model,s=i/2,l=t-r/2,c=n-o/2,d=this.props.model.getNodeStyle(),h=[[l-s,c-s],[l+r-a,c-s],[l+r,c+.5*o],[l+r-a,c+o-s],[l-s,c+o-s],[l+a,c+.5*o]].map(v=>`${v[0]},${v[1]}`),p={...d,x:t,y:n,width:r,height:o,points:h.join(" ")};return U("g",{},[U("polygon",{...p})])}}const pU={type:"hollow-arrow",view:hU,model:fU};class vU extends ke.view{getImageHref(){return""}getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=this.getImageHref(),s={x:t-1/2*r+5,y:n-1/2*o+5,width:25,height:18,href:a,preserveAspectRatio:"none meet"},l={...i,strokeWidth:1,rx:5,ry:5,x:t-1/2*r,y:n-1/2*o,width:r,height:o};return U("g",{},[U("rect",{...l}),U("image",{...s})])}}const yS={type:"image-node",view:vU,model:ke.model};class gU extends yS.view{getImageHref(){return"https://dpubstatic.udache.com/static/dpubimg/1TZgBoaq8G/message.png"}}const mU={type:"icon-message",view:gU,model:yS.model};class yU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=60,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class _U extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,strokeWidth:i=1,markerSize:a=20}=this.props.model,s=i/2,l=t-r/2,c=n-o/2,d=this.props.model.getNodeStyle(),h=[[l+s,c-s],[l+s+r-a,c-s],[l+r-s,c+a],[l+r-s,c+o-s],[l+s,c+o-s]].map(y=>`${y[0]},${y[1]}`),p={...d,x:t,y:n,width:r,height:o,points:h.join(" ")},g=[[l+s+r-a,c-s],[l+r-s,c+a],[l+r-a,c+a]].map(y=>`${y[0]},${y[1]}`),m={...d,x:t,y:n,width:r,height:o,points:g.join(" ")};return U("g",{},[U("polygon",{...p}),U("polygon",{...m})])}}const bU={type:"note",view:_U,model:yU};class wU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=100,this.height=80,this.minWidth=40}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class xU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=t-r/2,a=n-o/2,s=this.props.model.getNodeStyle(),l=r/6,c=a+o-.15*r,d=i+r/2,f=[`M ${i} ${a}`,`L ${i+r} ${a}`,`L ${i+r} ${c}`,`C ${i+r-l} ${c-l}`,`${d+l} ${c-l}`,`${d} ${c}`,`C ${d-l} ${c+l}`,`${i+l} ${c+l}`,`${i} ${c}`],h={...s,x:t,y:n,width:r,height:o,d:`${f.join(" ")} Z`};return U("g",{},[U("path",{...h})])}}const EU={type:"document",view:xU,model:wU};class CU extends ke.model{constructor(t,n){super(t,n),this.setProperty("attributes",["arrowLen"])}initNodeData(t){super.initNodeData(t),this.width=100,this.height=60,this.minWidth=40}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class SU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,arrowLen:i=20}=this.props.model,a=t-r/2,s=n-o/2,l=this.props.model.getNodeStyle(),c=[`M ${a} ${s}`,`L ${a+r-o/2} ${s}`,`C ${a+r+.15*o} ${s}`,`${a+r+.15*o} ${s+o}`,`${a+r-o/2} ${s+o}`,`L ${a} ${s+o}`,`L ${a+i} ${s+o/2}`],d={...l,x:t,y:n,width:r,height:o,d:`${c.join(" ")} Z`};return U("g",{},[U("path",{...d})])}}const NU={type:"archimate-event",view:SU,model:CU};class OU extends ke.model{constructor(t,n){super(t,n),this.setProperty("attributes",["arrowLen"])}initNodeData(t){super.initNodeData(t),this.width=100,this.height=100,this.minWidth=40}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class AU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,arrowLen:i=20,arrowWidth:a=20}=this.props.model,s=t-r/2,l=n-o/2,c=this.props.model.getNodeStyle(),d=l+o-i,f=[`M ${s} ${l}`,`L ${s+r} ${l}`,`${s+r} ${d}`,`${s+r/2+a} ${d}`,`${s+r/2} ${l+o}`,`${s+r/2} ${d}`,`${s} ${d}`],h={...c,x:t,y:n,width:r,height:o,d:`${f.join(" ")} Z`};return U("g",{},[U("path",{...h})])}}const MU={type:"callout",view:AU,model:OU};class TU extends _a.model{initNodeData(t){super.initNodeData(t),this.isRestrict=!1,this.resizable=!0,this.foldable=!0,this.width=240,this.height=120,this.foldedWidth=40,this.foldedHeight=30}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}}const PU={type:"pro-group",model:TU,view:_a.view};class DU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=100,this.height=2,this.minHeight=1}getDefaultAnchor(){return[]}}class kU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=t-r/2,a=this.props.model.getNodeStyle(),s=[`M ${i} ${n}`,`L ${i+r} ${n}`],l={...a,x:t,y:n,width:r,strokeWidth:o,d:`${s.join(" ")} Z`};return U("g",{},[U("path",{...l})])}}const RU={type:"divide-line",model:DU,view:kU};class LU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=100,this.height=2,this.minHeight=1}getDefaultAnchor(){return[]}}class $U extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,dasharray:i=4}=this.props.model,a=t-r/2,l={...this.props.model.getNodeStyle(),x1:a,y1:n,x2:a+r,y2:n,width:r,strokeDasharray:i,strokeWidth:o};return U("g",{},[U("line",{...l})])}}const BU={type:"divide-dashed-line",model:LU,view:$U};class IU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=100,this.height=80}}class jU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),a=t-r/2,s=n-o/2,c=[[t,s],[a+r,n],[a+r,s+o],[a,s+o],[a,n]].map(f=>`${f[0]},${f[1]}`),d={...i,centerX:t,centerY:n,width:r,height:o,points:c.join(" ")};return U("g",{},[U("polygon",{...d})])}}const VU={type:"right-angled-pentagon",view:jU,model:IU};class zU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class FU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-.31*r,n-.5*o],[t+.31*r,n-.5*o],[t+.5*r,n+.5*o],[t-.5*r,n+.5*o]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const HU={type:"trapezoid",view:FU,model:zU};class WU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class GU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-.205*r,n-.5*o],[t+.205*r,n-.5*o],[t+.5*r,n-.205*o],[t+.5*r,n+.205*o],[t+.205*r,n+.5*o],[t-.205*r,n+.5*o],[t-.5*r,n+.205*o],[t-.5*r,n-.205*o]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const XU={type:"octagon",view:GU,model:WU};class UU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class YU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t,n-.5*o],[t+.395*r,n-.3*o],[t+.5*r,n+.145*o],[t+.225*r,n+.5*o],[t-.225*r,n+.5*o],[t-.5*r,n+.145*o],[t-.395*r,n-.3*o]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const KU={type:"heptagon",view:YU,model:UU};class qU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class ZU extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-.28*r,n-.5*o],[t+.28*r,n-.5*o],[t+.5*r,n],[t+.28*r,n+.5*o],[t-.28*r,n+.5*o],[t-.5*r,n]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const JU={type:"hexagon",view:ZU,model:qU};class QU extends ke.model{initNodeData(t){super.initNodeData(t),this.width=80,this.height=80}getNodeStyle(){const t=super.getNodeStyle(),n=this.getProperties();return $t(t,n)}getTextStyle(){const t=super.getTextStyle(),n=this.getProperties();return Ft(t,n)}}class eY extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o}=this.props.model,i=this.props.model.getNodeStyle(),s=[[t-.5*r,n],[t,n-.5*o],[t+.5*r,n],[t+.3*r,n+.5*o],[t-.3*r,n+.5*o]].map(c=>`${c[0]},${c[1]}`),l={...i,x:t,y:n,width:r,height:o,points:s.join(" ")};return U("g",{},[U("polygon",{...l})])}}const tY={type:"pentagon",view:eY,model:QU};class nY extends ke.model{constructor(t,n){super(t,n),this.setProperty("attributes",["splitGap"]),this.setProperty("splitGap",30)}initNodeData(t){super.initNodeData(t)}}class rY extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,properties:i}=this.props.model,a=this.props.model.getNodeStyle(),s=i.splitGap,l=t-r/2,c=n-o/2,d={...a,x:l,y:c,width:r,height:o},f={...a,d:`M ${l} ${c+s} L ${l+r} ${c+s}`};return U("g",{},[U("rect",d),U("path",f)])}}const oY={type:"vertical-split-rect",model:nY,view:rY};class iY extends ke.model{constructor(t,n){super(t,n),this.setProperty("attributes",["splitGap"]),this.setProperty("splitGap",30)}initNodeData(t){super.initNodeData(t)}}class aY extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,properties:i}=this.props.model,a=this.props.model.getNodeStyle(),s=i.splitGap,l=t-r/2,c=n-o/2,d={...a,x:l,y:c,width:r,height:o},f={...a,d:`M ${l+s} ${c} L ${l+s} ${c+o}`};return U("g",{},[U("rect",d),U("path",f)])}}const sY={type:"horizontal-split-rect",model:iY,view:aY};class lY extends ke.model{constructor(t,n){super(t,n),this.setProperty("attributes",["splitGaps"]),this.setProperty("splitGaps",[30,30])}initNodeData(t){super.initNodeData(t),this.minHeight=60}}class uY extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,properties:i}=this.props.model,a=this.props.model.getNodeStyle(),s=i.splitGaps||[],[l=30,c=30]=s,d=t-r/2,f=n-o/2,h=n+o/2,p={...a,x:d,y:f,width:r,height:o},v={...a,d:`M ${d} ${f+l} L ${d+r} ${f+l}`},g={...a,d:`M ${d} ${h-c} L ${d+r} ${h-c}`};return U("g",{},[U("rect",p),U("path",v),U("path",g)])}}const cY={type:"vertical-multi-split-rect",model:lY,view:uY};class dY extends ke.model{constructor(t,n){super(t,n),this.setProperty("attributes",["splitGap"]),this.setProperty("splitGap",30)}initNodeData(t){super.initNodeData(t)}}class fY extends ke.view{getResizeShape(){const{x:t,y:n,width:r,height:o,properties:i}=this.props.model,a=this.props.model.getNodeStyle(),s=i.splitGaps||[],[l=30,c=30]=s,d=t-r/2,f=t+r/2,h=n-o/2,p={...a,x:d,y:h,width:r,height:o},v={...a,d:`M ${d+l} ${h} L ${d+l} ${h+o}`},g={...a,d:`M ${f-c} ${h} L ${f-c} ${h+o}`};return U("g",{},[U("rect",p),U("path",v),U("path",g)])}}const hY={type:"horizontal-multi-split-rect",model:dY,view:fY},ic={width:312,height:72};function ac(e){return{height:e?10:7,width:20,strokeWidth:1,fill:"#fff",stroke:"#000"}}class pY extends _a.model{initNodeData(t){super.initNodeData(t),t.width&&(this.width=t.width),t.height&&(this.height=t.height),this.collapsible=!1,this.draggable=!1,this.resizable=!0,this.zIndex=1}changeAttribute({width:t,height:n,x:r,y:o,parentModel:i}){t&&(this.width=t),n&&(this.height=n),r&&(this.x=r),o&&(this.y=o),i&&(this.parentModel=i)}}class vY extends _a.view{getOperateIcon(){const{model:t}=this.props;return t.isSelected?U("g",{},[this.addAboveIcon(),this.addBelowIcon(),this.deleteIcon()]):null}addAboveIcon(){const{x:t,y:n,width:r,height:o,parentModel:i}=this.props.model;return U("g",{cursor:"pointer",onClick:()=>{i&&i.addChildAbove({x:t,y:n,width:r,height:o,parentModel:i})}},[U("rect",{...ac(!1),strokeDasharray:"3 3",x:t+r/2+15,y:n-o/2+3}),U("rect",{...ac(!0),x:t+r/2+15,y:n-o/2+10})])}addBelowIcon(){const{x:t,y:n,width:r,height:o,parentModel:i}=this.props.model;return U("g",{cursor:"pointer",onClick:()=>{i&&i.addChildBelow({x:t,y:n,width:r,height:o})}},[U("rect",{...ac(!1),strokeDasharray:"3 3",x:t+r/2+15,y:n-o/2+32+5}),U("rect",{...ac(!0),x:t+r/2+15,y:n-o/2+2.5+20+5})])}deleteIcon(){const{x:t,y:n,width:r,height:o,id:i,parentModel:a}=this.props.model;return U("g",{cursor:"pointer",onClick:()=>{a&&a.deleteChild(i)}},[U("rect",{height:20,width:20,rx:2,ry:2,strokeWidth:1,fill:"transparent",stroke:"transparent",x:t+r/2+14,y:n-o/2+50}),U("svg",{transform:"translate(1, 1)",x:t+r/2+14,y:n-o/2+50,width:20,height:20},[U("path",{"pointer-events":"none",d:"M15.3,1.4 L12.6,1.4 L12.6,0 L5.4,0 L5.4,1.4 L0,1.4 L0,2.8 L2,2.8 L2,17.3 C2,17.6865993 2.31340068,18 2.7,18 L15.3,18 C15.6865993,18 16,17.6865993 16,17.3 L16,2.8 L18,2.8 L18,1.4 L15.3,1.4 Z M14.6,16.6 L3.4,16.6 L3.4,2.8 L14.6,2.8 L14.6,16.6 Z"}),U("path",{"pointer-events":"none",d:"M6,5.4 L7.4,5.4 L7.4,14.4 L6,14.4 L6,5.4 Z M10.6,5.4 L12,5.4 L12,14.4 L10.6,14.4 L10.6,5.4 Z"})])])}getResizeShape(){return U("g",{},[super.getShape(),this.getOperateIcon()])}}const gY={type:"lane",view:vY,model:pY};class mY extends _a.model{constructor(n,r){super(n,r);zf(this,"nodeGroupMap");zf(this,"childrenModelMap");this.childrenModelMap=new Map,this.nodeGroupMap=new Map}initNodeData(n){super.initNodeData(n),this.height=260,this.collapsible=!1,this.resizable=!0,this.zIndex=1,this.text.editable=!0}setAttributes(){this.text={...this.text,value:this.text.value||"泳池示例",x:this.x-this.width/2+10,y:this.y}}getTextStyle(){const n=super.getTextStyle();return n.textWidth=16,n}foldGroup(n){this.setProperty("isFolded",n),this.isFolded=n,n?(this.x=this.x-this.width/2+this.foldedWidth/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth):(this.width=this.unfoldedWidth,this.x=this.x+this.width/2-this.foldedWidth/2);let r=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(o=>{const i=this.graphModel.getElement(o);i.visible=!n,r=[...r,...i.incoming.edges,...i.outgoing.edges]}),this.foldEdge(n,r)}addChild(n){super.addChild(n);const r=this.graphModel.getNodeModelById(n);r.changeAttribute({parentModel:this}),this.nodeGroupMap.set(n,this.id),this.childrenModelMap.set(n,r)}addChildAbove({x:n,y:r,width:o,height:i}){this.children.forEach(s=>{const l=this.graphModel.getElement(s),{type:c,y:d}=l;c==="lane"&&d<r&&l.changeAttribute({y:d-120})});const{id:a}=this.graphModel.addNode({type:"lane",properties:{nodeSize:{width:o,height:120}},x:n,y:r-i/2-60});this.addChild(a),this.height=this.height+120,this.y=this.y-60}addChildBelow({x:n,y:r,width:o,height:i}){this.children.forEach(s=>{const l=this.graphModel.getElement(s),{type:c,y:d}=l;c==="lane"&&d>r&&l.changeAttribute({y:d+120})});const{id:a}=this.graphModel.addNode({type:"lane",properties:{nodeSize:{width:o,height:120}},x:n,y:r+i/2+60});this.addChild(a),this.height=this.height+120,this.y=this.y+60}deleteChild(n){const r=[];this.children.forEach(o=>{const i=this.graphModel.getElement(o),{type:a}=i;a==="lane"&&r.push(i)}),!(r.length<=1)&&(this.nodeGroupMap.delete(n),this.childrenModelMap.delete(n),this.removeChild(n),this.graphModel.deleteNode(n),this.resizePool())}resizePool(n,r){if(console.log("---pool resize pool"),!this.children.size)return;let o=null,i=null,a=null,s=null,l=!1;this.children.forEach(c=>{const d=this.graphModel.getElement(c),{x:f,y:h,width:p,height:v,type:g,id:m}=d;g==="lane"&&(m===n&&r&&(o=r.x-r.width/2,i=r.x+r.width/2,l=!0),!l&&(!o||f-p/2<o)&&(o=f-p/2),!l&&(!i||f+p/2>i)&&(i=f+p/2),(!a||h-v/2<a)&&(a=h-v/2),(!s||h+v/2>s)&&(s=h+v/2))}),o&&i&&a&&s&&(this.width=i-o+30,this.height=s-a,this.x=o+(i-o)/2-15,this.y=a+(s-a)/2,this.setAttributes(),this.resizeChildren({}))}resizeChildren({resizeDir:n="",deltaHeight:r=0}){console.log("---pool resize children");const{x:o,y:i,width:a}=this,s=[];if(this.childrenModelMap.forEach(v=>{v.type==="lane"&&s.push(v)}),!s.length)return;s.sort((v,g)=>v.y-g.y);const l=s[0],c=s[s.length-1],d=l.height+r,f=c.height+r;switch(n){case"above":l.height=d<ic.height?ic.height:d;break;case"below":c.height=f<ic.height?ic.height:f;break}const h=s.reduce((v,g)=>v+g.height,0);let p=0;s.forEach(v=>{const{height:g}=v;v.changeAttribute({width:a-30,height:g,x:o+15,y:i-h/2+p+g/2}),p+=g}),this.height=h}}class yY extends _a.view{getResizeShape(){const{model:t}=this.props,{x:n,y:r,width:o,height:i}=t,a=t.getNodeStyle(),s={...a,x:n-o/2,y:r-i/2,width:30,height:i},l={...a,x:n-o/2+30,y:r-i/2,width:o-30,height:i,fill:"transparent"};return U("g",{},[U("rect",{...s}),U("rect",{...l})])}}const _Y={type:"pool",view:yY,model:mY};function bY(e){const t=e.value;t&&(t.register(wm),t.register(ke),t.register(EX),t.register(SX),t.register(OX),t.register(MX),t.register(oX),t.register(PU),t.register(RU),t.register(BU),t.register(aX),t.register(lX),t.register(cX),t.register(tY),t.register(JU),t.register(XU),t.register(KU),t.register(HU),t.register(VU),t.register(qX),t.register(QX),t.register(iU),t.register(lU),t.register(nU),t.register(dU),t.register(pU),t.register(hX),t.register(DX),t.register(LX),t.register(gX),t.register(bX),t.register(IX),t.register(zX),t.register(WX),t.register(UX),t.register(bU),t.register(EU),t.register(MU),t.register(NU),t.register(oY),t.register(sY),t.register(cY),t.register(hY),t.register(mU),t.register(gY),t.register(_Y))}const wY={strokeWidth:1,stroke:"#000000"},xY={strokeWidth:1,stroke:"#000000",fill:"#ffffff"},EY={color:"#000000",fontSize:12,lineHeight:1.5,overflowMode:"autoWrap"},CY={color:"#000000",fontSize:12,lineHeight:1.5,textWidth:100,overflowMode:"autoWrap",background:{fill:"#FFFFFF"}},SY={baseEdge:wY,baseNode:xY,nodeText:EY,edgeText:CY},Zb={backgroundColor:"#FFFFFF",borderType:0,borderColor:"#000000",borderWidth:1,borderStyle:"solid",fontSize:12,fontColor:"#000000",fontWeight:"normal",fontFamily:void 0,lineHeight:1.5,textAlign:void 0};function sc(e,t=!1){return e.shiftKey?t?-10:10:e.ctrlKey?t?-1:1:t?-5:5}function NY(e){return[{keys:["delete"],callback:()=>{if(!e.value)return;const s=e.value.getSelectElements(!0);e.value.clearSelectElements(),s.edges.forEach(l=>e.value.deleteEdge(l.id)),s.nodes.forEach(l=>e.value.deleteNode(l.id))}},{keys:["command+a","cmd + a","ctrl+a"],callback:s=>{if(s.preventDefault(),!e.value)return;const{nodes:l,edges:c}=e.value.getGraphRawData();l.forEach(d=>e.value.selectElementById(d.id,!0,!1)),c.forEach(d=>e.value.selectElementById(d.id,!0,!1))}},{keys:["left","command+left","ctrl+left","shift+left","shift+left"],callback:s=>{if(!e.value)return;const l=e.value.graphModel,{nodes:c}=e.value.getSelectElements(!0);l.moveNodes(c.map(d=>d.id),sc(s,!0),0)}},{keys:["right","command+right","ctrl+right","shift+right","shift+right"],callback:s=>{if(!e.value)return;const l=e.value.graphModel,{nodes:c}=e.value.getSelectElements(!0);l.moveNodes(c.map(d=>d.id),sc(s,!1),0)}},{keys:["up","command+up","ctrl+up","shift+up","shift+up"],callback:s=>{if(!e.value)return;const l=e.value.graphModel,{nodes:c}=e.value.getSelectElements(!0);l.moveNodes(c.map(d=>d.id),0,sc(s,!0))}},{keys:["down","command+down","ctrl+down","shift+down","shift+down"],callback:s=>{if(!e.value)return;const l=e.value.graphModel,{nodes:c}=e.value.getSelectElements(!0);l.moveNodes(c.map(d=>d.id),0,sc(s,!1))}}]}function OY(e){if(!e.value)return;const t=e.value;e.value.on("node:dnd-add, edge:add",({data:n})=>{const{type:r,id:o}=n;if(r==="pool"){const i=t.getNodeModelById(o),{x:a,y:s,width:l,height:c}=i,{id:d}=t.addNode({type:"lane",properties:{nodeSize:{width:l-30,height:c}},x:a+15,y:s});i.addChild(d)}}),e.value.on("node:resize",n=>{var S,b,w,T;const{deltaY:r,model:o,preData:i,data:a}=n;if(console.log(n),!((S=a==null?void 0:a.properties)!=null&&S.width)||!((b=i==null?void 0:i.properties)!=null&&b.width)||!((w=a==null?void 0:a.properties)!=null&&w.height)||!((T=i==null?void 0:i.properties)!=null&&T.height))return;console.log("resize");const{id:s,type:l}=o,{x:c,y:d,properties:{width:f,height:h}}=a,{x:p,y:v,properties:{width:g,height:m}}=i,y={oX:c,oY:d,oWidth:f,oHeight:h},_={nX:p,nY:v,nWidth:g,nHeight:m},C=_.nHeight-y.oHeight;if(C===0||r===0)return;console.log("delta");let x="below";if((C>0&&_.nY-y.oY<0||C<0&&_.nY-y.oY>0)&&(x="above"),l==="pool"){o.resizeChildren({resizeDir:x,deltaHeight:C});return}if(l==="lane"&&o.parentModel){const{nX:k,nY:I,nHeight:X,nWidth:te}=_;o.parentModel.resizePool(s,{x:k,y:I,width:te,height:X})}})}function AY(e){return[]}function MY(e){const t=e.value;if(!t)return;const n=AY();t.extension.menu.addMenuConfig({nodeMenu:n})}var TY={0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",16:"Modification exception: the internal structure of an observable array was changed.",17:function(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},20:function(t){return"Cannot initialize map from "+t},21:function(t){return"Cannot convert to map from '"+t+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(t){return"Cannot obtain administration from "+t},25:function(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},26:"please specify a property",27:function(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},28:function(t){return"Cannot obtain atom from "+t},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(t,n){return"Cycle detected in computation "+t+": "+n},33:function(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"},PY=process.env.NODE_ENV!=="production"?TY:{};function Te(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(process.env.NODE_ENV!=="production"){var o=typeof e=="string"?e:PY[e];throw typeof o=="function"&&(o=o.apply(null,n)),new Error("[MobX] "+o)}throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var DY={};function xm(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:DY}var _S=Object.assign,Nd=Object.getOwnPropertyDescriptor,mo=Object.defineProperty,Tf=Object.prototype,Od=[];Object.freeze(Od);var bS={};Object.freeze(bS);var kY=typeof Proxy<"u",RY=Object.toString();function wS(){kY||Te(process.env.NODE_ENV!=="production"?"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`":"Proxy not available")}function rl(e){process.env.NODE_ENV!=="production"&&we.verifyProxies&&Te("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+e)}function ro(){return++we.mobxGuid}function Em(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var za=function(){};function en(e){return typeof e=="function"}function la(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Pf(e){return e!==null&&typeof e=="object"}function xo(e){if(!Pf(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===RY}function xS(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Cm(e,t,n){mo(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function ES(e,t,n){mo(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ba(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Pf(r)&&r[n]===!0}}function Ls(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function LY(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Lo(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var CS=typeof Object.getOwnPropertySymbols<"u";function $Y(e){var t=Object.keys(e);if(!CS)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Tf.propertyIsEnumerable.call(e,r)})):t}var Sm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:CS?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Pv(e){return typeof e=="string"?e:typeof e=="symbol"?e.toString():new String(e).toString()}function SS(e){return e===null?null:typeof e=="object"?""+e:e}function Kr(e,t){return Tf.hasOwnProperty.call(e,t)}var BY=Object.getOwnPropertyDescriptors||function(t){var n={};return Sm(t).forEach(function(r){n[r]=Nd(t,r)}),n};function qn(e,t){return!!(e&t)}function Zn(e,t,n){return n?e|=t:e&=~t,e}function Jb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function IY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VY(r.key),r)}}function $s(e,t,n){return t&&IY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fa(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zY(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(null,arguments)}function NS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dv(e,t)}function Dv(e,t){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Dv(e,t)}function jY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(e){if(typeof e=="string")return Jb(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jb(e,t):void 0}}var $o=Symbol("mobx-stored-annotations");function yo(e){function t(n,r){if(bu(r))return e.decorate_20223_(n,r);_u(n,r,e)}return Object.assign(t,e)}function _u(e,t,n){if(Kr(e,$o)||Cm(e,$o,mi({},e[$o])),process.env.NODE_ENV!=="production"&&Md(n)&&!Kr(e[$o],t)){var r=e.constructor.name+".prototype."+t.toString();Te("'"+r+"' is decorated with 'override', but no such decorated member was found on prototype.")}FY(e,n,t),Md(n)||(e[$o][t]=n)}function FY(e,t,n){if(process.env.NODE_ENV!=="production"&&!Md(t)&&Kr(e[$o],n)){var r=e.constructor.name+".prototype."+n.toString(),o=e[$o][n].annotationType_,i=t.annotationType_;Te("Cannot apply '@"+i+"' to '"+r+"':"+(`
The field is already decorated with '@`+o+"'.")+`
Re-decorating fields is not allowed.
Use '@override' decorator for methods overridden by subclass.`)}}function bu(e){return typeof e=="object"&&typeof e.kind=="string"}function Df(e,t){process.env.NODE_ENV!=="production"&&!t.includes(e.kind)&&Te("The decorator applied to '"+String(e.name)+"' cannot be used on a "+e.kind+" element")}var tt=Symbol("mobx administration"),Mi=function(){function e(n){n===void 0&&(n=process.env.NODE_ENV!=="production"?"Atom@"+ro():"Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Et.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return zS(this)},t.reportChanged=function(){yr(),FS(this),_r()},t.toString=function(){return this.name_},$s(e,[{key:"isBeingObserved",get:function(){return qn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return qn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return qn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Zn(this.flags_,e.diffValueMask_,r===1)}}])}();Mi.isBeingObservedMask_=1;Mi.isPendingUnobservationMask_=2;Mi.diffValueMask_=4;var Nm=ba("Atom",Mi);function OS(e,t,n){t===void 0&&(t=za),n===void 0&&(n=za);var r=new Mi(e);return t!==za&&tq(r,t),n!==za&&YS(r,n),r}function HY(e,t){return e===t}function WY(e,t){return Rm(e,t)}function GY(e,t){return Rm(e,t,1)}function XY(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ad={identity:HY,structural:WY,default:XY,shallow:GY};function ua(e,t,n){return ru(e)?e:Array.isArray(e)?cn.array(e,{name:n}):xo(e)?cn.object(e,void 0,{name:n}):Ls(e)?cn.map(e,{name:n}):Lo(e)?cn.set(e,{name:n}):typeof e=="function"&&!ps(e)&&!nu(e)?xS(e)?vs(e):tu(n,e):e}function UY(e,t,n){if(e==null||Su(e)||Bf(e)||Ti(e)||fo(e))return e;if(Array.isArray(e))return cn.array(e,{name:n,deep:!1});if(xo(e))return cn.object(e,void 0,{name:n,deep:!1});if(Ls(e))return cn.map(e,{name:n,deep:!1});if(Lo(e))return cn.set(e,{name:n,deep:!1});process.env.NODE_ENV!=="production"&&Te("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")}function kf(e){return e}function YY(e,t){return process.env.NODE_ENV!=="production"&&ru(e)&&Te("observable.struct should not be used with observable values"),Rm(e,t)?t:e}var KY="override";function Md(e){return e.annotationType_===KY}function wu(e,t){return{annotationType_:e,options_:t,make_:qY,extend_:ZY,decorate_20223_:JY}}function qY(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ps(n.value))return 1;var i=AS(e,this,t,n,!1);return mo(r,t,i),2}function ZY(e,t,n,r){var o=AS(e,this,t,n);return e.defineProperty_(t,o,r)}function JY(e,t){process.env.NODE_ENV!=="production"&&Df(t,["method","field"]);var n=t.kind,r=t.name,o=t.addInitializer,i=this,a=function(c){var d,f,h,p;return ca((d=(f=i.options_)==null?void 0:f.name)!=null?d:r.toString(),c,(h=(p=i.options_)==null?void 0:p.autoAction)!=null?h:!1)};if(n=="field")return function(l){var c,d=l;return ps(d)||(d=a(d)),(c=i.options_)!=null&&c.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var s;return ps(e)||(e=a(e)),(s=this.options_)!=null&&s.bound&&o(function(){var l=this,c=l[r].bind(l);c.isMobxAction=!0,l[r]=c}),e}Te("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function QY(e,t,n,r){var o=t.annotationType_,i=r.value;process.env.NODE_ENV!=="production"&&!en(i)&&Te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' can only be used on properties with a function value."))}function AS(e,t,n,r,o){var i,a,s,l,c,d,f;o===void 0&&(o=we.safeDescriptors),QY(e,t,n,r);var h=r.value;if((i=t.options_)!=null&&i.bound){var p;h=h.bind((p=e.proxy_)!=null?p:e.target_)}return{value:ca((a=(s=t.options_)==null?void 0:s.name)!=null?a:n.toString(),h,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,(d=t.options_)!=null&&d.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function MS(e,t){return{annotationType_:e,options_:t,make_:eK,extend_:tK,decorate_20223_:nK}}function eK(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Kr(e.target_,t)||!nu(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(nu(n.value))return 1;var i=TS(e,this,t,n,!1,!1);return mo(r,t,i),2}function tK(e,t,n,r){var o,i=TS(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,i,r)}function nK(e,t){var n;process.env.NODE_ENV!=="production"&&Df(t,["method"]);var r=t.name,o=t.addInitializer;return nu(e)||(e=vs(e)),(n=this.options_)!=null&&n.bound&&o(function(){var i=this,a=i[r].bind(i);a.isMobXFlow=!0,i[r]=a}),e}function rK(e,t,n,r){var o=t.annotationType_,i=r.value;process.env.NODE_ENV!=="production"&&!en(i)&&Te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' can only be used on properties with a generator function value."))}function TS(e,t,n,r,o,i){i===void 0&&(i=we.safeDescriptors),rK(e,t,n,r);var a=r.value;if(nu(a)||(a=vs(a)),o){var s;a=a.bind((s=e.proxy_)!=null?s:e.target_),a.isMobXFlow=!0}return{value:a,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function Om(e,t){return{annotationType_:e,options_:t,make_:oK,extend_:iK,decorate_20223_:aK}}function oK(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function iK(e,t,n,r){return sK(e,this,t,n),e.defineComputedProperty_(t,mi({},this.options_,{get:n.get,set:n.set}),r)}function aK(e,t){process.env.NODE_ENV!=="production"&&Df(t,["getter"]);var n=this,r=t.name,o=t.addInitializer;return o(function(){var i=Cu(this)[tt],a=mi({},n.options_,{get:e,context:this});a.name||(a.name=process.env.NODE_ENV!=="production"?i.name_+"."+r.toString():"ObservableObject."+r.toString()),i.values_.set(r,new Ar(a))}),function(){return this[tt].getObservablePropValue_(r)}}function sK(e,t,n,r){var o=t.annotationType_,i=r.get;process.env.NODE_ENV!=="production"&&!i&&Te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' can only be used on getter(+setter) properties."))}function Rf(e,t){return{annotationType_:e,options_:t,make_:lK,extend_:uK,decorate_20223_:cK}}function lK(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function uK(e,t,n,r){var o,i;return dK(e,this,t,n),e.defineObservableProperty_(t,n.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:ua,r)}function cK(e,t){if(process.env.NODE_ENV!=="production"){if(t.kind==="field")throw Te("Please use `@observable accessor "+String(t.name)+"` instead of `@observable "+String(t.name)+"`");Df(t,["accessor"])}var n=this,r=t.kind,o=t.name,i=new WeakSet;function a(s,l){var c,d,f=Cu(s)[tt],h=new Zi(l,(c=(d=n.options_)==null?void 0:d.enhancer)!=null?c:ua,process.env.NODE_ENV!=="production"?f.name_+"."+o.toString():"ObservableObject."+o.toString(),!1);f.values_.set(o,h),i.add(s)}if(r=="accessor")return{get:function(){return i.has(this)||a(this,e.get.call(this)),this[tt].getObservablePropValue_(o)},set:function(l){return i.has(this)||a(this,l),this[tt].setObservablePropValue_(o,l)},init:function(l){return i.has(this)||a(this,l),l}}}function dK(e,t,n,r){var o=t.annotationType_;process.env.NODE_ENV!=="production"&&!("value"in r)&&Te("Cannot apply '"+o+"' to '"+e.name_+"."+n.toString()+"':"+(`
'`+o+"' cannot be used on getter/setter properties"))}var fK="true",hK=PS();function PS(e){return{annotationType_:fK,options_:e,make_:pK,extend_:vK,decorate_20223_:gK}}function pK(e,t,n,r){var o,i;if(n.get)return Lf.make_(e,t,n,r);if(n.set){var a=ca(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:we.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(mo(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var s;if(xS(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?vs.bound:vs;return c.make_(e,t,n,r)}var d=(s=this.options_)!=null&&s.autoBind?tu.bound:tu;return d.make_(e,t,n,r)}var f=((o=this.options_)==null?void 0:o.deep)===!1?cn.ref:cn;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var h;n.value=n.value.bind((h=e.proxy_)!=null?h:e.target_)}return f.make_(e,t,n,r)}function vK(e,t,n,r){var o,i;if(n.get)return Lf.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:we.safeDescriptors?e.isPlainObject_:!0,set:ca(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var s=((i=this.options_)==null?void 0:i.deep)===!1?cn.ref:cn;return s.extend_(e,t,n,r)}function gK(e,t){Te("'"+this.annotationType_+"' cannot be used as a decorator")}var mK="observable",yK="observable.ref",_K="observable.shallow",bK="observable.struct",DS={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(DS);function lc(e){return e||DS}var kv=Rf(mK),wK=Rf(yK,{enhancer:kf}),xK=Rf(_K,{enhancer:UY}),EK=Rf(bK,{enhancer:YY}),kS=yo(kv);function uc(e){return e.deep===!0?ua:e.deep===!1?kf:SK(e.defaultDecorator)}function CK(e){var t;return e?(t=e.defaultDecorator)!=null?t:PS(e):void 0}function SK(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:ua}function RS(e,t,n){if(bu(t))return kv.decorate_20223_(e,t);if(la(t)){_u(e,t,kv);return}return ru(e)?e:xo(e)?cn.object(e,t,n):Array.isArray(e)?cn.array(e,t):Ls(e)?cn.map(e,t):Lo(e)?cn.set(e,t):typeof e=="object"&&e!==null?e:cn.box(e,t)}_S(RS,kS);var NK={box:function(t,n){var r=lc(n);return new Zi(t,uc(r),r.name,!0,r.equals)},array:function(t,n){var r=lc(n);return(we.useProxies===!1||r.proxy===!1?Cq:pq)(t,uc(r),r.name)},map:function(t,n){var r=lc(n);return new QS(t,uc(r),r.name)},set:function(t,n){var r=lc(n);return new e2(t,uc(r),r.name)},object:function(t,n,r){return Bs(function(){return nq(we.useProxies===!1||(r==null?void 0:r.proxy)===!1?Cu({},r):dq({},r),t,n)})},ref:yo(wK),shallow:yo(xK),deep:kS,struct:yo(EK)},cn=_S(RS,NK),LS="computed",OK="computed.struct",Rv=Om(LS),AK=Om(OK,{equals:Ad.structural}),Lf=function(t,n){if(bu(n))return Rv.decorate_20223_(t,n);if(la(n))return _u(t,n,Rv);if(xo(t))return yo(Om(LS,t));process.env.NODE_ENV!=="production"&&(en(t)||Te("First argument to `computed` should be an expression."),en(n)&&Te("A setter as second argument is no longer supported, use `{ set: fn }` option instead"));var r=xo(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ar(r)};Object.assign(Lf,Rv);Lf.struct=yo(AK);var Qb,e1,Td=0,MK=1,TK=(Qb=(e1=Nd(function(){},"name"))==null?void 0:e1.configurable)!=null?Qb:!1,t1={value:"action",configurable:!0,writable:!1,enumerable:!1};function ca(e,t,n,r){n===void 0&&(n=!1),process.env.NODE_ENV!=="production"&&(en(t)||Te("`action` can only be invoked on functions"),(typeof e!="string"||!e)&&Te("actions should have valid names, got: '"+e+"'"));function o(){return PK(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},TK&&(t1.value=e,mo(o,"name",t1)),o}function PK(e,t,n,r,o){var i=DK(e,t,r,o);try{return n.apply(r,o)}catch(a){throw i.error_=a,a}finally{kK(i)}}function DK(e,t,n,r){var o=process.env.NODE_ENV!=="production"&&hn()&&!!e,i=0;if(process.env.NODE_ENV!=="production"&&o){i=Date.now();var a=r?Array.from(r):Od;tr({type:Pm,name:e,object:n,arguments:a})}var s=we.trackingDerivation,l=!t||!s;yr();var c=we.allowStateChanges;l&&(wa(),c=Am(!0));var d=Tm(!0),f={runAsAction_:l,prevDerivation_:s,prevAllowStateChanges_:c,prevAllowStateReads_:d,notifySpy_:o,startTime_:i,actionId_:MK++,parentActionId_:Td};return Td=f.actionId_,f}function kK(e){Td!==e.actionId_&&Te(30),Td=e.parentActionId_,e.error_!==void 0&&(we.suppressReactionErrors=!0),Mm(e.prevAllowStateChanges_),Ll(e.prevAllowStateReads_),_r(),e.runAsAction_&&jo(e.prevDerivation_),process.env.NODE_ENV!=="production"&&e.notifySpy_&&nr({time:Date.now()-e.startTime_}),we.suppressReactionErrors=!1}function Am(e){var t=we.allowStateChanges;return we.allowStateChanges=e,t}function Mm(e){we.allowStateChanges=e}var RK="create",Zi=function(e){function t(r,o,i,a,s){var l;return i===void 0&&(i=process.env.NODE_ENV!=="production"?"ObservableValue@"+ro():"ObservableValue"),a===void 0&&(a=!0),s===void 0&&(s=Ad.default),l=e.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=o,l.name_=i,l.equals=s,l.value_=o(r,void 0,i),process.env.NODE_ENV!=="production"&&a&&hn()&&da({type:RK,object:l,observableKind:"value",debugObjectName:l.name_,newValue:""+l.value_}),l}NS(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){var i=this.value_;if(o=this.prepareNewValue_(o),o!==we.UNCHANGED){var a=hn();process.env.NODE_ENV!=="production"&&a&&tr({type:Fr,object:this,observableKind:"value",debugObjectName:this.name_,newValue:o,oldValue:i}),this.setNewValue_(o),process.env.NODE_ENV!=="production"&&a&&nr()}},n.prepareNewValue_=function(o){if(ho(this),fr(this)){var i=hr(this,{object:this,type:Fr,newValue:o});if(!i)return we.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?we.UNCHANGED:o},n.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),qr(this)&&Zr(this,{type:Fr,object:this,newValue:o,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return xu(this,o)},n.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Fr,newValue:this.value_,oldValue:void 0}),Eu(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return SS(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Mi),Ar=function(){function e(n){this.dependenciesState_=Et.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Et.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Pd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Er.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Te(31),this.derivation=n.get,this.name_=n.name||(process.env.NODE_ENV!=="production"?"ComputedValue@"+ro():"ComputedValue"),n.set&&(this.setter_=ca(process.env.NODE_ENV!=="production"?this.name_+"-setter":"ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Ad.structural:Ad.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){VK(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Te(32,this.name_,this.derivation),we.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Lv(this)&&(this.warnAboutUntrackedRead_(),yr(),this.value_=this.computeValue_(!1),_r());else if(zS(this),Lv(this)){var r=we.trackingContext;this.keepAlive_&&!r&&(we.trackingContext=this),this.trackAndCompute()&&jK(this),we.trackingContext=r}var o=this.value_;if(Nc(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&Te(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Te(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Et.NOT_TRACKING_,i=this.computeValue_(!0),a=o||Nc(r)||Nc(i)||!this.equals_(r,i);return a&&(this.value_=i,process.env.NODE_ENV!=="production"&&hn()&&da({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:r,newValue:i})),a},t.computeValue_=function(r){this.isComputing=!0;var o=Am(!1),i;if(r)i=$S(this,this.derivation,this.scope_);else if(we.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new Pd(a)}return Mm(o),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||($v(this),this.value_=void 0,process.env.NODE_ENV!=="production"&&this.isTracing_!==Er.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' was suspended and it will recompute on the next access."))},t.observe_=function(r,o){var i=this,a=!0,s=void 0;return qK(function(){var l=i.get();if(!a||o){var c=wa();r({observableKind:"computed",debugObjectName:i.name_,type:Fr,object:i,newValue:l,oldValue:s}),jo(c)}a=!1,s=l})},t.warnAboutUntrackedRead_=function(){process.env.NODE_ENV!=="production"&&(this.isTracing_!==Er.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute."),(typeof this.requiresReaction_=="boolean"?this.requiresReaction_:we.computedRequiresReaction)&&console.warn("[mobx] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute."))},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return SS(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},$s(e,[{key:"isComputing",get:function(){return qn(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return qn(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return qn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return qn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return qn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Zn(this.flags_,e.diffValueMask_,r===1)}}])}();Ar.isComputingMask_=1;Ar.isRunningSetterMask_=2;Ar.isBeingObservedMask_=4;Ar.isPendingUnobservationMask_=8;Ar.diffValueMask_=16;var $f=ba("ComputedValue",Ar),Et;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Et||(Et={}));var Er;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Er||(Er={}));var Pd=function(t){this.cause=void 0,this.cause=t};function Nc(e){return e instanceof Pd}function Lv(e){switch(e.dependenciesState_){case Et.UP_TO_DATE_:return!1;case Et.NOT_TRACKING_:case Et.STALE_:return!0;case Et.POSSIBLY_STALE_:{for(var t=Tm(!0),n=wa(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if($f(a)){if(we.disableErrorBoundaries)a.get();else try{a.get()}catch{return jo(n),Ll(t),!0}if(e.dependenciesState_===Et.STALE_)return jo(n),Ll(t),!0}}return IS(e),jo(n),Ll(t),!1}}}function ho(e){if(process.env.NODE_ENV!=="production"){var t=e.observers_.size>0;!we.allowStateChanges&&(t||we.enforceActions==="always")&&console.warn("[MobX] "+(we.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+e.name_)}}function LK(e){process.env.NODE_ENV!=="production"&&!we.allowStateReads&&we.observableRequiresReaction&&console.warn("[mobx] Observable '"+e.name_+"' being read outside a reactive context.")}function $S(e,t,n){var r=Tm(!0);IS(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++we.runId;var o=we.trackingDerivation;we.trackingDerivation=e,we.inBatch++;var i;if(we.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(a){i=new Pd(a)}return we.inBatch--,we.trackingDerivation=o,BK(e),$K(e),Ll(r),i}function $K(e){process.env.NODE_ENV!=="production"&&e.observing_.length===0&&(typeof e.requiresObservable_=="boolean"?e.requiresObservable_:we.reactionRequiresObservable)&&console.warn("[mobx] Derivation '"+e.name_+"' is created/updated without reading any observable value.")}function BK(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Et.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var s=n[a];s.diffValue===0&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var l=t[i];l.diffValue===0&&jS(l,e),l.diffValue=0}for(;o--;){var c=n[o];c.diffValue===1&&(c.diffValue=0,IK(c,e))}r!==Et.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function $v(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)jS(t[n],e);e.dependenciesState_=Et.NOT_TRACKING_}function BS(e){var t=wa();try{return e()}finally{jo(t)}}function wa(){var e=we.trackingDerivation;return we.trackingDerivation=null,e}function jo(e){we.trackingDerivation=e}function Tm(e){var t=we.allowStateReads;return we.allowStateReads=e,t}function Ll(e){we.allowStateReads=e}function IS(e){if(e.dependenciesState_!==Et.UP_TO_DATE_){e.dependenciesState_=Et.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Et.UP_TO_DATE_}}var op=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ip=!0,we=function(){var e=xm();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ip=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new op().version&&(ip=!1),ip?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new op):(setTimeout(function(){Te(35)},1),new op)}();function IK(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function jS(e,t){e.observers_.delete(t),e.observers_.size===0&&VS(e)}function VS(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,we.pendingUnobservations.push(e))}function yr(){we.inBatch++}function _r(){if(--we.inBatch===0){GS();for(var e=we.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Ar&&n.suspend_())}we.pendingUnobservations=[]}}function zS(e){LK(e);var t=we.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&we.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&we.inBatch>0&&VS(e),!1)}function FS(e){e.lowestObserverState_!==Et.STALE_&&(e.lowestObserverState_=Et.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Et.UP_TO_DATE_&&(process.env.NODE_ENV!=="production"&&t.isTracing_!==Er.NONE&&HS(t,e),t.onBecomeStale_()),t.dependenciesState_=Et.STALE_}))}function jK(e){e.lowestObserverState_!==Et.STALE_&&(e.lowestObserverState_=Et.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Et.POSSIBLY_STALE_?(t.dependenciesState_=Et.STALE_,process.env.NODE_ENV!=="production"&&t.isTracing_!==Er.NONE&&HS(t,e)):t.dependenciesState_===Et.UP_TO_DATE_&&(e.lowestObserverState_=Et.UP_TO_DATE_)}))}function VK(e){e.lowestObserverState_===Et.UP_TO_DATE_&&(e.lowestObserverState_=Et.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Et.UP_TO_DATE_&&(t.dependenciesState_=Et.POSSIBLY_STALE_,t.onBecomeStale_())}))}function HS(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===Er.BREAK){var n=[];WS(rq(e),n,1),new Function(`debugger;
/*
Tracing '`+e.name_+`'

You are entering this break point because derivation '`+e.name_+"' is being traced and '"+t.name_+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(e instanceof Ar?e.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+n.join(`
`)+`
*/
    `)()}}function WS(e,t,n){if(t.length>=1e3){t.push("(and many more)");return}t.push(""+"	".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach(function(r){return WS(r,t,n+1)})}var yi=function(){function e(n,r,o,i){n===void 0&&(n=process.env.NODE_ENV!=="production"?"Reaction@"+ro():"Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Et.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Er.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,we.pendingReactions.push(this),GS())},t.runReaction_=function(){if(!this.isDisposed){yr(),this.isScheduled=!1;var r=we.trackingContext;if(we.trackingContext=this,Lv(this)){this.isTrackPending=!0;try{this.onInvalidate_(),process.env.NODE_ENV!=="production"&&this.isTrackPending&&hn()&&da({name:this.name_,type:"scheduled-reaction"})}catch(o){this.reportExceptionInDerivation_(o)}}we.trackingContext=r,_r()}},t.track=function(r){if(!this.isDisposed){yr();var o=hn(),i;process.env.NODE_ENV!=="production"&&o&&(i=Date.now(),tr({name:this.name_,type:"reaction"})),this.isRunning=!0;var a=we.trackingContext;we.trackingContext=this;var s=$S(this,r,void 0);we.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&$v(this),Nc(s)&&this.reportExceptionInDerivation_(s.cause),process.env.NODE_ENV!=="production"&&o&&nr({time:Date.now()-i}),_r()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(we.disableErrorBoundaries)throw r;var i=process.env.NODE_ENV!=="production"?"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'":"[mobx] uncaught error in '"+this+"'";we.suppressReactionErrors?process.env.NODE_ENV!=="production"&&console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(i,r),process.env.NODE_ENV!=="production"&&hn()&&da({type:"error",name:this.name_,message:i,error:""+r}),we.globalReactionErrorHandlers.forEach(function(a){return a(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(yr(),$v(this),_r()))},t.getDisposer_=function(r){var o=this,i=function a(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[tt]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){r===void 0&&(r=!1),lq(this,r)},$s(e,[{key:"isDisposed",get:function(){return qn(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return qn(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return qn(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return qn(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Zn(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return qn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Zn(this.flags_,e.diffValueMask_,r===1)}}])}();yi.isDisposedMask_=1;yi.isScheduledMask_=2;yi.isTrackPendingMask_=4;yi.isRunningMask_=8;yi.diffValueMask_=16;var n1=100,zK=function(t){return t()};function GS(){we.inBatch>0||we.isRunningReactions||zK(FK)}function FK(){we.isRunningReactions=!0;for(var e=we.pendingReactions,t=0;e.length>0;){++t===n1&&(console.error(process.env.NODE_ENV!=="production"?"Reaction doesn't converge to a stable state after "+n1+" iterations."+(" Probably there is a cycle in the reactive function: "+e[0]):"[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}we.isRunningReactions=!1}var Dd=ba("Reaction",yi);function hn(){return process.env.NODE_ENV!=="production"&&!!we.spyListeners.length}function da(e){if(process.env.NODE_ENV!=="production"&&we.spyListeners.length)for(var t=we.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function tr(e){if(process.env.NODE_ENV!=="production"){var t=mi({},e,{spyReportStart:!0});da(t)}}var HK={type:"report-end",spyReportEnd:!0};function nr(e){process.env.NODE_ENV!=="production"&&da(e?mi({},e,{type:"report-end",spyReportEnd:!0}):HK)}function WK(e){return process.env.NODE_ENV==="production"?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(we.spyListeners.push(e),Em(function(){we.spyListeners=we.spyListeners.filter(function(t){return t!==e})}))}var Pm="action",GK="action.bound",XS="autoAction",XK="autoAction.bound",UK="<unnamed action>",Bv=wu(Pm),YK=wu(GK,{bound:!0}),Iv=wu(XS,{autoAction:!0}),KK=wu(XK,{autoAction:!0,bound:!0});function US(e){var t=function(r,o){if(en(r))return ca(r.name||UK,r,e);if(en(o))return ca(r,o,e);if(bu(o))return(e?Iv:Bv).decorate_20223_(r,o);if(la(o))return _u(r,o,e?Iv:Bv);if(la(r))return yo(wu(e?XS:Pm,{name:r,autoAction:e}));process.env.NODE_ENV!=="production"&&Te("Invalid arguments for `action`")};return t}var Xi=US(!1);Object.assign(Xi,Bv);var tu=US(!0);Object.assign(tu,Iv);Xi.bound=yo(YK);tu.bound=yo(KK);function ps(e){return en(e)&&e.isMobxAction===!0}function qK(e,t){var n,r,o,i;t===void 0&&(t=bS),process.env.NODE_ENV!=="production"&&(en(e)||Te("Autorun expects a function as first argument"),ps(e)&&Te("Autorun does not accept actions since actions are untrackable"));var a=(n=(r=t)==null?void 0:r.name)!=null?n:process.env.NODE_ENV!=="production"?e.name||"Autorun@"+ro():"Autorun",s=!t.scheduler&&!t.delay,l;if(s)l=new yi(a,function(){this.track(f)},t.onError,t.requiresObservable);else{var c=JK(t),d=!1;l=new yi(a,function(){d||(d=!0,c(function(){d=!1,l.isDisposed||l.track(f)}))},t.onError,t.requiresObservable)}function f(){e(l)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||l.schedule_(),l.getDisposer_((i=t)==null?void 0:i.signal)}var ZK=function(t){return t()};function JK(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ZK}var QK="onBO",eq="onBUO";function tq(e,t,n){return KS(QK,e,t,n)}function YS(e,t,n){return KS(eq,e,t,n)}function KS(e,t,n,r){var o=gs(t),i=en(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var s=o[a];s&&(s.delete(i),s.size===0&&delete o[a])}}function nq(e,t,n,r){process.env.NODE_ENV!=="production"&&(arguments.length>4&&Te("'extendObservable' expected 2-4 arguments"),typeof e!="object"&&Te("'extendObservable' expects an object as first argument"),Ti(e)&&Te("'extendObservable' should not be used on maps, use map.merge instead"),xo(t)||Te("'extendObservable' only accepts plain objects as second argument"),(ru(t)||ru(n))&&Te("Extending an object with another observable (object) is not supported"));var o=BY(t);return Bs(function(){var i=Cu(e,r)[tt];Sm(o).forEach(function(a){i.extend_(a,o[a],n&&a in n?n[a]:!0)})}),e}function rq(e,t){return qS(gs(e,t))}function qS(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=oq(e.observing_).map(qS)),t}function oq(e){return Array.from(new Set(e))}var iq=0;function ZS(){this.message="FLOW_CANCELLED"}ZS.prototype=Object.create(Error.prototype);var ap=MS("flow"),aq=MS("flow.bound",{bound:!0}),vs=Object.assign(function(t,n){if(bu(n))return ap.decorate_20223_(t,n);if(la(n))return _u(t,n,ap);process.env.NODE_ENV!=="production"&&arguments.length!==1&&Te("Flow expects single argument with generator function");var r=t,o=r.name||"<unnamed flow>",i=function(){var s=this,l=arguments,c=++iq,d=Xi(o+" - runid: "+c+" - init",r).apply(s,l),f,h=void 0,p=new Promise(function(v,g){var m=0;f=g;function y(x){h=void 0;var S;try{S=Xi(o+" - runid: "+c+" - yield "+m++,d.next).call(d,x)}catch(b){return g(b)}C(S)}function _(x){h=void 0;var S;try{S=Xi(o+" - runid: "+c+" - yield "+m++,d.throw).call(d,x)}catch(b){return g(b)}C(S)}function C(x){if(en(x==null?void 0:x.then)){x.then(C,g);return}return x.done?v(x.value):(h=Promise.resolve(x.value),h.then(y,_))}y(void 0)});return p.cancel=Xi(o+" - runid: "+c+" - cancel",function(){try{h&&r1(h);var v=d.return(void 0),g=Promise.resolve(v.value);g.then(za,za),r1(g),f(new ZS)}catch(m){f(m)}}),p};return i.isMobXFlow=!0,i},ap);vs.bound=yo(aq);function r1(e){en(e.cancel)&&e.cancel()}function nu(e){return(e==null?void 0:e.isMobXFlow)===!0}function sq(e,t){return e?Su(e)||!!e[tt]||Nm(e)||Dd(e)||$f(e):!1}function ru(e){return process.env.NODE_ENV!=="production"&&arguments.length!==1&&Te("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),sq(e)}function lq(){if(process.env.NODE_ENV!=="production"){for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[n.length-1]=="boolean"&&(e=n.pop());var o=uq(n);if(!o)return Te("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===Er.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?Er.BREAK:Er.LOG}}function uq(e){switch(e.length){case 0:return we.trackingDerivation;case 1:return gs(e[0]);case 2:return gs(e[0],e[1])}}function Bo(e,t){t===void 0&&(t=void 0),yr();try{return e.apply(t)}finally{_r()}}function Bi(e){return e[tt]}var cq={has:function(t,n){return process.env.NODE_ENV!=="production"&&we.trackingDerivation&&rl("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),Bi(t).has_(n)},get:function(t,n){return Bi(t).get_(n)},set:function(t,n,r){var o;return la(n)?(process.env.NODE_ENV!=="production"&&!Bi(t).values_.has(n)&&rl("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),(o=Bi(t).set_(n,r,!0))!=null?o:!0):!1},deleteProperty:function(t,n){var r;return process.env.NODE_ENV!=="production"&&rl("delete properties from an observable object. Use 'remove' from 'mobx' instead."),la(n)?(r=Bi(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return process.env.NODE_ENV!=="production"&&rl("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),(o=Bi(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return process.env.NODE_ENV!=="production"&&we.trackingDerivation&&rl("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),Bi(t).ownKeys_()},preventExtensions:function(t){Te(13)}};function dq(e,t){var n,r;return wS(),e=Cu(e,t),(r=(n=e[tt]).proxy_)!=null?r:n.proxy_=new Proxy(e,cq)}function fr(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function xu(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Em(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function hr(e,t){var n=wa();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&(t=r[o](t),t&&!t.type&&Te(14),!!t);o++);return t}finally{jo(n)}}function qr(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Eu(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Em(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Zr(e,t){var n=wa(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);jo(n)}}var o1="splice",Fr="update",fq=1e4,hq={get:function(t,n){var r=t[tt];return n===tt?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Kr(kd,n)?kd[n]:t[n]},set:function(t,n,r){var o=t[tt];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){Te(15)}},Dm=function(){function e(n,r,o,i){n===void 0&&(n=process.env.NODE_ENV!=="production"?"ObservableArray@"+ro():"ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new Mi(n),this.enhancer_=function(a,s){return r(a,s,process.env.NODE_ENV!=="production"?n+"[..]":"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return xu(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Eu(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Te("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var i=new Array(r-o),a=0;a<r-o;a++)i[a]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&Te(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&r2(r+o+1)},t.spliceWithArray_=function(r,o,i){var a=this;ho(this.atom_);var s=this.values_.length;if(r===void 0?r=0:r>s?r=s:r<0&&(r=Math.max(0,s+r)),arguments.length===1?o=s-r:o==null?o=0:o=Math.max(0,Math.min(o,s-r)),i===void 0&&(i=Od),fr(this)){var l=hr(this,{object:this.proxy_,type:o1,index:r,removedCount:o,added:i});if(!l)return Od;o=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(f){return a.enhancer_(f,void 0)}),this.legacyMode_||process.env.NODE_ENV!=="production"){var c=i.length-o;this.updateArrayLength_(s,c)}var d=this.spliceItemsIntoValues_(r,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(r,i,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,o,i){if(i.length<fq){var a;return(a=this.values_).splice.apply(a,[r,o].concat(i))}else{var s=this.values_.slice(r,r+o),l=this.values_.slice(r+o);this.values_.length+=i.length-o;for(var c=0;c<i.length;c++)this.values_[r+c]=i[c];for(var d=0;d<l.length;d++)this.values_[r+i.length+d]=l[d];return s}},t.notifyArrayChildUpdate_=function(r,o,i){var a=!this.owned_&&hn(),s=qr(this),l=s||a?{observableKind:"array",object:this.proxy_,type:Fr,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:i}:null;process.env.NODE_ENV!=="production"&&a&&tr(l),this.atom_.reportChanged(),s&&Zr(this,l),process.env.NODE_ENV!=="production"&&a&&nr()},t.notifyArraySplice_=function(r,o,i){var a=!this.owned_&&hn(),s=qr(this),l=s||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:o1,index:r,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;process.env.NODE_ENV!=="production"&&a&&tr(l),this.atom_.reportChanged(),s&&Zr(this,l),process.env.NODE_ENV!=="production"&&a&&nr()},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn(process.env.NODE_ENV!=="production"?"[mobx.array] Attempt to read an array index ("+r+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX":"[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var i=this.values_;if(this.legacyMode_&&r>i.length&&Te(17,r,i.length),r<i.length){ho(this.atom_);var a=i[r];if(fr(this)){var s=hr(this,{type:Fr,object:this.proxy_,index:r,newValue:o});if(!s)return;o=s.newValue}o=this.enhancer_(o,a);var l=o!==a;l&&(i[r]=o,this.notifyArrayChildUpdate_(r,o,a))}else{for(var c=new Array(r+1-i.length),d=0;d<c.length-1;d++)c[d]=void 0;c[c.length-1]=o,this.spliceWithArray_(i.length,0,c)}},e}();function pq(e,t,n,r){return n===void 0&&(n=process.env.NODE_ENV!=="production"?"ObservableArray@"+ro():"ObservableArray"),r===void 0&&(r=!1),wS(),Bs(function(){var o=new Dm(n,t,r,!1);ES(o.values_,tt,o);var i=new Proxy(o.values_,hq);return o.proxy_=i,e&&e.length&&o.spliceWithArray_(0,0,e),i})}var kd={clear:function(){return this.splice(0)},replace:function(t){var n=this[tt];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[tt];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[tt].spliceWithArray_(t,n,r)},push:function(){for(var t=this[tt],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[tt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[tt],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return we.trackingDerivation&&Te(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){we.trackingDerivation&&Te(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[tt],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Bt("at",sr);Bt("concat",sr);Bt("flat",sr);Bt("includes",sr);Bt("indexOf",sr);Bt("join",sr);Bt("lastIndexOf",sr);Bt("slice",sr);Bt("toString",sr);Bt("toLocaleString",sr);Bt("toSorted",sr);Bt("toSpliced",sr);Bt("with",sr);Bt("every",oo);Bt("filter",oo);Bt("find",oo);Bt("findIndex",oo);Bt("findLast",oo);Bt("findLastIndex",oo);Bt("flatMap",oo);Bt("forEach",oo);Bt("map",oo);Bt("some",oo);Bt("toReversed",oo);Bt("reduce",JS);Bt("reduceRight",JS);function Bt(e,t){typeof Array.prototype[e]=="function"&&(kd[e]=t(e))}function sr(e){return function(){var t=this[tt];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function oo(e){return function(t,n){var r=this,o=this[tt];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[e](function(a,s){return t.call(n,a,s,r)})}}function JS(e){return function(){var t=this,n=this[tt];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(i,a,s){return o(i,a,s,t)},r[e].apply(r,arguments)}}var vq=ba("ObservableArrayAdministration",Dm);function Bf(e){return Pf(e)&&vq(e[tt])}var gq={},si="add",Rd="delete",QS=function(){function e(n,r,o){var i=this;r===void 0&&(r=ua),o===void 0&&(o=process.env.NODE_ENV!=="production"?"ObservableMap@"+ro():"ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[tt]=gq,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,en(Map)||Te(18),Bs(function(){i.keysAtom_=OS(process.env.NODE_ENV!=="production"?i.name_+".keys()":"ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,n&&i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!we.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new Zi(this.has_(r),kf,process.env.NODE_ENV!=="production"?this.name_+"."+Pv(r)+"?":"ObservableMap.key?",!1);this.hasMap_.set(r,a),YS(a,function(){return o.hasMap_.delete(r)})}return i.get()},t.set=function(r,o){var i=this.has_(r);if(fr(this)){var a=hr(this,{type:i?Fr:si,object:this,newValue:o,name:r});if(!a)return this;o=a.newValue}return i?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(ho(this.keysAtom_),fr(this)){var i=hr(this,{type:Rd,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=hn(),s=qr(this),l=s||a?{observableKind:"map",debugObjectName:this.name_,type:Rd,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return process.env.NODE_ENV!=="production"&&a&&tr(l),Bo(function(){var c;o.keysAtom_.reportChanged(),(c=o.hasMap_.get(r))==null||c.setNewValue_(!1);var d=o.data_.get(r);d.setNewValue_(void 0),o.data_.delete(r)}),s&&Zr(this,l),process.env.NODE_ENV!=="production"&&a&&nr(),!0}return!1},t.updateValue_=function(r,o){var i=this.data_.get(r);if(o=i.prepareNewValue_(o),o!==we.UNCHANGED){var a=hn(),s=qr(this),l=s||a?{observableKind:"map",debugObjectName:this.name_,type:Fr,object:this,oldValue:i.value_,name:r,newValue:o}:null;process.env.NODE_ENV!=="production"&&a&&tr(l),i.setNewValue_(o),s&&Zr(this,l),process.env.NODE_ENV!=="production"&&a&&nr()}},t.addValue_=function(r,o){var i=this;ho(this.keysAtom_),Bo(function(){var c,d=new Zi(o,i.enhancer_,process.env.NODE_ENV!=="production"?i.name_+"."+Pv(r):"ObservableMap.key",!1);i.data_.set(r,d),o=d.value_,(c=i.hasMap_.get(r))==null||c.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=hn(),s=qr(this),l=s||a?{observableKind:"map",debugObjectName:this.name_,type:si,object:this,name:r,newValue:o}:null;process.env.NODE_ENV!=="production"&&a&&tr(l),s&&Zr(this,l),process.env.NODE_ENV!=="production"&&a&&nr()},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return i1({next:function(){var a=o.next(),s=a.done,l=a.value;return{done:s,value:s?void 0:r.get(l)}}})},t.entries=function(){var r=this,o=this.keys();return i1({next:function(){var a=o.next(),s=a.done,l=a.value;return{done:s,value:s?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var i=Fa(this),a;!(a=i()).done;){var s=a.value,l=s[0],c=s[1];r.call(o,c,l,this)}},t.merge=function(r){var o=this;return Ti(r)&&(r=new Map(r)),Bo(function(){xo(r)?$Y(r).forEach(function(i){return o.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],s=i[1];return o.set(a,s)}):Ls(r)?(LY(r)||Te(19,r),r.forEach(function(i,a){return o.set(a,i)})):r!=null&&Te(20,r)}),this},t.clear=function(){var r=this;Bo(function(){BS(function(){for(var o=Fa(r.keys()),i;!(i=o()).done;){var a=i.value;r.delete(a)}})})},t.replace=function(r){var o=this;return Bo(function(){for(var i=mq(r),a=new Map,s=!1,l=Fa(o.data_.keys()),c;!(c=l()).done;){var d=c.value;if(!i.has(d)){var f=o.delete(d);if(f)s=!0;else{var h=o.data_.get(d);a.set(d,h)}}}for(var p=Fa(i.entries()),v;!(v=p()).done;){var g=v.value,m=g[0],y=g[1],_=o.data_.has(m);if(o.set(m,y),o.data_.has(m)){var C=o.data_.get(m);a.set(m,C),_||(s=!0)}}if(!s)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var x=o.data_.keys(),S=a.keys(),b=x.next(),w=S.next();!b.done;){if(b.value!==w.value){o.keysAtom_.reportChanged();break}b=x.next(),w=S.next()}o.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return process.env.NODE_ENV!=="production"&&o===!0&&Te("`observe` doesn't support fireImmediately=true in combination with maps."),Eu(this,r)},t.intercept_=function(r){return xu(this,r)},$s(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Ti=ba("ObservableMap",QS);function i1(e){return e[Symbol.toStringTag]="MapIterator",Lm(e)}function mq(e){if(Ls(e)||Ti(e))return e;if(Array.isArray(e))return new Map(e);if(xo(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Te(21,e)}var yq={},e2=function(){function e(n,r,o){var i=this;r===void 0&&(r=ua),o===void 0&&(o=process.env.NODE_ENV!=="production"?"ObservableSet@"+ro():"ObservableSet"),this.name_=void 0,this[tt]=yq,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,en(Set)||Te(22),this.enhancer_=function(a,s){return r(a,s,o)},Bs(function(){i.atom_=OS(i.name_),n&&i.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Bo(function(){BS(function(){for(var o=Fa(r.data_.values()),i;!(i=o()).done;){var a=i.value;r.delete(a)}})})},t.forEach=function(r,o){for(var i=Fa(this),a;!(a=i()).done;){var s=a.value;r.call(o,s,s,this)}},t.add=function(r){var o=this;if(ho(this.atom_),fr(this)){var i=hr(this,{type:si,object:this,newValue:r});if(!i)return this}if(!this.has(r)){Bo(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var a=process.env.NODE_ENV!=="production"&&hn(),s=qr(this),l=s||a?{observableKind:"set",debugObjectName:this.name_,type:si,object:this,newValue:r}:null;a&&process.env.NODE_ENV!=="production"&&tr(l),s&&Zr(this,l),a&&process.env.NODE_ENV!=="production"&&nr()}return this},t.delete=function(r){var o=this;if(fr(this)){var i=hr(this,{type:Rd,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=process.env.NODE_ENV!=="production"&&hn(),s=qr(this),l=s||a?{observableKind:"set",debugObjectName:this.name_,type:Rd,object:this,oldValue:r}:null;return a&&process.env.NODE_ENV!=="production"&&tr(l),Bo(function(){o.atom_.reportChanged(),o.data_.delete(r)}),s&&Zr(this,l),a&&process.env.NODE_ENV!=="production"&&nr(),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),i=Array.from(this.values());return a1({next:function(){var s=r;return r+=1,s<i.length?{value:[o[s],i[s]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,i=Array.from(this.data_.values());return a1({next:function(){return o<i.length?{value:r.dehanceValue_(i[o++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(Lo(r)&&!fo(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(Lo(r)&&!fo(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Lo(r)&&!fo(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Lo(r)&&!fo(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return fo(r)&&(r=new Set(r)),Bo(function(){Array.isArray(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):Lo(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):r!=null&&Te("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return process.env.NODE_ENV!=="production"&&o===!0&&Te("`observe` doesn't support fireImmediately=true in combination with sets."),Eu(this,r)},t.intercept_=function(r){return xu(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},$s(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),fo=ba("ObservableSet",e2);function a1(e){return e[Symbol.toStringTag]="SetIterator",Lm(e)}var s1=Object.create(null),l1="remove",jv=function(){function e(n,r,o,i){r===void 0&&(r=new Map),i===void 0&&(i=hK),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new Mi(process.env.NODE_ENV!=="production"?this.name_+".keys":"ObservableObject.keys"),this.isPlainObject_=xo(this.target_),process.env.NODE_ENV!=="production"&&!i2(this.defaultAnnotation_)&&Te("defaultAnnotation must be valid annotation"),process.env.NODE_ENV!=="production"&&(this.appliedAnnotations_={})}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var i=this.values_.get(r);if(i instanceof Ar)return i.set(o),!0;if(fr(this)){var a=hr(this,{type:Fr,object:this.proxy_||this.target_,name:r,newValue:o});if(!a)return null;o=a.newValue}if(o=i.prepareNewValue_(o),o!==we.UNCHANGED){var s=qr(this),l=process.env.NODE_ENV!=="production"&&hn(),c=s||l?{type:Fr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:o}:null;process.env.NODE_ENV!=="production"&&l&&tr(c),i.setNewValue_(o),s&&Zr(this,c),process.env.NODE_ENV!=="production"&&l&&nr()}return!0},t.get_=function(r){return we.trackingDerivation&&!Kr(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,i){return i===void 0&&(i=!1),Kr(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):i?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!we.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Zi(r in this.target_,kf,process.env.NODE_ENV!=="production"?this.name_+"."+Pv(r)+"?":"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(d1(this,o,r),!(r in this.target_)){var i;if((i=this.target_[$o])!=null&&i[r])return;Te(1,o.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Tf;){var s=Nd(a,r);if(s){var l=o.make_(this,r,s,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}c1(this,o,r)}},t.extend_=function(r,o,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,o,a);d1(this,i,r);var s=i.extend_(this,r,o,a);return s&&c1(this,i,r),s},t.defineProperty_=function(r,o,i){i===void 0&&(i=!1),ho(this.keysAtom_);try{yr();var a=this.delete_(r);if(!a)return a;if(fr(this)){var s=hr(this,{object:this.proxy_||this.target_,name:r,type:si,newValue:o.value});if(!s)return null;var l=s.newValue;o.value!==l&&(o=mi({},o,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,o))return!1}else mo(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{_r()}return!0},t.defineObservableProperty_=function(r,o,i,a){a===void 0&&(a=!1),ho(this.keysAtom_);try{yr();var s=this.delete_(r);if(!s)return s;if(fr(this)){var l=hr(this,{object:this.proxy_||this.target_,name:r,type:si,newValue:o});if(!l)return null;o=l.newValue}var c=u1(r),d={configurable:we.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(a){if(!Reflect.defineProperty(this.target_,r,d))return!1}else mo(this.target_,r,d);var f=new Zi(o,i,process.env.NODE_ENV!=="production"?this.name_+"."+r.toString():"ObservableObject.key",!1);this.values_.set(r,f),this.notifyPropertyAddition_(r,f.value_)}finally{_r()}return!0},t.defineComputedProperty_=function(r,o,i){i===void 0&&(i=!1),ho(this.keysAtom_);try{yr();var a=this.delete_(r);if(!a)return a;if(fr(this)){var s=hr(this,{object:this.proxy_||this.target_,name:r,type:si,newValue:void 0});if(!s)return null}o.name||(o.name=process.env.NODE_ENV!=="production"?this.name_+"."+r.toString():"ObservableObject.key"),o.context=this.proxy_||this.target_;var l=u1(r),c={configurable:we.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,c))return!1}else mo(this.target_,r,c);this.values_.set(r,new Ar(o)),this.notifyPropertyAddition_(r,void 0)}finally{_r()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),ho(this.keysAtom_),!Kr(this.target_,r))return!0;if(fr(this)){var i=hr(this,{object:this.proxy_||this.target_,name:r,type:l1});if(!i)return null}try{var a;yr();var s=qr(this),l=process.env.NODE_ENV!=="production"&&hn(),c=this.values_.get(r),d=void 0;if(!c&&(s||l)){var f;d=(f=Nd(this.target_,r))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(process.env.NODE_ENV!=="production"&&delete this.appliedAnnotations_[r],c&&(this.values_.delete(r),c instanceof Zi&&(d=c.value_),FS(c)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),s||l){var h={type:l1,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};process.env.NODE_ENV!=="production"&&l&&tr(h),s&&Zr(this,h),process.env.NODE_ENV!=="production"&&l&&nr()}}finally{_r()}return!0},t.observe_=function(r,o){return process.env.NODE_ENV!=="production"&&o===!0&&Te("`observe` doesn't support the fire immediately property for observable objects."),Eu(this,r)},t.intercept_=function(r){return xu(this,r)},t.notifyPropertyAddition_=function(r,o){var i,a=qr(this),s=process.env.NODE_ENV!=="production"&&hn();if(a||s){var l=a||s?{type:si,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;process.env.NODE_ENV!=="production"&&s&&tr(l),a&&Zr(this,l),process.env.NODE_ENV!=="production"&&s&&nr()}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Sm(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Cu(e,t){var n;if(process.env.NODE_ENV!=="production"&&t&&Su(e)&&Te("Options can't be provided for already observable objects."),Kr(e,tt))return process.env.NODE_ENV!=="production"&&!(o2(e)instanceof jv)&&Te("Cannot convert '"+Ld(e)+`' into observable object:
The target is already observable of different type.
Extending builtins is not supported.`),e;process.env.NODE_ENV!=="production"&&!Object.isExtensible(e)&&Te("Cannot make the designated object observable; it is not extensible");var r=(n=t==null?void 0:t.name)!=null?n:process.env.NODE_ENV!=="production"?(xo(e)?"ObservableObject":e.constructor.name)+"@"+ro():"ObservableObject",o=new jv(e,new Map,String(r),CK(t));return Cm(e,tt,o),e}var _q=ba("ObservableObjectAdministration",jv);function u1(e){return s1[e]||(s1[e]={get:function(){return this[tt].getObservablePropValue_(e)},set:function(n){return this[tt].setObservablePropValue_(e,n)}})}function Su(e){return Pf(e)?_q(e[tt]):!1}function c1(e,t,n){var r;process.env.NODE_ENV!=="production"&&(e.appliedAnnotations_[n]=t),(r=e.target_[$o])==null||delete r[n]}function d1(e,t,n){if(process.env.NODE_ENV!=="production"&&!i2(t)&&Te("Cannot annotate '"+e.name_+"."+n.toString()+"': Invalid annotation."),process.env.NODE_ENV!=="production"&&!Md(t)&&Kr(e.appliedAnnotations_,n)){var r=e.name_+"."+n.toString(),o=e.appliedAnnotations_[n].annotationType_,i=t.annotationType_;Te("Cannot apply '"+i+"' to '"+r+"':"+(`
The field is already annotated with '`+o+"'.")+`
Re-annotating fields is not allowed.
Use 'override' annotation for methods overridden by subclass.`)}}var bq=n2(0),wq=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),sp=0,t2=function(){};function xq(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}xq(t2,Array.prototype);var km=function(e){function t(r,o,i,a){var s;return i===void 0&&(i=process.env.NODE_ENV!=="production"?"ObservableArray@"+ro():"ObservableArray"),a===void 0&&(a=!1),s=e.call(this)||this,Bs(function(){var l=new Dm(i,o,a,!0);l.proxy_=s,ES(s,tt,l),r&&r.length&&s.spliceWithArray(0,0,r),wq&&Object.defineProperty(s,"0",bq)}),s}NS(t,e);var n=t.prototype;return n.concat=function(){this[tt].atom_.reportObserved();for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),i.map(function(s){return Bf(s)?s.slice():s}))},n[Symbol.iterator]=function(){var r=this,o=0;return Lm({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},$s(t,[{key:"length",get:function(){return this[tt].getArrayLength_()},set:function(o){this[tt].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(t2);Object.entries(kd).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Cm(km.prototype,t,n)});function n2(e){return{enumerable:!1,configurable:!0,get:function(){return this[tt].get_(e)},set:function(n){this[tt].set_(e,n)}}}function Eq(e){mo(km.prototype,""+e,n2(e))}function r2(e){if(e>sp){for(var t=sp;t<e+100;t++)Eq(t);sp=e}}r2(1e3);function Cq(e,t,n){return new km(e,t,n)}function gs(e,t){if(typeof e=="object"&&e!==null){if(Bf(e))return t!==void 0&&Te(23),e[tt].atom_;if(fo(e))return e.atom_;if(Ti(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Te(25,t,Ld(e)),n}if(Su(e)){if(!t)return Te(26);var r=e[tt].values_.get(t);return r||Te(27,t,Ld(e)),r}if(Nm(e)||$f(e)||Dd(e))return e}else if(en(e)&&Dd(e[tt]))return e[tt];Te(28)}function o2(e,t){if(e||Te(29),Nm(e)||$f(e)||Dd(e)||Ti(e)||fo(e))return e;if(e[tt])return e[tt];Te(24,e)}function Ld(e,t){var n;if(t!==void 0)n=gs(e,t);else{if(ps(e))return e.name;Su(e)||Ti(e)||fo(e)?n=o2(e):n=gs(e)}return n.name_}function Bs(e){var t=wa(),n=Am(!0);yr();try{return e()}finally{_r(),Mm(n),jo(t)}}var f1=Tf.toString;function Rm(e,t,n){return n===void 0&&(n=-1),Vv(e,t,n)}function Vv(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var a=f1.call(e);if(a!==f1.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=h1(e),t=h1(t);var s=a==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(en(l)&&l instanceof l&&en(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var d=r.length;d--;)if(r[d]===e)return o[d]===t;if(r.push(e),o.push(t),s){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!Vv(e[d],t[d],n-1,r,o))return!1}else{var f=Object.keys(e),h;if(d=f.length,Object.keys(t).length!==d)return!1;for(;d--;)if(h=f[d],!(Kr(t,h)&&Vv(e[h],t[h],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function h1(e){return Bf(e)?e.slice():Ls(e)||Ti(e)||Lo(e)||fo(e)?Array.from(e.entries()):e}var p1,Sq=((p1=xm().Iterator)==null?void 0:p1.prototype)||{};function Lm(e){return e[Symbol.iterator]=Nq,Object.assign(Object.create(Sq),e)}function Nq(){return this}function i2(e){return e instanceof Object&&typeof e.annotationType_=="string"&&en(e.make_)&&en(e.extend_)}["Symbol","Map","Set"].forEach(function(e){var t=xm();typeof t[e]>"u"&&Te("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:WK,extras:{getDebugName:Ld},$mobx:tt});ya.use(kG);ya.use(TG);ya.use(DG);ya.use(sG);ya.use(OG);ya.use(QW);class Oq extends ya{constructor(t){super(t),Object.defineProperty(this.graphModel,"toFront",{writable:!0}),this.graphModel.toFront=Xi(()=>{})}}const Aq=u.defineComponent({name:"LfDesigner",__name:"index",props:{data:{type:Object,default:()=>null},props:{type:Object,default:()=>null},editable:{type:Boolean,default:!0},minimap:{type:Boolean,default:void 0}},emits:["init"],setup(e,{expose:t,emit:n}){const r=e,o=n,i=u.shallowRef(),a=u.shallowRef();async function s(c){await u.nextTick(),i.value=new Oq({isSilentMode:!r.editable,allowRotate:r.editable,allowResize:r.editable,multipleSelectKey:"shift",keyboard:{enabled:!0,shortcuts:NY(i)},grid:{type:"mesh",size:10,config:{color:"rgba(204,204,204,0.2)"}},...r.props||{},container:a.value}),i.value.setTheme(SY),bY(i),MY(i),OY(i),i.value.setDefaultEdgeType("pro-polyline"),o("init",i.value),i.value.render(c),r.minimap&&i.value.extension.miniMap.show(0,0)}function l(c){i.value?i.value.render(c):s(c)}return u.onMounted(()=>s(r.data)),t({renderData:l}),(c,d)=>(u.openBlock(),u.createElementBlock("div",{ref_key:"container",ref:a,style:{width:"100%",height:"100%"}},null,512))}}),Mq={class:"edit-item_label"},Tq={key:0,style:{"max-width":"40vw","word-break":"break-word","white-space":"normal",display:"inline-block",overflow:"hidden"}},Pq=["title"],Dq={class:"edit-item_content"},kq={class:"edit-item_form-item"},Rq={key:0,class:"edit-item_description"},Lq={key:0},$q=u.defineComponent({name:"EditItem",__name:"EditItem",props:{label:{type:String,default:""},description:{type:String,default:""},tooltip:{type:String,default:""},align:{type:String,default:"horizontal"},prefix:{type:[String,Boolean],default:"："},textAlign:{type:String,default:"right",validator:e=>["left","center","right"].includes(e)},labelWidth:{type:[Number,String],default:100}},setup(e){const t=e,n=u.computed(()=>({"--label-width":typeof t.labelWidth=="string"?t.labelWidth:`${t.labelWidth}px`,"--text-align":t.textAlign,"--el-align":t.align==="vertical"?"column":"row"})),r=u.computed(()=>t.prefix?typeof t.prefix=="string"?`${t.label}${t.prefix}`:`${t.label}：`:t.label);return(o,i)=>{const a=Qv;return u.openBlock(),u.createElementBlock("div",{class:"edit-item",style:u.normalizeStyle(n.value)},[u.createElementVNode("div",Mq,[e.tooltip||o.$slots.tooltip?(u.openBlock(),u.createBlock(a,{key:0,position:"tr"},{content:u.withCtx(()=>[o.$slots.tooltip?u.createCommentVNode("",!0):(u.openBlock(),u.createElementBlock("div",Tq,u.toDisplayString(e.tooltip),1)),u.renderSlot(o.$slots,"tooltip",{},void 0,!0)]),default:u.withCtx(()=>[u.createVNode(u.unref(hP),{size:14,style:{"margin-right":"6px"}})]),_:3})):u.createCommentVNode("",!0),u.createElementVNode("span",{title:e.label},u.toDisplayString(r.value),9,Pq)]),u.createElementVNode("div",Dq,[u.createElementVNode("div",kq,[u.renderSlot(o.$slots,"default",{},void 0,!0)]),e.description||o.$slots.description?(u.openBlock(),u.createElementBlock("div",Rq,[e.description?(u.openBlock(),u.createElementBlock("span",Lq,u.toDisplayString(e.description),1)):u.createCommentVNode("",!0),u.renderSlot(o.$slots,"description",{},void 0,!0)])):u.createCommentVNode("",!0)])],4)}}}),Bq=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Kn=Bq($q,[["__scopeId","data-v-441b1447"]]),Iq=[{backgroundColor:"#ffffff",borderWidth:1,borderColor:"#2a2a2a"},{backgroundColor:"#f5f5f5",borderWidth:1,borderColor:"#666666"},{backgroundColor:"#dae8fc",borderWidth:1,borderColor:"#6c8ebf"},{backgroundColor:"#d5e8d4",borderWidth:1,borderColor:"#82b366"},{backgroundColor:"#ffe6cc",borderWidth:1,borderColor:"#d79b00"},{backgroundColor:"#fff2cc",borderWidth:1,borderColor:"#d6b656"},{backgroundColor:"#f8cecc",borderWidth:1,borderColor:"#b85450"},{backgroundColor:"#dcd2e6",borderWidth:1,borderColor:"#9673a6"}],jq=[{value:"solid",label:"solid"},{value:"dashed",label:"dashed"},{value:"dotted",label:"dotted"}],Vq=[{value:"Arial",label:"Arial"},{value:"Verdana",label:"Verdana"},{value:"Georgia",label:"Georgia"},{value:"Times New Roman",label:"Times New Roman"}],zq=["width","height"],a2=u.defineComponent({name:"IconProcess",__name:"Process",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{"fill-rule":"evenodd",fill:"currentColor",d:"M16.17724,0.0001639959 L16.31392,0.0023359416 C16.76624,0.011039724 17.21392,0.0385110372 17.65632,0.0839979001 C18.0024,0.11959701 18.27616,0.386950326 18.33536,0.729789755 L18.33536,0.729789755 L18.77264,3.26599835 C18.82752,3.58453439 19.06944,3.83640009 19.38128,3.92130997 C20.36656,4.18952726 21.30368,4.57442964 22.17696,5.06024149 C22.45616,5.21558161 22.80064,5.20641384 23.06176,5.02214645 L23.06176,5.02214645 L25.14544,3.55133522 C25.42944,3.35079623 25.812,3.35521212 26.08192,3.57448664 C26.94128,4.27262918 27.72672,5.05812955 28.4248,5.91746806 C28.64416,6.18736532 28.64848,6.56977176 28.448,6.85387665 L28.448,6.85387665 L27.00928,8.8920337 C26.82224,9.15689108 26.81584,9.50723432 26.97776,9.7880913 C27.49024,10.6768691 27.89728,11.6341571 28.18176,12.6428359 C28.2688,12.9513082 28.51936,13.1897023 28.83504,13.2441009 L28.83504,13.2441009 L31.2696,13.6637704 C31.61248,13.7229689 31.87984,13.9965621 31.91536,14.3426334 C31.95488,14.7245439 31.98032,15.1072543 31.99216,15.4904447 C31.99744,15.6592405 32,15.8288363 32,15.998912 C32,16.1353886 31.9984,16.2715452 31.99488,16.4073818 L31.99488,16.4073818 L31.99168,16.521139 C31.97952,16.9027294 31.95392,17.2808 31.91536,17.6551906 C31.87984,18.001262 31.61248,18.2748551 31.2696,18.3340536 L31.2696,18.3340536 L28.87376,18.7470033 C28.552,18.8047619 28.30208,19.0463558 28.21808,19.3572281 C27.93952,20.3880823 27.53328,21.3664578 27.01744,22.2744351 C26.85824,22.5545881 26.86576,22.9025794 27.05168,23.1657729 L27.05168,23.1657729 L28.448,25.1439634 C28.64848,25.4281163 28.64416,25.8105067 28.4248,26.08042 C27.72672,26.9397585 26.94112,27.7251789 26.08192,28.4234014 C25.812,28.6425959 25.42944,28.6470758 25.14544,28.4464408 L25.14544,28.4464408 L23.15472,27.041516 C22.89296,26.8640804 22.55152,26.8591205 22.27584,27.0159166 C21.36784,27.5317437 20.38944,27.9379736 19.35856,28.2165266 C19.04608,28.3010045 18.80336,28.5531582 18.74832,28.8721902 L18.74832,28.8721902 L18.33536,31.2679703 C18.27616,31.6108417 18.0024,31.878195 17.65632,31.9138742 C16.55504,32.0277913 15.44528,32.0277913 14.34384,31.9138742 C13.99776,31.878195 13.72416,31.6108417 13.66496,31.2681303 L13.66496,31.2681303 L13.24208,28.8163516 C13.18208,28.5086793 12.94688,28.2656454 12.643968,28.1802075 C12.141232,28.038451 11.651248,27.8662953 11.17616,27.6656604 C10.6932,27.4701452 10.21992,27.2434309 9.759424,26.9855174 C9.482816,26.8306412 9.141536,26.8373611 8.880752,27.0165566 L8.880752,27.0165566 L6.854784,28.4466008 C6.570672,28.6470758 6.188256,28.6425959 5.918352,28.4234014 C5.580592,28.1490083 5.25424,27.8611755 4.940112,27.560543 C4.854784,27.478945 4.77016,27.3962271 4.686288,27.3123892 C4.596352,27.2224714 4.507712,27.1315937 4.4204,27.040076 C4.12632,26.7317637 3.844448,26.4116117 3.57552,26.08074 C3.355968,25.8108267 3.350976,25.4289163 3.551616,25.1446034 L3.551616,25.1446034 L4.9536,23.158573 C5.140336,22.8939397 5.147072,22.5441884 4.98576,22.2633954 C4.453824,21.3374986 4.049248,20.358483 3.772048,19.3516282 C3.686496,19.040916 3.435056,18.800282 3.117456,18.7455634 L3.117456,18.7455634 L0.73128,18.3342136 C0.388592,18.2751751 0.121296,18.001582 0.085488,17.6556706 C-0.028496,16.5544181 -0.028496,15.4435659 0.085488,14.3421534 C0.12128,13.9964021 0.388576,13.7228089 0.73128,13.6637704 L0.73128,13.6637704 L3.117456,13.2522607 C3.435056,13.1975421 3.686496,12.9569081 3.772048,12.6462278 C4.049248,11.639437 4.453824,10.6603895 4.98576,9.73454064 C5.147072,9.45376366 5.140336,9.1039164 4.9536,8.83936302 L4.9536,8.83936302 L3.551568,6.85322067 C3.350944,6.56900377 3.35592,6.18707732 3.575472,5.91719607 C3.844416,5.58618035 4.12632,5.26610835 4.420416,4.95778006 C4.507728,4.86619835 4.596352,4.77543261 4.686288,4.68548286 C4.77016,4.60162896 4.854768,4.51889503 4.94008,4.43729707 C5.254224,4.13672858 5.580576,3.84881578 5.918352,3.57442264 C6.188256,3.35514812 6.570672,3.35074823 6.854784,3.55128722 L6.854784,3.55128722 L8.884992,4.98433939 C9.145216,5.16057499 9.484304,5.16644684 9.759424,5.01237069 C10.673808,4.50025549 11.638544,4.11117722 12.629424,3.84510387 C12.94256,3.76102597 13.1856,3.50868028 13.2408,3.18918427 L13.2408,3.18918427 L13.66496,0.729773756 C13.72416,0.386934327 13.99776,0.11958101 14.34384,0.0839819005 C14.84496,0.0321111972 15.34752,0.004559886 15.85072,1.53403765e-15 L15.85072,1.53403765e-15 L16.17724,0.0001639959 L16.17724,0.0001639959 Z M16,6.39915202 C10.698064,6.39915202 6.4,10.6971086 6.4,15.998912 C6.4,21.3006995 10.698064,25.598672 16,25.598672 C21.30192,25.598672 25.6,21.3006995 25.6,15.998912 C25.6,10.6971086 21.30192,6.39915202 16,6.39915202 Z M13,10.6834616 C13,9.25829358 14.6366646,8.47976633 15.7145891,9.39213001 L15.7145891,9.39213001 L21.4044355,14.2079889 C22.1985215,14.8800286 22.1985215,16.118545 21.4044355,16.7905847 L21.4044355,16.7905847 L15.7145891,21.6064772 C14.6366646,22.5188913 13,21.74028 13,20.3151793 L13,20.3151793 Z"},null,-1)]),8,zq))}}),Fq={class:"lf-penal_header"},Hq={class:"lf-panel_content"},Wq={class:"lf-panel_content"},Gq={class:"short-styles"},Xq=["onClick"],Uq=u.defineComponent({name:"LfPanel",__name:"index",props:{elements:{type:Array,default:()=>[]},elementsStyle:{type:Object,default:()=>({})},onlyEdge:{type:Boolean,default:!1},translatePrefix:{type:String,default:""}},emits:["setStyle","setEdgeType","setZIndex"],setup(e,{expose:t,emit:n}){const r=e,o=n,{t:i}=$d.useI18n(),a=u.ref(!0),s=["Common"],l=u.ref([...s]);function c(S){Bd(S)?a.value=!a.value:a.value=S}const d=u.ref("pro-polyline"),f=[{value:"pro-polyline",label:"折线"},{value:"pro-line",label:"直线"},{value:"pro-bezier",label:"曲线"}];function h(S){o("setEdgeType",S)}const p=u.ref({...Zb}),v=u.ref(Im(11,S=>S+1)),g=u.ref(Im(5,S=>1+S*.5));function m(S){o("setStyle",{...S})}function y(S,b){o("setStyle",{[b]:S})}const _={fontWeight:"normal",textDecoration:"none",fontStyle:"normal"};function C(S,b){S===p.value[b]?o("setStyle",{[b]:_[b]}):o("setStyle",{[b]:S})}function x(S){if(p.value[S])return p.value[S]===_[S]?void 0:"primary"}return u.watch(()=>r.elementsStyle,S=>p.value={...Zb,...S||{}},{immediate:!0}),u.watch(()=>r.elements,S=>{var b;d.value=((b=S[0])==null?void 0:b.type)||"pro-polyline"},{deep:!0,immediate:!0}),t({togglePanel:c}),(S,b)=>{const w=u.resolveComponent("icon-double-left"),T=V1,k=hl,I=U1,X=LM,te=pl,E=Za,P=fl,R=vl,$=XT,Y=tg,ie=Wa,be=q1;return u.openBlock(),u.createElementBlock("div",{class:u.normalizeClass(["lf-designer_panel",{open:u.unref(a)}])},[u.createElementVNode("div",{class:"toggle-btn",onClick:b[0]||(b[0]=ne=>c())},[u.createVNode(w,{size:12})]),u.createElementVNode("div",Fq,[u.createVNode(a2,{size:32}),u.createElementVNode("div",null,u.toDisplayString(u.unref(i)(`${e.translatePrefix}PropertiesPanel`)),1)]),u.withDirectives(u.createElementVNode("div",Hq,[u.createVNode(T,{description:u.unref(i)(`${e.translatePrefix}Please select a shape`)},null,8,["description"])],512),[[u.vShow,!e.elements.length]]),u.withDirectives(u.createElementVNode("div",Wq,[u.createVNode(be,{"active-key":u.unref(l),"onUpdate:activeKey":b[25]||(b[25]=ne=>u.isRef(l)?l.value=ne:null),bordered:!1,size:"small","expand-icon-position":"right"},{default:u.withCtx(()=>[u.createVNode(R,{key:"Common"},{header:u.withCtx(()=>[u.createVNode(u.unref(fP),{size:16,"strock-width":2}),u.createTextVNode(u.toDisplayString(u.unref(i)(`${e.translatePrefix}Common`)),1)]),default:u.withCtx(()=>[u.withDirectives(u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}quickStyle`)},{default:u.withCtx(()=>[u.createElementVNode("div",Gq,[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(u.unref(Iq),(ne,W)=>(u.openBlock(),u.createElementBlock("div",{key:W,style:u.normalizeStyle({backgroundColor:ne.backgroundColor,borderColor:ne.borderColor,borderWidth:ne.borderWidth}),onClick:fe=>m(ne)},null,12,Xq))),128))])]),_:1},8,["label"]),[[u.vShow,!e.onlyEdge]]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}borderStyle`)},{default:u.withCtx(()=>[u.createVNode(I,{modelValue:u.unref(p).borderStyle,"onUpdate:modelValue":b[1]||(b[1]=ne=>u.unref(p).borderStyle=ne),class:"border-style-select",onChange:b[2]||(b[2]=ne=>y(ne,"borderStyle"))},{default:u.withCtx(()=>[u.createVNode(k,{value:"hidden",label:u.unref(i)(`${e.translatePrefix}Hidden`)},null,8,["label"]),(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(u.unref(jq),ne=>(u.openBlock(),u.createBlock(k,{key:ne.value,value:ne.value},{default:u.withCtx(()=>[u.createElementVNode("span",null,u.toDisplayString(u.unref(i)(e.translatePrefix+ne.label)),1),u.createElementVNode("div",{class:"border-style",style:u.normalizeStyle({borderBottomStyle:ne.value})},null,4)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),u.withDirectives(u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}lineType`)},{default:u.withCtx(()=>[u.createVNode(I,{modelValue:u.unref(d),"onUpdate:modelValue":b[3]||(b[3]=ne=>u.isRef(d)?d.value=ne:null),onChange:h},{default:u.withCtx(()=>[(u.openBlock(),u.createElementBlock(u.Fragment,null,u.renderList(f,ne=>u.createVNode(k,{key:ne.value,value:ne.value,label:ne.label},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[u.vShow,e.onlyEdge]]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}textAlign`)},{default:u.withCtx(()=>[u.createVNode(te,{modelValue:u.unref(p).textAlign,"onUpdate:modelValue":b[4]||(b[4]=ne=>u.unref(p).textAlign=ne),type:"button",size:"mini",onChange:b[5]||(b[5]=ne=>y(ne,"textAlign"))},{default:u.withCtx(()=>[u.createVNode(X,{value:"left"},{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(i)(`${e.translatePrefix}leftAligned`)),1)]),_:1}),u.createVNode(X,{value:"center"},{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(i)(`${e.translatePrefix}centerAligned`)),1)]),_:1}),u.createVNode(X,{value:"right"},{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(i)(`${e.translatePrefix}rightAligned`)),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}hierarchicalControl`)},{default:u.withCtx(()=>[u.createVNode(P,null,{default:u.withCtx(()=>[u.createVNode(E,{onClick:b[6]||(b[6]=ne=>o("setZIndex","top"))},{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(i)(`${e.translatePrefix}setToTop`)),1)]),_:1}),u.createVNode(E,{onClick:b[7]||(b[7]=ne=>o("setZIndex","bottom"))},{default:u.withCtx(()=>[u.createTextVNode(u.toDisplayString(u.unref(i)(`${e.translatePrefix}setToBottom`)),1)]),_:1})]),_:1})]),_:1},8,["label"])]),_:1}),u.createVNode(R,{key:"Other"},{header:u.withCtx(()=>[u.createVNode(u.unref(_P),{size:16,"strock-width":2}),u.createTextVNode(u.toDisplayString(u.unref(i)(`${e.translatePrefix}Other`)),1)]),default:u.withCtx(()=>[u.withDirectives(u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}backgroundColor`)},{default:u.withCtx(()=>[u.createVNode($,{modelValue:u.unref(p).backgroundColor,"onUpdate:modelValue":b[8]||(b[8]=ne=>u.unref(p).backgroundColor=ne),size:"mini","show-text":"",onChange:b[9]||(b[9]=ne=>y(ne,"backgroundColor"))},null,8,["modelValue"])]),_:1},8,["label"]),[[u.vShow,!e.onlyEdge]]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}borderColor`)},{default:u.withCtx(()=>[u.createVNode($,{modelValue:u.unref(p).borderColor,"onUpdate:modelValue":b[10]||(b[10]=ne=>u.unref(p).borderColor=ne),size:"mini","show-text":"",onChange:b[11]||(b[11]=ne=>y(ne,"borderColor"))},null,8,["modelValue"])]),_:1},8,["label"]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}borderWidth`)},{default:u.withCtx(()=>[u.createVNode(I,{modelValue:u.unref(p).borderWidth,"onUpdate:modelValue":b[12]||(b[12]=ne=>u.unref(p).borderWidth=ne),onChange:b[13]||(b[13]=ne=>y(ne,"borderWidth"))},{default:u.withCtx(()=>[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(u.unref(v),ne=>(u.openBlock(),u.createBlock(k,{key:ne,label:`${ne}px`,value:ne},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}fontColor`)},{default:u.withCtx(()=>[u.createVNode($,{modelValue:u.unref(p).fontColor,"onUpdate:modelValue":b[14]||(b[14]=ne=>u.unref(p).fontColor=ne),size:"mini","show-text":"",onChange:b[15]||(b[15]=ne=>y(ne,"fontColor"))},null,8,["modelValue"])]),_:1},8,["label"]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}fontSize`)},{default:u.withCtx(()=>[u.createVNode(ie,null,{default:u.withCtx(()=>[u.createVNode(Y,{modelValue:u.unref(p).fontSize,"onUpdate:modelValue":b[16]||(b[16]=ne=>u.unref(p).fontSize=ne),min:10,max:30,onChange:b[17]||(b[17]=ne=>y(ne,"fontSize"))},null,8,["modelValue"]),u.createVNode(E,null,{default:u.withCtx(()=>b[26]||(b[26]=[u.createTextVNode("px")])),_:1})]),_:1})]),_:1},8,["label"]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}fontFamily`)},{default:u.withCtx(()=>[u.createVNode(I,{modelValue:u.unref(p).fontFamily,"onUpdate:modelValue":b[18]||(b[18]=ne=>u.unref(p).fontFamily=ne),onChange:b[19]||(b[19]=ne=>y(ne,"fontFamily"))},{default:u.withCtx(()=>[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(u.unref(Vq),(ne,W)=>(u.openBlock(),u.createBlock(k,{key:W,value:ne.value,label:ne.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}lineHeight`)},{default:u.withCtx(()=>[u.createVNode(I,{modelValue:u.unref(p).lineHeight,"onUpdate:modelValue":b[20]||(b[20]=ne=>u.unref(p).lineHeight=ne),onChange:b[21]||(b[21]=ne=>y(ne,"lineHeight"))},{default:u.withCtx(()=>[(u.openBlock(!0),u.createElementBlock(u.Fragment,null,u.renderList(u.unref(g),(ne,W)=>(u.openBlock(),u.createBlock(k,{key:W,label:`${ne}`,value:ne},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),u.createVNode(Kn,{label:u.unref(i)(`${e.translatePrefix}textStyle`)},{default:u.withCtx(()=>[u.createVNode(P,null,{default:u.withCtx(()=>[u.createVNode(E,{type:x("fontWeight"),onClick:b[22]||(b[22]=ne=>C("bold","fontWeight"))},{default:u.withCtx(()=>b[27]||(b[27]=[u.createTextVNode(" B ")])),_:1},8,["type"]),u.createVNode(E,{type:x("textDecoration"),onClick:b[23]||(b[23]=ne=>C("underline","textDecoration"))},{default:u.withCtx(()=>b[28]||(b[28]=[u.createTextVNode(" U ")])),_:1},8,["type"]),u.createVNode(E,{type:x("fontStyle"),onClick:b[24]||(b[24]=ne=>C("italic","fontStyle"))},{default:u.withCtx(()=>b[29]||(b[29]=[u.createTextVNode(" I ")])),_:1},8,["type"])]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["active-key"])],512),[[u.vShow,e.elements.length]])],2)}}}),Yq={class:"lf-designer_container"},Kq=u.defineComponent({name:"IntegralDesigner",__name:"index",props:{data:{type:Object,default:()=>null},useSave:{type:Boolean,default:!1},useOpen:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},props:{type:Object,default:()=>null},minimap:{type:Boolean,default:void 0},panel:{type:Boolean,default:!0},language:{type:String,default:"zh_CN"},theme:{type:String,default:"light"},fileName:{type:String,default:"Process"},translatePrefix:{type:String,default:""},timeout:{type:Number,default:5e3}},emits:["dataChanged"],setup(e,{expose:t,emit:n}){const r=e,o=n,i=u.shallowRef(),a=u.shallowRef(),s=u.shallowRef(),l=u.ref({}),c=u.ref([]),d=u.ref([]);function f(){let E={};const{nodes:P,edges:R}=i.value.getSelectElements();return P.forEach($=>{E={...E,...$.properties}}),R.forEach($=>{E={...E,...$.properties}}),l.value=E,E}function h(E){for(const P of d.value)i.value.graphModel.changeEdgeType(P.id,E)}function p(E){for(const P of c.value)i.value.setProperties(P.id,{...E});for(const P of d.value)i.value.setProperties(P.id,{...E});f()}function v(E){c.value.forEach(({id:P})=>{i.value.setElementZIndex(P,E)}),d.value.forEach(({id:P})=>{i.value.setElementZIndex(P,E)})}async function g(){await u.nextTick();const{nodes:E,edges:P}=i.value.getSelectElements();d.value=P,c.value=E,f()}const m=_2(()=>{var P;const E=i.value.getGraphRawData();o("dataChanged",E),(P=window.lfDesigner)!=null&&P.dataChangeCallback&&window.lfDesigner.dataChangeCallback(E)},r.timeout);function y(E){i.value=E,E.on("selection:selected,node:click,blank:click,edge:click",g),E.on("history:change",m)}function _(E){i.value.dnd.startDrag({type:E})}const C=u.ref("light");function x(){return r.theme?C.value=r.theme:C.value=document.body.getAttribute("arco-theme")==="dark"?"dark":"light",C.value}x();function S(E){if(E){document.body.setAttribute("arco-theme",E);return}const P=x()==="dark";C.value=P?"light":"dark",document.body.setAttribute("arco-theme",C.value)}const{locale:b}=$d.useI18n();function w(E){E?b.value=E:b.value=b.value==="zh_CN"?"en_US":"zh_CN",zv("local-lang",b.value)}function T(E){if(!i.value)return console.error("请先初始化 LogicFlow 实例");i.value.render(E),i.value.resetZoom(),i.value.translateCenter()}function k(){var E;return(E=i.value)==null?void 0:E.getGraphRawData()}function I(){}const X=u.shallowRef();function te(E){var P;(P=X.value)==null||P.togglePanel(E)}return u.watchEffect(()=>void 0),u.watch(()=>r.language,w,{immediate:!0}),u.watch(()=>r.theme,S,{immediate:!0}),u.watch(()=>r.panel,te),t({provideInstance:i,designer:a,toolbar:s,toggleTheme:S,toggleLang:w,togglePanel:te,importNewData:T,exportNewData:k}),(E,P)=>{const R=KT;return u.openBlock(),u.createBlock(R,{size:"mini"},{default:u.withCtx(()=>[u.createElementVNode("div",{id:"lf-designer__wrap",class:u.normalizeClass(["lf-designer_wrap",{"is-readonly":!e.editable}])},[e.editable?(u.openBlock(),u.createBlock(tX,{key:0,"translate-prefix":e.translatePrefix,onDragInNode:_},null,8,["translate-prefix"])):u.createCommentVNode("",!0),u.createElementVNode("div",Yq,[u.createVNode(ZG,{ref_key:"toolbar",ref:s,lf:u.unref(i),"use-save":e.useSave,"use-open":e.useOpen,editable:e.editable,"file-name":e.fileName,"translate-prefix":e.translatePrefix},{default:u.withCtx(()=>[u.createCommentVNode("",!0)]),_:1},8,["lf","use-save","use-open","editable","file-name","translate-prefix"]),u.createVNode(Aq,{ref_key:"designer",ref:a,data:e.data,minimap:e.minimap,props:e.props,editable:e.editable,onInit:y},null,8,["data","minimap","props","editable"])]),e.editable?(u.openBlock(),u.createBlock(Uq,{key:1,ref_key:"panelRef",ref:X,"only-edge":u.unref(c).length===0,elements:[...u.unref(d),...u.unref(c)],"elements-style":u.unref(l),"translate-prefix":e.translatePrefix,onSetEdgeType:h,onSetStyle:p,onSetZIndex:v},null,8,["only-edge","elements","elements-style","translate-prefix"])):u.createCommentVNode("",!0)],2)]),_:1})}}}),qq=["width","height"],Zq=u.defineComponent({name:"IconActor",__name:"Actor",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("ellipse",{cx:"15.75",cy:"4.73",rx:"3.375",ry:"3.375",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"}),u.createElementVNode("path",{d:"M 15.75 8.1 L 15.75 19.35 M 15.75 10.35 L 9 10.35 M 15.75 10.35 L 22.5 10.35 M 15.75 19.35 L 9 28.35 M 15.75 19.35 L 22.5 28.35",fill:"none",stroke:"currentColor","stroke-width":"10","stroke-miterlimit":"10","pointer-events":"stroke",visibility:"hidden"}),u.createElementVNode("path",{d:"M 15.75 8.1 L 15.75 19.35 M 15.75 10.35 L 9 10.35 M 15.75 10.35 L 22.5 10.35 M 15.75 19.35 L 9 28.35 M 15.75 19.35 L 22.5 28.35",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-miterlimit":"10","pointer-events":"all"})],-1)]),8,qq))}}),Jq=["width","height"],Qq=u.defineComponent({name:"IconAreaSelect",__name:"AreaSelect",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{d:"M933.647059 0h-210.82353v90.352941h180.705883a30.117647 30.117647 0 0 1 30.117647 30.117647v180.705883h90.352941V90.352941a90.352941 90.352941 0 0 0-90.352941-90.352941zM361.411765 0h301.17647v90.352941H361.411765zM933.647059 361.411765h90.352941v301.17647h-90.352941zM361.411765 933.647059h301.17647v90.352941H361.411765zM0 361.411765h90.352941v301.17647H0zM90.352941 903.529412v-180.705883H0v210.82353a90.352941 90.352941 0 0 0 90.352941 90.352941h210.82353v-90.352941H120.470588a30.117647 30.117647 0 0 1-30.117647-30.117647zM933.647059 903.529412a30.117647 30.117647 0 0 1-30.117647 30.117647h-180.705883v90.352941h210.82353a90.352941 90.352941 0 0 0 90.352941-90.352941v-210.82353h-90.352941zM0 90.352941v210.82353h90.352941V120.470588a30.117647 30.117647 0 0 1 30.117647-30.117647h180.705883V0H90.352941a90.352941 90.352941 0 0 0-90.352941 90.352941z","p-id":"1890"},null,-1)]),8,Jq))}}),eZ=["width","height"],tZ=u.defineComponent({name:"IconCircle",__name:"Circle",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("ellipse",{cx:"15",cy:"15",rx:"14",ry:"14",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,eZ))}}),nZ=["width","height"],rZ=u.defineComponent({name:"IconColorFill",__name:"ColorFill",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{fill:"currentColor",d:"M810.666667 618.666667s-85.333333 93.866667-85.333334 149.333333c0 46.933333 38.4 85.333333 85.333334 85.333333s85.333333-38.4 85.333333-85.333333c0-55.466667-85.333333-149.333333-85.333333-149.333333M221.866667 554.666667L426.666667 349.866667l204.8 204.8m76.8-46.933334L324.266667 128 264.533333 187.733333l102.4 102.4-221.866666 217.6c-25.6 25.6-25.6 64 0 89.6l234.666666 234.666667c25.6 25.6 64 25.6 89.6 0l234.666667-234.666667c25.6-21.333333 29.866667-64 4.266667-89.6z","p-id":"4284"},null,-1)]),8,nZ))}}),oZ=["width","height"],iZ=u.defineComponent({name:"IconColorText",__name:"ColorText",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{d:"M512 725.333333a128 128 0 1 1 0 256 128 128 0 0 1 0-256zM469.333333 85.333333L234.666667 682.666667h96l47.786666-128h266.666667l47.786667 128h96L554.666667 85.333333h-85.333334z m-58.88 384L512 199.253333 613.546667 469.333333H410.453333z","p-id":"4479"},null,-1)]),8,oZ))}}),aZ=["width","height"],sZ=u.defineComponent({name:"IconCylinder",__name:"Cylinder",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M 5.78 6.46 C 5.78 3.64 10.35 1.36 15.98 1.36 C 18.69 1.36 21.28 1.9 23.19 2.85 C 25.11 3.81 26.18 5.11 26.18 6.46 L 26.18 23.46 C 26.18 26.28 21.61 28.56 15.98 28.56 C 10.35 28.56 5.78 26.28 5.78 23.46 Z",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-miterlimit":"10","pointer-events":"all"}),u.createElementVNode("path",{d:"M 26.18 6.46 C 26.18 9.28 21.61 11.56 15.98 11.56 C 10.35 11.56 5.78 9.28 5.78 6.46",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-miterlimit":"10","pointer-events":"all"})],-1)]),8,aZ))}}),lZ=["width","height"],uZ=u.defineComponent({name:"IconDiamond",__name:"Diamond",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M 15.98 1.36 L 29.58 14.96 L 15.98 28.56 L 2.38 14.96 Z",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-miterlimit":"10","pointer-events":"all"})],-1)]),8,lZ))}}),cZ=["width","height"],dZ=u.defineComponent({name:"IconEllipse",__name:"Ellipse",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("ellipse",{cx:"15.84",cy:"14.88",rx:"14.399999999999999",ry:"9.6",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,cZ))}}),fZ=["width","height"],hZ=u.defineComponent({name:"IconFont",__name:"Font",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{d:"M450.857143 319.428571l-97.142857 257.142858q18.857143 0 78 1.142857t91.714285 1.142857q10.857143 0 32.571429-1.142857-49.714286-144.571429-105.142857-258.285715zM36.571429 950.857143l1.142857-45.142857q13.142857-4 32-7.142857t32.571428-6 28.285715-8.285715 25.428571-16.571428 17.714286-28.857143l135.428571-352 160-413.714286h73.142857q4.571429 8 6.285715 12l117.142857 274.285714q18.857143 44.571429 60.571428 147.142858t65.142857 156.857142q8.571429 19.428571 33.142858 82.571429t41.142857 96.285714q11.428571 25.714286 20 32.571429 10.857143 8.571429 50.285714 16.857143t48 11.714285q3.428571 21.714286 3.428571 32.571429 0 2.285714-0.285714 7.428571t-0.285714 7.428572q-36 0-108.571429-4.571429t-109.142857-4.571428q-43.428571 0-122.857143 4t-101.714285 4.571428q0-24.571429 2.285714-44.571428l74.857143-16q0.571429 0 7.142857-1.428572t8.857143-2 8.285714-2.571428 8.571429-3.714286 6.285714-4.571429 5.142857-6.285714 1.428571-8q0-9.142857-17.714285-55.142857t-41.142857-101.428571-24-57.142858l-257.142858-1.142857q-14.857143 33.142857-43.714285 111.714286T254.857143 850.857143q0 12.571429 8 21.428571t24.857143 14 27.714285 7.714286 32.571429 4.857143 23.428571 2.285714q0.571429 10.857143 0.571429 33.142857 0 5.142857-1.142857 15.428572-33.142857 0-99.714286-5.714286T171.428571 938.285714q-4.571429 0-15.142857 2.285715t-12.285714 2.285714q-45.714286 8-107.428571 8z","p-id":"8338"},null,-1)]),8,fZ))}}),pZ=["width","height"],vZ=u.defineComponent({name:"IconOctagon",__name:"Octagon",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"19.74,0 28,8.26 28,19.74 19.74,28 8.26,28 0,19.74 0,8.26 8.26,0",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,pZ))}}),gZ=["width","height"],mZ=u.defineComponent({name:"IconHexagon",__name:"Hexagon",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"6.16,0 21.84,0 28,14 21.84,28 6.16,28 0,14",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,gZ))}}),yZ=["width","height"],_Z=u.defineComponent({name:"IconLine",__name:"Line",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{d:"M127.389 851.634l724.21-724.21 45.198 45.196-724.211 724.212z","p-id":"11226"},null,-1)]),8,yZ))}}),bZ=["width","height"],wZ=u.defineComponent({name:"IconParallelogram",__name:"Parallelogram",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M 1.44 22.08 L 6.24 7.68 L 30.24 7.68 L 25.44 22.08 Z",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-miterlimit":"10","pointer-events":"all"})],-1)]),8,bZ))}}),xZ=["width","height"],EZ=u.defineComponent({name:"IconPentagon",__name:"Pentagon",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,10.6 14,0 28,10.6 22.4,28 5.6,28",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,xZ))}}),CZ=["width","height"],SZ=u.defineComponent({name:"IconRect",__name:"Rect",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("rect",{x:"2.38",y:"1.36",width:"27.2",height:"27.2",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,CZ))}}),NZ=["width","height"],OZ=u.defineComponent({name:"IconRectRadius",__name:"RectRadius",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("rect",{x:"2.38",y:"1.36",width:"27.2",height:"27.2",rx:"3.16",ry:"3.16",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,NZ))}}),AZ=["width","height"],MZ=u.defineComponent({name:"IconHeptagon",__name:"Heptagon",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"14,0 25.06,5.6 28,18.06 20.02,28 7.7,28 0,18.06 2.94,5.6",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,AZ))}}),TZ=["width","height"],PZ=u.defineComponent({name:"IconStepBack",__name:"StepBack",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{d:"M967.111111 967.111111h-113.777778v-113.777778c0-221.866667-176.355556-398.222222-398.222222-398.222222H113.777778V341.333333h341.333333c284.444444 0 512 227.555556 512 512v113.777778z",fill:"#0D1733","p-id":"1011"},null,-1),u.createElementVNode("path",{d:"M409.6 762.311111L51.2 398.222222 409.6 39.822222l85.333333 79.644445-284.444444 278.755555 284.444444 284.444445z",fill:"#0D1733","p-id":"1012"},null,-1)]),8,TZ))}}),DZ=["width","height"],kZ=u.defineComponent({name:"IconStepForward",__name:"StepForward",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("path",{d:"M170.666667 967.111111H56.888889v-113.777778c0-284.444444 227.555556-512 512-512h341.333333v113.777778h-341.333333c-221.866667 0-398.222222 176.355556-398.222222 398.222222v113.777778z",fill:"#0D1733","p-id":"1167"},null,-1),u.createElementVNode("path",{d:"M614.4 762.311111L529.066667 682.666667l284.444444-284.444445-284.444444-278.755555L614.4 39.822222 972.8 398.222222z",fill:"#0D1733","p-id":"1168"},null,-1)]),8,DZ))}}),RZ=["width","height"],LZ=u.defineComponent({name:"IconTable",__name:"Table",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createStaticVNode('<g><g><path d="M 1.26 9.24 L 1.26 3.78 L 30.66 3.78 L 30.66 9.24" fill="none" stroke="currentColor" stroke-width="1" stroke-miterlimit="10" pointer-events="all"></path><path d="M 1.26 9.24 L 1.26 25.62 L 30.66 25.62 L 30.66 9.24" fill="none" stroke="currentColor" stroke-width="10" stroke-miterlimit="10" pointer-events="stroke" visibility="hidden"></path><path d="M 1.26 9.24 L 1.26 25.62 L 30.66 25.62 L 30.66 9.24" fill="none" stroke="currentColor" stroke-width="1" stroke-miterlimit="10" pointer-events="none"></path><path d="M 1.26 9.24 L 30.66 9.24" fill="none" stroke="currentColor" stroke-width="10" stroke-miterlimit="10" pointer-events="stroke" visibility="hidden"></path><path d="M 1.26 9.24 L 30.66 9.24" fill="none" stroke="currentColor" stroke-width="1" stroke-miterlimit="10" pointer-events="none"></path></g><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="2.52px"><text x="15.96" y="7.56">List</text></g><g><rect x="1.26" y="9.24" width="29.4" height="5.46" fill="none" stroke="currentColor" pointer-events="stroke" visibility="hidden" stroke-width="9"></rect><rect x="1.26" y="9.24" width="29.4" height="5.46" fill="none" stroke="none" pointer-events="all"></rect></g><g style=""><clipPath id="mx-clip-1-9-31-9-0"><rect x="1" y="9" width="31" height="9"></rect></clipPath><g fill="#000000" font-family="Helvetica" clip-path="url(https://app.diagrams.net/#mx-clip-1-9-31-9-0)" font-size="2.52px"><text x="2.52" y="13.02">Item 1</text></g></g><g><rect x="1.26" y="14.7" width="29.4" height="5.46" fill="none" stroke="currentColor" pointer-events="stroke" visibility="hidden" stroke-width="9"></rect><rect x="1.26" y="14.7" width="29.4" height="5.46" fill="none" stroke="none" pointer-events="all"></rect></g><g style=""><clipPath id="mx-clip-1-14-31-9-0"><rect x="1" y="14" width="31" height="9"></rect></clipPath><g fill="#000000" font-family="Helvetica" font-size="2.52px"><text x="2.52" y="18.48">Item 2</text></g></g><g><rect x="1.26" y="20.16" width="29.4" height="5.46" fill="none" stroke="currentColor" pointer-events="stroke" visibility="hidden" stroke-width="9"></rect><rect x="1.26" y="20.16" width="29.4" height="5.46" fill="none" stroke="none" pointer-events="all"></rect></g><g style=""><clipPath id="mx-clip-1-20-31-9-0"><rect x="1" y="20" width="31" height="9"></rect></clipPath><g fill="#000000" font-family="Helvetica" font-size="2.52px"><text x="2.52" y="23.94">Item 3</text></g></g></g>',1)]),8,RZ))}}),$Z=["width","height"],BZ=u.defineComponent({name:"IconText",__name:"Text",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"currentColor","font-size":"8px"},[u.createElementVNode("text",{x:"6",y:"12"},"Text"),u.createElementVNode("text",{x:"4",y:"28"},"Node")],-1)]),8,$Z))}}),IZ=["width","height"],jZ=u.defineComponent({name:"IconAddition",__name:"Addition",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,9 9,9 9,0 18,0 18,9 27,9 27,18 18,18 18,27 9,27 9,18 0,18",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,IZ))}}),VZ=["width","height"],zZ=u.defineComponent({name:"IconSubtraction",__name:"Subtraction",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,9 27,9 27,18 0,18",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,VZ))}}),FZ=["width","height"],HZ=u.defineComponent({name:"IconMultiplication",__name:"Multiplication",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,4.5 4.5,0 13.5,9 22.5,0 27,4.5 18,13.5 27,22.5 22.5,27 13.5,18 4.5,27 0,22.5 9,13.5",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,FZ))}}),WZ=["width","height"],GZ=u.defineComponent({name:"IconDivision",__name:"Division",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("circle",{cx:"13.5",cy:"4.5",r:"3.375",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"}),u.createElementVNode("polygon",{points:"0,10 27,10 27,17 0,17",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"}),u.createElementVNode("circle",{cx:"13.5",cy:"22.5",r:"3.375",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,WZ))}}),XZ=["width","height"],UZ=u.defineComponent({name:"IconTrapezoid",__name:"Trapezoid",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"5.32,0 22.68,0 28,28 0,28",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,XZ))}}),YZ=["width","height"],KZ=u.defineComponent({name:"IconTriangle",__name:"Triangle",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M 5.78 1.36 L 26.18 14.96 L 5.78 28.56 Z",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-miterlimit":"10","pointer-events":"all"})],-1)]),8,YZ))}}),qZ=["width","height"],ZZ=u.defineComponent({name:"IconDownArrow",__name:"DownArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"10,0 20,0 20,18 30,18 15,28 0,18 10,18",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,qZ))}}),JZ=["width","height"],QZ=u.defineComponent({name:"IconLeftArrow",__name:"LeftArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,15 10,0 10,10 30,10 30,20 10,20 10,30",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,JZ))}}),eJ=["width","height"],tJ=u.defineComponent({name:"IconRightArrow",__name:"RightArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,10 20,10 20,0 30,15 20,30 20,20 0,20",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,eJ))}}),nJ=["width","height"],rJ=u.defineComponent({name:"IconUpArrow",__name:"UpArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,10 15,0 30,10 20,10 20,28 10,28 10,10",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-miterlimit":"10","pointer-events":"all"})],-1)]),8,nJ))}}),oJ=["width","height"],iJ=u.defineComponent({name:"IconHorizontalArrow",__name:"HorizontalArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,13.6 9,2.2 9,11.2 18,11.2 18,2.2 27,13.6 18,27.2 18,18.2 9,18.2 9,27.2",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,oJ))}}),aJ=["width","height"],sJ=u.defineComponent({name:"IconVerticalArrow",__name:"VerticalArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("polygon",{points:"0,9 13.6,0 27.2,9 18.2,9 18.2,18 27.2,18 13.6,27 0,18 9,18 9,9",fill:"none",stroke:"currentColor","stroke-width":"1","pointer-events":"all"})],-1)]),8,aJ))}}),lJ=["width","height"],uJ=u.defineComponent({name:"IconRightHollowArrow",__name:"RightHollowArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{stroke:"currentColor","stroke-width":"1",fill:"none",d:"M 2 6 L 24 6 L 28 15 L 24 24 L 2 24 L 6 15 Z"})],-1)]),8,lJ))}}),cJ=["width","height"],dJ=u.defineComponent({name:"IconLeftHollowArrow",__name:"LeftHollowArrow",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M 6 6 L 28 6 L 24 15 L 28 24 L 6 24 L 2 15 Z",stroke:"currentColor","stroke-width":"1",fill:"none"})],-1)]),8,cJ))}}),fJ=["width","height"],hJ=u.defineComponent({name:"IconDoubleLeft",__name:"DoubleLeft",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor","stroke-width":"4"},n[0]||(n[0]=[u.createElementVNode("path",{d:"M36.8574 9.8999L22.7153 24.042L36.8574 38.1842M25.5437 9.8999L11.4016 24.042L25.5437 38.1842","stroke-linecap":"butt"},null,-1)]),8,fJ))}}),pJ=["width","height"],vJ=u.defineComponent({name:"IconDocument",__name:"Document",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M 2 4 L 30.4 4 L 30.4 26 Q 24 16 16 26 Q 8 32 2 26 L 2 8 Z",fill:"none","stroke-width":"1",stroke:"currentColor"})],-1)]),8,pJ))}}),gJ=["width","height"],mJ=u.defineComponent({name:"IconCallout",__name:"Callout",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("path",{d:"M 1.6 5.4 L 30.4 5.4 L 30.4 17.4 L 20.8 17.4 L 16 24.6 L 16 17.4 L 1.6 17.4 Z"})],-1)]),8,gJ))}}),yJ=["width","height"],_J=u.defineComponent({name:"IconArchimateEvent",__name:"ArchimateEvent",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("path",{d:"M 22.13 6.42 C 26.86 6.42 30.7 10.26 30.7 15 C 30.7 19.74 26.86 23.57 22.13 23.57 L 1.3 23.57 L 9.88 15 L 1.3 6.42 Z"})],-1)]),8,yJ))}}),bJ=["width","height"],wJ=u.defineComponent({name:"IconNote",__name:"Note",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("path",{d:"M 5.2 1.5 L 18.7 1.5 L 26.8 9.6 L 26.8 28.5 L 5.2 28.5 L 5.2 1.5 Z",fill:"none","stroke-width":"1",stroke:"currentColor"}),u.createElementVNode("path",{d:"M 18.7 1.5 L 18.7 9.6 L 26.8 9.6 Z",fill:"currentColor","stroke-width":"1",stroke:"currentColor","fill-opacity":"0.2"})],-1)]),8,bJ))}}),xJ=["width","height"],EJ=u.defineComponent({name:"IconRectRound",__name:"RectRound",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",null,[u.createElementVNode("rect",{x:"2",y:"6",width:"30",height:"20",rx:"10",ry:"10",fill:"none","stroke-width":"1",stroke:"currentColor"})],-1)]),8,xJ))}}),CJ=["width","height"],SJ=u.defineComponent({name:"IconRightAngledPentagon",__name:"RightAngledPentagon",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("path",{d:"M 16,2 L 30,16 30,30 2,30 2,16 Z"})],-1)]),8,CJ))}}),NJ=["width","height"],OJ=u.defineComponent({name:"IconGroup",__name:"Group",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("rect",{x:"2",y:"6",width:"28",height:"20"}),u.createElementVNode("rect",{x:"4",y:"8",width:"4",height:"2"})],-1)]),8,NJ))}}),AJ=["width","height"],MJ=u.defineComponent({name:"IconDivideLine",__name:"DivideLine",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"2",stroke:"currentColor"},[u.createElementVNode("path",{d:"M 2 16 L 30 16"})],-1)]),8,AJ))}}),TJ=["width","height"],PJ=u.defineComponent({name:"IconDivideDashedLine",__name:"DivideDashedLine",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewBox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"2",stroke:"currentColor"},[u.createElementVNode("path",{d:"M 2 16 L 30 16","stroke-dasharray":"4"})],-1)]),8,TJ))}}),DJ=["width","height"],kJ=u.defineComponent({name:"IconHorizontalSplitRect",__name:"HorizontalSplitRect",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("rect",{x:"2",y:"6",width:"28",height:"20"}),u.createElementVNode("path",{d:"M 10 6 L 10 26"})],-1)]),8,DJ))}}),RJ=["width","height"],LJ=u.defineComponent({name:"IconVerticalSplitRect",__name:"VerticalSplitRect",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("rect",{x:"2",y:"6",width:"28",height:"20"}),u.createElementVNode("path",{d:"M 2 14 L 30 14"})],-1)]),8,RJ))}}),$J=["width","height"],BJ=u.defineComponent({name:"IconHorizontalMultiSplitRect",__name:"HorizontalMultiSplitRect",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("rect",{x:"2",y:"6",width:"28",height:"20"}),u.createElementVNode("path",{d:"M 10 6 L 10 26"}),u.createElementVNode("path",{d:"M 20 6 L 20 26"})],-1)]),8,$J))}}),IJ=["width","height"],jJ=u.defineComponent({name:"IconVerticalMultiSplitRect",__name:"VerticalMultiSplitRect",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("rect",{x:"2",y:"6",width:"28",height:"20"}),u.createElementVNode("path",{d:"M 2 14 L 30 14"}),u.createElementVNode("path",{d:"M 2 20 L 30 20"})],-1)]),8,IJ))}}),VJ=["width","height"],zJ=u.defineComponent({name:"IconPool",__name:"Pool",props:{size:{type:Number,default:32}},setup(e){return(t,n)=>(u.openBlock(),u.createElementBlock("svg",{class:"icon",viewbox:"0 0 32 32",width:e.size,height:e.size},n[0]||(n[0]=[u.createElementVNode("g",{fill:"none","stroke-width":"1",stroke:"currentColor"},[u.createElementVNode("rect",{x:"2",y:"6",width:"28",height:"20"}),u.createElementVNode("path",{d:"M 10 6 L 10 26"})],-1)]),8,VJ))}}),FJ=[a2,tZ,SZ,EJ,OZ,uZ,dZ,BZ,OJ,MJ,PJ,hZ,zZ,Zq,Qq,rZ,iZ,jZ,sZ,GZ,_Z,wZ,PZ,kZ,LZ,HZ,MZ,mZ,EZ,vZ,UZ,KZ,SJ,hJ,rJ,ZZ,QZ,tJ,iJ,sJ,uJ,dJ,vJ,mJ,_J,wJ,kJ,LJ,BJ,jJ,zJ],HJ={install(e){for(const t of FJ)e.component(t.name,t)}};exports.Icons=HJ;exports.IntegralDesigner=Kq;exports.getLfLocalStorage=b2;exports.setLfLocalStorage=zv;
